(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const ba=(t,e)=>t===e,Ie=Symbol("solid-proxy"),Nr=Symbol("solid-track"),Cn={equals:ba};let Zs=no;const Be=1,Tn=2,Ys={owned:null,cleanups:null,context:null,owner:null},dr={};var ae=null;let fr=null,re=null,fe=null,je=null,zn=0;function ie(t,e){const n=re,r=ae,i=t.length===0,s=e===void 0?r:e,o=i?Ys:{owned:null,cleanups:null,context:s?s.context:null,owner:s},l=i?t:()=>t(()=>$e(()=>Vn(o)));ae=o,re=null;try{return et(l,!0)}finally{re=n,ae=r}}function k(t,e){e=e?Object.assign({},Cn,e):Cn;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),to(n,i));return[eo.bind(n),r]}function Ni(t,e,n){const r=Hn(t,e,!0,Be);Dt(r)}function E(t,e,n){const r=Hn(t,e,!1,Be);Dt(r)}function se(t,e,n){Zs=$a;const r=Hn(t,e,!1,Be);(!n||!n.render)&&(r.user=!0),je?je.push(r):Dt(r)}function pe(t,e,n){n=n?Object.assign({},Cn,n):Cn;const r=Hn(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Dt(r),eo.bind(r)}function ya(t){return t&&typeof t=="object"&&"then"in t}function en(t,e,n){let r,i,s;arguments.length===2&&typeof e=="object"||arguments.length===1?(r=!0,i=t,s=e||{}):(r=t,i=e,s=n||{});let o=null,l=dr,a=!1,u="initialValue"in s,c=typeof r=="function"&&pe(r);const d=new Set,[g,m]=(s.storage||k)(s.initialValue),[p,v]=k(void 0),[b,y]=k(void 0,{equals:!1}),[_,x]=k(u?"ready":"unresolved");function I($,O,R,B){return o===$&&(o=null,B!==void 0&&(u=!0),($===l||O===l)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(B,{value:O})),l=dr,T(O,R)),O}function T($,O){et(()=>{O===void 0&&m(()=>$),x(O!==void 0?"errored":u?"ready":"unresolved"),v(O);for(const R of d.keys())R.decrement();d.clear()},!1)}function C(){const $=wa,O=g(),R=p();if(R!==void 0&&!o)throw R;return re&&!re.user&&$&&Ni(()=>{b(),o&&($.resolved||d.has($)||($.increment(),d.add($)))}),O}function A($=!0){if($!==!1&&a)return;a=!1;const O=c?c():r;if(O==null||O===!1){I(o,$e(g));return}const R=l!==dr?l:$e(()=>i(O,{value:g(),refetching:$}));return ya(R)?(o=R,a=!0,queueMicrotask(()=>a=!1),et(()=>{x(u?"refreshing":"pending"),y()},!1),R.then(B=>I(R,B,void 0,O),B=>I(R,void 0,io(B),O))):(I(o,R,void 0,O),R)}return Object.defineProperties(C,{state:{get:()=>_()},error:{get:()=>p()},loading:{get(){const $=_();return $==="pending"||$==="refreshing"}},latest:{get(){if(!u)return C();const $=p();if($&&!o)throw $;return g()}}}),c?Ni(()=>A(!1)):A(!1),[C,{refetch:A,mutate:m}]}function va(t){return et(t,!1)}function $e(t){if(re===null)return t();const e=re;re=null;try{return t()}finally{re=e}}function Xs(t){return ae===null||(ae.cleanups===null?ae.cleanups=[t]:ae.cleanups.push(t)),t}function Pr(){return re}function _a(t){const e=pe(t),n=pe(()=>Dr(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let wa;function eo(){if(this.sources&&this.state)if(this.state===Be)Dt(this);else{const t=fe;fe=null,et(()=>An(this),!1),fe=t}if(re){const t=this.observers?this.observers.length:0;re.sources?(re.sources.push(this),re.sourceSlots.push(t)):(re.sources=[this],re.sourceSlots=[t]),this.observers?(this.observers.push(re),this.observerSlots.push(re.sources.length-1)):(this.observers=[re],this.observerSlots=[re.sources.length-1])}return this.value}function to(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&et(()=>{for(let i=0;i<t.observers.length;i+=1){const s=t.observers[i],o=fr&&fr.running;o&&fr.disposed.has(s),(o?!s.tState:!s.state)&&(s.pure?fe.push(s):je.push(s),s.observers&&ro(s)),o||(s.state=Be)}if(fe.length>1e6)throw fe=[],new Error},!1)),e}function Dt(t){if(!t.fn)return;Vn(t);const e=ae,n=re,r=zn;re=ae=t,xa(t,t.value,r),re=n,ae=e}function xa(t,e,n){let r;try{r=t.fn(e)}catch(i){return t.pure&&(t.state=Be,t.owned&&t.owned.forEach(Vn),t.owned=null),t.updatedAt=n+1,so(i)}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?to(t,r):t.value=r,t.updatedAt=n)}function Hn(t,e,n,r=Be,i){const s={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:ae,context:ae?ae.context:null,pure:n};return ae===null||ae!==Ys&&(ae.owned?ae.owned.push(s):ae.owned=[s]),s}function En(t){if(t.state===0)return;if(t.state===Tn)return An(t);if(t.suspense&&$e(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<zn);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===Be)Dt(t);else if(t.state===Tn){const r=fe;fe=null,et(()=>An(t,e[0]),!1),fe=r}}function et(t,e){if(fe)return t();let n=!1;e||(fe=[]),je?n=!0:je=[],zn++;try{const r=t();return ka(n),r}catch(r){n||(je=null),fe=null,so(r)}}function ka(t){if(fe&&(no(fe),fe=null),t)return;const e=je;je=null,e.length&&et(()=>Zs(e),!1)}function no(t){for(let e=0;e<t.length;e++)En(t[e])}function $a(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:En(r)}for(e=0;e<n;e++)En(t[e])}function An(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const i=r.state;i===Be?r!==e&&(!r.updatedAt||r.updatedAt<zn)&&En(r):i===Tn&&An(r,e)}}}function ro(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=Tn,n.pure?fe.push(n):je.push(n),n.observers&&ro(n))}}function Vn(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),o=n.observerSlots.pop();r<i.length&&(s.sourceSlots[o]=r,i[r]=s,n.observerSlots[r]=o)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)Vn(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function io(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function so(t,e=ae){throw io(t)}function Dr(t){if(typeof t=="function"&&!t.length)return Dr(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=Dr(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}const Sa=Symbol("fallback");function Pi(t){for(let e=0;e<t.length;e++)t[e]()}function Ia(t,e,n={}){let r=[],i=[],s=[],o=0,l=e.length>1?[]:null;return Xs(()=>Pi(s)),()=>{let a=t()||[],u,c;return a[Nr],$e(()=>{let g=a.length,m,p,v,b,y,_,x,I,T;if(g===0)o!==0&&(Pi(s),s=[],r=[],i=[],o=0,l&&(l=[])),n.fallback&&(r=[Sa],i[0]=ie(C=>(s[0]=C,n.fallback())),o=1);else if(o===0){for(i=new Array(g),c=0;c<g;c++)r[c]=a[c],i[c]=ie(d);o=g}else{for(v=new Array(g),b=new Array(g),l&&(y=new Array(g)),_=0,x=Math.min(o,g);_<x&&r[_]===a[_];_++);for(x=o-1,I=g-1;x>=_&&I>=_&&r[x]===a[I];x--,I--)v[I]=i[x],b[I]=s[x],l&&(y[I]=l[x]);for(m=new Map,p=new Array(I+1),c=I;c>=_;c--)T=a[c],u=m.get(T),p[c]=u===void 0?-1:u,m.set(T,c);for(u=_;u<=x;u++)T=r[u],c=m.get(T),c!==void 0&&c!==-1?(v[c]=i[u],b[c]=s[u],l&&(y[c]=l[u]),c=p[c],m.set(T,c)):s[u]();for(c=_;c<g;c++)c in v?(i[c]=v[c],s[c]=b[c],l&&(l[c]=y[c],l[c](c))):i[c]=ie(d);i=i.slice(0,o=g),r=a.slice(0)}return i});function d(g){if(s[c]=g,l){const[m,p]=k(c);return l[c]=p,e(a[c],m)}return e(a[c])}}}function h(t,e){return $e(()=>t(e||{}))}function fn(){return!0}const Mr={get(t,e,n){return e===Ie?n:t.get(e)},has(t,e){return e===Ie?!0:t.has(e)},set:fn,deleteProperty:fn,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:fn,deleteProperty:fn}},ownKeys(t){return t.keys()}};function hr(t){return(t=typeof t=="function"?t():t)?t:{}}function Ca(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function Di(...t){let e=!1;for(let s=0;s<t.length;s++){const o=t[s];e=e||!!o&&Ie in o,t[s]=typeof o=="function"?(e=!0,pe(o)):o}if(e)return new Proxy({get(s){for(let o=t.length-1;o>=0;o--){const l=hr(t[o])[s];if(l!==void 0)return l}},has(s){for(let o=t.length-1;o>=0;o--)if(s in hr(t[o]))return!0;return!1},keys(){const s=[];for(let o=0;o<t.length;o++)s.push(...Object.keys(hr(t[o])));return[...new Set(s)]}},Mr);const n={},r={},i=new Set;for(let s=t.length-1;s>=0;s--){const o=t[s];if(!o)continue;const l=Object.getOwnPropertyNames(o);for(let a=0,u=l.length;a<u;a++){const c=l[a];if(c==="__proto__"||c==="constructor")continue;const d=Object.getOwnPropertyDescriptor(o,c);if(!i.has(c))d.get?(i.add(c),Object.defineProperty(n,c,{enumerable:!0,configurable:!0,get:Ca.bind(r[c]=[d.get.bind(o)])})):(d.value!==void 0&&i.add(c),n[c]=d.value);else{const g=r[c];g?d.get?g.push(d.get.bind(o)):d.value!==void 0&&g.push(()=>d.value):n[c]===void 0&&(n[c]=d.value)}}}return n}function Ta(t,...e){if(Ie in t){const i=new Set(e.length>1?e.flat():e[0]),s=e.map(o=>new Proxy({get(l){return o.includes(l)?t[l]:void 0},has(l){return o.includes(l)&&l in t},keys(){return o.filter(l=>l in t)}},Mr));return s.push(new Proxy({get(o){return i.has(o)?void 0:t[o]},has(o){return i.has(o)?!1:o in t},keys(){return Object.keys(t).filter(o=>!i.has(o))}},Mr)),s}const n={},r=e.map(()=>({}));for(const i of Object.getOwnPropertyNames(t)){const s=Object.getOwnPropertyDescriptor(t,i),o=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let l=!1,a=0;for(const u of e)u.includes(i)&&(l=!0,o?r[a][i]=s.value:Object.defineProperty(r[a],i,s)),++a;l||(o?n[i]=s.value:Object.defineProperty(n,i,s))}return[...r,n]}const oo=t=>`Stale read from <${t}>.`;function ce(t){const e="fallback"in t&&{fallback:()=>t.fallback};return pe(Ia(()=>t.each,t.children,e||void 0))}function U(t){const e=t.keyed,n=pe(()=>t.when,void 0,{equals:(r,i)=>e?r===i:!r==!i});return pe(()=>{const r=n();if(r){const i=t.children;return typeof i=="function"&&i.length>0?$e(()=>i(e?r:()=>{if(!$e(n))throw oo("Show");return t.when})):i}return t.fallback},void 0,void 0)}function si(t){let e=!1;const n=(s,o)=>s[0]===o[0]&&(e?s[1]===o[1]:!s[1]==!o[1])&&s[2]===o[2],r=_a(()=>t.children),i=pe(()=>{let s=r();Array.isArray(s)||(s=[s]);for(let o=0;o<s.length;o++){const l=s[o].when;if(l)return e=!!s[o].keyed,[o,l,s[o]]}return[-1]},void 0,{equals:n});return pe(()=>{const[s,o,l]=i();if(s<0)return t.fallback;const a=l.children;return typeof a=="function"&&a.length>0?$e(()=>a(e?o:()=>{if($e(i)[0]!==s)throw oo("Match");return l.when})):a},void 0,void 0)}function Tt(t){return t}const Ea=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Aa=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ea]),Oa=new Set(["innerHTML","textContent","innerText","children"]),Ra=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Na=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Pa(t,e){const n=Na[t];return typeof n=="object"?n[e]?n.$:void 0:n}const Da=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Ma={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function La(t,e,n){let r=n.length,i=e.length,s=r,o=0,l=0,a=e[i-1].nextSibling,u=null;for(;o<i||l<s;){if(e[o]===n[l]){o++,l++;continue}for(;e[i-1]===n[s-1];)i--,s--;if(i===o){const c=s<r?l?n[l-1].nextSibling:n[s-l]:a;for(;l<s;)t.insertBefore(n[l++],c)}else if(s===l)for(;o<i;)(!u||!u.has(e[o]))&&e[o].remove(),o++;else if(e[o]===n[s-1]&&n[l]===e[i-1]){const c=e[--i].nextSibling;t.insertBefore(n[l++],e[o++].nextSibling),t.insertBefore(n[--s],c),e[i]=n[s]}else{if(!u){u=new Map;let d=l;for(;d<s;)u.set(n[d],d++)}const c=u.get(e[o]);if(c!=null)if(l<c&&c<s){let d=o,g=1,m;for(;++d<i&&d<s&&!((m=u.get(e[d]))==null||m!==c+g);)g++;if(g>c-l){const p=e[o];for(;l<c;)t.insertBefore(n[l++],p)}else t.replaceChild(n[l++],e[o++])}else o++;else e[o++].remove()}}}const Mi="_$DX_DELEGATE";function ja(t,e,n,r={}){let i;return ie(s=>{i=s,e===document?t():f(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{i(),e.textContent=""}}function w(t,e,n){let r;const i=()=>{const o=document.createElement("template");return o.innerHTML=t,n?o.content.firstChild.firstChild:o.content.firstChild},s=e?()=>$e(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return s.cloneNode=s,s}function F(t,e=window.document){const n=e[Mi]||(e[Mi]=new Set);for(let r=0,i=t.length;r<i;r++){const s=t[r];n.has(s)||(n.add(s),e.addEventListener(s,Va))}}function q(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function Ua(t,e,n,r){r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r)}function ct(t,e){e==null?t.removeAttribute("class"):t.className=e}function Wn(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const i=n[0];t.addEventListener(e,n[0]=s=>i.call(t,n[1],s))}else t.addEventListener(e,n)}function oi(t,e,n={}){const r=Object.keys(e||{}),i=Object.keys(n);let s,o;for(s=0,o=i.length;s<o;s++){const l=i[s];!l||l==="undefined"||e[l]||(Li(t,l,!1),delete n[l])}for(s=0,o=r.length;s<o;s++){const l=r[s],a=!!e[l];!l||l==="undefined"||n[l]===a||!a||(Li(t,l,!0),n[l]=a)}return n}function Fa(t,e,n){if(!e)return n?q(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let i,s;for(s in n)e[s]==null&&r.removeProperty(s),delete n[s];for(s in e)i=e[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function Ba(t,e={},n,r){const i={};return r||E(()=>i.children=Et(t,e.children,i.children)),E(()=>e.ref&&e.ref(t)),E(()=>za(t,e,n,!0,i,!0)),i}function li(t,e,n){return $e(()=>t(e,n))}function f(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return Et(t,e,r,n);E(i=>Et(t,e(),i,n),r)}function za(t,e,n,r,i={},s=!1){e||(e={});for(const o in i)if(!(o in e)){if(o==="children")continue;i[o]=ji(t,o,null,i[o],n,s)}for(const o in e){if(o==="children"){r||Et(t,e.children);continue}const l=e[o];i[o]=ji(t,o,l,i[o],n,s)}}function Ha(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function Li(t,e,n){const r=e.trim().split(/\s+/);for(let i=0,s=r.length;i<s;i++)t.classList.toggle(r[i],n)}function ji(t,e,n,r,i,s){let o,l,a,u,c;if(e==="style")return Fa(t,n,r);if(e==="classList")return oi(t,n,r);if(n===r)return r;if(e==="ref")s||n(t);else if(e.slice(0,3)==="on:"){const d=e.slice(3);r&&t.removeEventListener(d,r),n&&t.addEventListener(d,n)}else if(e.slice(0,10)==="oncapture:"){const d=e.slice(10);r&&t.removeEventListener(d,r,!0),n&&t.addEventListener(d,n,!0)}else if(e.slice(0,2)==="on"){const d=e.slice(2).toLowerCase(),g=Da.has(d);if(!g&&r){const m=Array.isArray(r)?r[0]:r;t.removeEventListener(d,m)}(g||n)&&(Wn(t,d,n,g),g&&F([d]))}else if(e.slice(0,5)==="attr:")q(t,e.slice(5),n);else if((c=e.slice(0,5)==="prop:")||(a=Oa.has(e))||!i&&((u=Pa(e,t.tagName))||(l=Aa.has(e)))||(o=t.nodeName.includes("-")))c&&(e=e.slice(5),l=!0),e==="class"||e==="className"?ct(t,n):o&&!l&&!a?t[Ha(e)]=n:t[u||e]=n;else{const d=i&&e.indexOf(":")>-1&&Ma[e.split(":")[0]];d?Ua(t,d,e,n):q(t,Ra[e]||e,n)}return n}function Va(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[e];if(r&&!n.disabled){const i=n[`${e}Data`];if(i!==void 0?r.call(n,i,t):r.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Et(t,e,n,r,i){for(;typeof n=="function";)n=n();if(e===n)return n;const s=typeof e,o=r!==void 0;if(t=o&&n[0]&&n[0].parentNode||t,s==="string"||s==="number")if(s==="number"&&(e=e.toString()),o){let l=n[0];l&&l.nodeType===3?l.data=e:l=document.createTextNode(e),n=vt(t,n,r,l)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e;else if(e==null||s==="boolean")n=vt(t,n,r);else{if(s==="function")return E(()=>{let l=e();for(;typeof l=="function";)l=l();n=Et(t,l,n,r)}),()=>n;if(Array.isArray(e)){const l=[],a=n&&Array.isArray(n);if(Lr(l,e,n,i))return E(()=>n=Et(t,l,n,r,!0)),()=>n;if(l.length===0){if(n=vt(t,n,r),o)return n}else a?n.length===0?Ui(t,l,r):La(t,n,l):(n&&vt(t),Ui(t,l));n=l}else if(e.nodeType){if(Array.isArray(n)){if(o)return n=vt(t,n,r,e);vt(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function Lr(t,e,n,r){let i=!1;for(let s=0,o=e.length;s<o;s++){let l=e[s],a=n&&n[s],u;if(!(l==null||l===!0||l===!1))if((u=typeof l)=="object"&&l.nodeType)t.push(l);else if(Array.isArray(l))i=Lr(t,l,a)||i;else if(u==="function")if(r){for(;typeof l=="function";)l=l();i=Lr(t,Array.isArray(l)?l:[l],Array.isArray(a)?a:[a])||i}else t.push(l),i=!0;else{const c=String(l);a&&a.nodeType===3&&a.data===c?t.push(a):t.push(document.createTextNode(c))}}return i}function Ui(t,e,n=null){for(let r=0,i=e.length;r<i;r++)t.insertBefore(e[r],n)}function vt(t,e,n,r){if(n===void 0)return t.textContent="";const i=r||document.createTextNode("");if(e.length){let s=!1;for(let o=e.length-1;o>=0;o--){const l=e[o];if(i!==l){const a=l.parentNode===t;!s&&!o?a?t.replaceChild(i,l):t.insertBefore(i,n):a&&l.remove()}else s=!0}}else t.insertBefore(i,n);return[i]}const Wa=!1;function lo(t,e){return function(){return t.apply(e,arguments)}}const{toString:qa}=Object.prototype,{getPrototypeOf:ai}=Object,qn=(t=>e=>{const n=qa.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Oe=t=>(t=t.toLowerCase(),e=>qn(e)===t),Jn=t=>e=>typeof e===t,{isArray:Mt}=Array,qt=Jn("undefined");function Ja(t){return t!==null&&!qt(t)&&t.constructor!==null&&!qt(t.constructor)&&ke(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ao=Oe("ArrayBuffer");function Ga(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ao(t.buffer),e}const Ka=Jn("string"),ke=Jn("function"),co=Jn("number"),Gn=t=>t!==null&&typeof t=="object",Qa=t=>t===!0||t===!1,bn=t=>{if(qn(t)!=="object")return!1;const e=ai(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Za=Oe("Date"),Ya=Oe("File"),Xa=Oe("Blob"),ec=Oe("FileList"),tc=t=>Gn(t)&&ke(t.pipe),nc=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ke(t.append)&&((e=qn(t))==="formdata"||e==="object"&&ke(t.toString)&&t.toString()==="[object FormData]"))},rc=Oe("URLSearchParams"),ic=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tn(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Mt(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function uo(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const fo=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ho=t=>!qt(t)&&t!==fo;function jr(){const{caseless:t}=ho(this)&&this||{},e={},n=(r,i)=>{const s=t&&uo(e,i)||i;bn(e[s])&&bn(r)?e[s]=jr(e[s],r):bn(r)?e[s]=jr({},r):Mt(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&tn(arguments[r],n);return e}const sc=(t,e,n,{allOwnKeys:r}={})=>(tn(e,(i,s)=>{n&&ke(i)?t[s]=lo(i,n):t[s]=i},{allOwnKeys:r}),t),oc=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),lc=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},ac=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&ai(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},cc=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},uc=t=>{if(!t)return null;if(Mt(t))return t;let e=t.length;if(!co(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},dc=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ai(Uint8Array)),fc=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},hc=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},gc=Oe("HTMLFormElement"),mc=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Fi=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),pc=Oe("RegExp"),go=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};tn(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},bc=t=>{go(t,(e,n)=>{if(ke(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(!!ke(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},yc=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Mt(t)?r(t):r(String(t).split(e)),n},vc=()=>{},_c=(t,e)=>(t=+t,Number.isFinite(t)?t:e),gr="abcdefghijklmnopqrstuvwxyz",Bi="0123456789",mo={DIGIT:Bi,ALPHA:gr,ALPHA_DIGIT:gr+gr.toUpperCase()+Bi},wc=(t=16,e=mo.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function xc(t){return!!(t&&ke(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const kc=t=>{const e=new Array(10),n=(r,i)=>{if(Gn(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Mt(r)?[]:{};return tn(r,(o,l)=>{const a=n(o,i+1);!qt(a)&&(s[l]=a)}),e[i]=void 0,s}}return r};return n(t,0)},$c=Oe("AsyncFunction"),Sc=t=>t&&(Gn(t)||ke(t))&&ke(t.then)&&ke(t.catch),S={isArray:Mt,isArrayBuffer:ao,isBuffer:Ja,isFormData:nc,isArrayBufferView:Ga,isString:Ka,isNumber:co,isBoolean:Qa,isObject:Gn,isPlainObject:bn,isUndefined:qt,isDate:Za,isFile:Ya,isBlob:Xa,isRegExp:pc,isFunction:ke,isStream:tc,isURLSearchParams:rc,isTypedArray:dc,isFileList:ec,forEach:tn,merge:jr,extend:sc,trim:ic,stripBOM:oc,inherits:lc,toFlatObject:ac,kindOf:qn,kindOfTest:Oe,endsWith:cc,toArray:uc,forEachEntry:fc,matchAll:hc,isHTMLForm:gc,hasOwnProperty:Fi,hasOwnProp:Fi,reduceDescriptors:go,freezeMethods:bc,toObjectSet:yc,toCamelCase:mc,noop:vc,toFiniteNumber:_c,findKey:uo,global:fo,isContextDefined:ho,ALPHABET:mo,generateString:wc,isSpecCompliantForm:xc,toJSONObject:kc,isAsyncFn:$c,isThenable:Sc};function G(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}S.inherits(G,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:S.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const po=G.prototype,bo={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{bo[t]={value:t}});Object.defineProperties(G,bo);Object.defineProperty(po,"isAxiosError",{value:!0});G.from=(t,e,n,r,i,s)=>{const o=Object.create(po);return S.toFlatObject(t,o,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),G.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const Ic=null;function Ur(t){return S.isPlainObject(t)||S.isArray(t)}function yo(t){return S.endsWith(t,"[]")?t.slice(0,-2):t}function zi(t,e,n){return t?t.concat(e).map(function(i,s){return i=yo(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function Cc(t){return S.isArray(t)&&!t.some(Ur)}const Tc=S.toFlatObject(S,{},null,function(e){return/^is[A-Z]/.test(e)});function Kn(t,e,n){if(!S.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=S.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!S.isUndefined(b[v])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&S.isSpecCompliantForm(e);if(!S.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(S.isDate(p))return p.toISOString();if(!a&&S.isBlob(p))throw new G("Blob is not supported. Use a Buffer instead.");return S.isArrayBuffer(p)||S.isTypedArray(p)?a&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,v,b){let y=p;if(p&&!b&&typeof p=="object"){if(S.endsWith(v,"{}"))v=r?v:v.slice(0,-2),p=JSON.stringify(p);else if(S.isArray(p)&&Cc(p)||(S.isFileList(p)||S.endsWith(v,"[]"))&&(y=S.toArray(p)))return v=yo(v),y.forEach(function(x,I){!(S.isUndefined(x)||x===null)&&e.append(o===!0?zi([v],I,s):o===null?v:v+"[]",u(x))}),!1}return Ur(p)?!0:(e.append(zi(b,v,s),u(p)),!1)}const d=[],g=Object.assign(Tc,{defaultVisitor:c,convertValue:u,isVisitable:Ur});function m(p,v){if(!S.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(p),S.forEach(p,function(y,_){(!(S.isUndefined(y)||y===null)&&i.call(e,y,S.isString(_)?_.trim():_,v,g))===!0&&m(y,v?v.concat(_):[_])}),d.pop()}}if(!S.isObject(t))throw new TypeError("data must be an object");return m(t),e}function Hi(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function ci(t,e){this._pairs=[],t&&Kn(t,this,e)}const vo=ci.prototype;vo.append=function(e,n){this._pairs.push([e,n])};vo.toString=function(e){const n=e?function(r){return e.call(this,r,Hi)}:Hi;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Ec(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _o(t,e,n){if(!e)return t;const r=n&&n.encode||Ec,i=n&&n.serialize;let s;if(i?s=i(e,n):s=S.isURLSearchParams(e)?e.toString():new ci(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Ac{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){S.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Vi=Ac,wo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Oc=typeof URLSearchParams<"u"?URLSearchParams:ci,Rc=typeof FormData<"u"?FormData:null,Nc=typeof Blob<"u"?Blob:null,Pc=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Dc=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Te={isBrowser:!0,classes:{URLSearchParams:Oc,FormData:Rc,Blob:Nc},isStandardBrowserEnv:Pc,isStandardBrowserWebWorkerEnv:Dc,protocols:["http","https","file","blob","url","data"]};function Mc(t,e){return Kn(t,new Te.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Te.isNode&&S.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Lc(t){return S.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jc(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function xo(t){function e(n,r,i,s){let o=n[s++];const l=Number.isFinite(+o),a=s>=n.length;return o=!o&&S.isArray(i)?i.length:o,a?(S.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!S.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&S.isArray(i[o])&&(i[o]=jc(i[o])),!l)}if(S.isFormData(t)&&S.isFunction(t.entries)){const n={};return S.forEachEntry(t,(r,i)=>{e(Lc(r),i,n,0)}),n}return null}function Uc(t,e,n){if(S.isString(t))try{return(e||JSON.parse)(t),S.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const ui={transitional:wo,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=S.isObject(e);if(s&&S.isHTMLForm(e)&&(e=new FormData(e)),S.isFormData(e))return i&&i?JSON.stringify(xo(e)):e;if(S.isArrayBuffer(e)||S.isBuffer(e)||S.isStream(e)||S.isFile(e)||S.isBlob(e))return e;if(S.isArrayBufferView(e))return e.buffer;if(S.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Mc(e,this.formSerializer).toString();if((l=S.isFileList(e))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return Kn(l?{"files[]":e}:e,a&&new a,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),Uc(e)):e}],transformResponse:[function(e){const n=this.transitional||ui.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&S.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?G.from(l,G.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Te.classes.FormData,Blob:Te.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};S.forEach(["delete","get","head","post","put","patch"],t=>{ui.headers[t]={}});const di=ui,Fc=S.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bc=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&Fc[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Wi=Symbol("internals");function Ft(t){return t&&String(t).trim().toLowerCase()}function yn(t){return t===!1||t==null?t:S.isArray(t)?t.map(yn):String(t)}function zc(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Hc=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function mr(t,e,n,r,i){if(S.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!S.isString(e)){if(S.isString(r))return e.indexOf(r)!==-1;if(S.isRegExp(r))return r.test(e)}}function Vc(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Wc(t,e){const n=S.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Qn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,a,u){const c=Ft(a);if(!c)throw new Error("header name must be a non-empty string");const d=S.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||a]=yn(l))}const o=(l,a)=>S.forEach(l,(u,c)=>s(u,c,a));return S.isPlainObject(e)||e instanceof this.constructor?o(e,n):S.isString(e)&&(e=e.trim())&&!Hc(e)?o(Bc(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Ft(e),e){const r=S.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return zc(i);if(S.isFunction(n))return n.call(this,i,r);if(S.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ft(e),e){const r=S.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||mr(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Ft(o),o){const l=S.findKey(r,o);l&&(!n||mr(r,r[l],l,n))&&(delete r[l],i=!0)}}return S.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||mr(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return S.forEach(this,(i,s)=>{const o=S.findKey(r,s);if(o){n[o]=yn(i),delete n[s];return}const l=e?Vc(s):String(s).trim();l!==s&&delete n[s],n[l]=yn(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return S.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&S.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Wi]=this[Wi]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Ft(o);r[l]||(Wc(i,o),r[l]=!0)}return S.isArray(e)?e.forEach(s):s(e),this}}Qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);S.reduceDescriptors(Qn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});S.freezeMethods(Qn);const Ue=Qn;function pr(t,e){const n=this||di,r=e||n,i=Ue.from(r.headers);let s=r.data;return S.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function ko(t){return!!(t&&t.__CANCEL__)}function nn(t,e,n){G.call(this,t??"canceled",G.ERR_CANCELED,e,n),this.name="CanceledError"}S.inherits(nn,G,{__CANCEL__:!0});function qc(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new G("Request failed with status code "+n.status,[G.ERR_BAD_REQUEST,G.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Jc=Te.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,l){const a=[];a.push(n+"="+encodeURIComponent(r)),S.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),S.isString(s)&&a.push("path="+s),S.isString(o)&&a.push("domain="+o),l===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Gc(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Kc(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function $o(t,e){return t&&!Gc(e)?Kc(t,e):e}const Qc=Te.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const l=S.isString(o)?i(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function Zc(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Yc(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(a){const u=Date.now(),c=r[s];o||(o=u),n[i]=a,r[i]=u;let d=s,g=0;for(;d!==i;)g+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const m=c&&u-c;return m?Math.round(g*1e3/m):void 0}}function qi(t,e){let n=0;const r=Yc(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,l=s-n,a=r(l),u=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:a||void 0,estimated:a&&o&&u?(o-s)/a:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const Xc=typeof XMLHttpRequest<"u",eu=Xc&&function(t){return new Promise(function(n,r){let i=t.data;const s=Ue.from(t.headers).normalize(),o=t.responseType;let l;function a(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let u;S.isFormData(i)&&(Te.isStandardBrowserEnv||Te.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.getContentType(/^\s*multipart\/form-data/)?S.isString(u=s.getContentType())&&s.setContentType(u.replace(/^\s*(multipart\/form-data);+/,"$1")):s.setContentType("multipart/form-data"));let c=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(p+":"+v))}const d=$o(t.baseURL,t.url);c.open(t.method.toUpperCase(),_o(d,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function g(){if(!c)return;const p=Ue.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),b={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:t,request:c};qc(function(_){n(_),a()},function(_){r(_),a()},b),c=null}if("onloadend"in c?c.onloadend=g:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(g)},c.onabort=function(){!c||(r(new G("Request aborted",G.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new G("Network Error",G.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let v=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const b=t.transitional||wo;t.timeoutErrorMessage&&(v=t.timeoutErrorMessage),r(new G(v,b.clarifyTimeoutError?G.ETIMEDOUT:G.ECONNABORTED,t,c)),c=null},Te.isStandardBrowserEnv){const p=(t.withCredentials||Qc(d))&&t.xsrfCookieName&&Jc.read(t.xsrfCookieName);p&&s.set(t.xsrfHeaderName,p)}i===void 0&&s.setContentType(null),"setRequestHeader"in c&&S.forEach(s.toJSON(),function(v,b){c.setRequestHeader(b,v)}),S.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",qi(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",qi(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=p=>{!c||(r(!p||p.type?new nn(null,t,c):p),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const m=Zc(d);if(m&&Te.protocols.indexOf(m)===-1){r(new G("Unsupported protocol "+m+":",G.ERR_BAD_REQUEST,t));return}c.send(i||null)})},Fr={http:Ic,xhr:eu};S.forEach(Fr,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ji=t=>`- ${t}`,tu=t=>S.isFunction(t)||t===null||t===!1,So={getAdapter:t=>{t=S.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!tu(n)&&(r=Fr[(o=String(n)).toLowerCase()],r===void 0))throw new G(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,a])=>`adapter ${l} `+(a===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Ji).join(`
`):" "+Ji(s[0]):"as no adapter specified";throw new G("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Fr};function br(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new nn(null,t)}function Gi(t){return br(t),t.headers=Ue.from(t.headers),t.data=pr.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),So.getAdapter(t.adapter||di.adapter)(t).then(function(r){return br(t),r.data=pr.call(t,t.transformResponse,r),r.headers=Ue.from(r.headers),r},function(r){return ko(r)||(br(t),r&&r.response&&(r.response.data=pr.call(t,t.transformResponse,r.response),r.response.headers=Ue.from(r.response.headers))),Promise.reject(r)})}const Ki=t=>t instanceof Ue?t.toJSON():t;function At(t,e){e=e||{};const n={};function r(u,c,d){return S.isPlainObject(u)&&S.isPlainObject(c)?S.merge.call({caseless:d},u,c):S.isPlainObject(c)?S.merge({},c):S.isArray(c)?c.slice():c}function i(u,c,d){if(S.isUndefined(c)){if(!S.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function s(u,c){if(!S.isUndefined(c))return r(void 0,c)}function o(u,c){if(S.isUndefined(c)){if(!S.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function l(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const a={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,c)=>i(Ki(u),Ki(c),!0)};return S.forEach(Object.keys(Object.assign({},t,e)),function(c){const d=a[c]||i,g=d(t[c],e[c],c);S.isUndefined(g)&&d!==l||(n[c]=g)}),n}const Io="1.5.1",fi={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{fi[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Qi={};fi.transitional=function(e,n,r){function i(s,o){return"[Axios v"+Io+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new G(i(o," has been removed"+(n?" in "+n:"")),G.ERR_DEPRECATED);return n&&!Qi[o]&&(Qi[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};function nu(t,e,n){if(typeof t!="object")throw new G("options must be an object",G.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],a=l===void 0||o(l,s,t);if(a!==!0)throw new G("option "+s+" must be "+a,G.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new G("Unknown option "+s,G.ERR_BAD_OPTION)}}const Br={assertOptions:nu,validators:fi},We=Br.validators;class On{constructor(e){this.defaults=e,this.interceptors={request:new Vi,response:new Vi}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=At(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Br.assertOptions(r,{silentJSONParsing:We.transitional(We.boolean),forcedJSONParsing:We.transitional(We.boolean),clarifyTimeoutError:We.transitional(We.boolean)},!1),i!=null&&(S.isFunction(i)?n.paramsSerializer={serialize:i}:Br.assertOptions(i,{encode:We.function,serialize:We.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&S.merge(s.common,s[n.method]);s&&S.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=Ue.concat(o,s);const l=[];let a=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(a=a&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let c,d=0,g;if(!a){const p=[Gi.bind(this),void 0];for(p.unshift.apply(p,l),p.push.apply(p,u),g=p.length,c=Promise.resolve(n);d<g;)c=c.then(p[d++],p[d++]);return c}g=l.length;let m=n;for(d=0;d<g;){const p=l[d++],v=l[d++];try{m=p(m)}catch(b){v.call(this,b);break}}try{c=Gi.call(this,m)}catch(p){return Promise.reject(p)}for(d=0,g=u.length;d<g;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=At(this.defaults,e);const n=$o(e.baseURL,e.url);return _o(n,e.params,e.paramsSerializer)}}S.forEach(["delete","get","head","options"],function(e){On.prototype[e]=function(n,r){return this.request(At(r||{},{method:e,url:n,data:(r||{}).data}))}});S.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(At(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}On.prototype[e]=n(),On.prototype[e+"Form"]=n(!0)});const vn=On;class hi{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new nn(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new hi(function(i){e=i}),cancel:e}}}const ru=hi;function iu(t){return function(n){return t.apply(null,n)}}function su(t){return S.isObject(t)&&t.isAxiosError===!0}const zr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zr).forEach(([t,e])=>{zr[e]=t});const ou=zr;function Co(t){const e=new vn(t),n=lo(vn.prototype.request,e);return S.extend(n,vn.prototype,e,{allOwnKeys:!0}),S.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Co(At(t,i))},n}const le=Co(di);le.Axios=vn;le.CanceledError=nn;le.CancelToken=ru;le.isCancel=ko;le.VERSION=Io;le.toFormData=Kn;le.AxiosError=G;le.Cancel=le.CanceledError;le.all=function(e){return Promise.all(e)};le.spread=iu;le.isAxiosError=su;le.mergeConfig=At;le.AxiosHeaders=Ue;le.formToJSON=t=>xo(S.isHTMLForm(t)?new FormData(t):t);le.getAdapter=So.getAdapter;le.HttpStatusCode=ou;le.default=le;const K=le,Zi="http://0.0.0.0:3000",lu="http://0.0.0.0:8080",To="/ws",au="ws://0.0.0.0:8080"+To,Yi=window.location.origin,Xi=window.location.protocol,cu=window.location.host;let Hr;Xi=="http:"?Hr="ws://":Xi=="https:"&&(Hr="wss://");function uu(){let t,e;Yi==Zi?(t=lu,e=au):(t="",e=Hr+cu+To);const n=Yi==Zi;return{serverUrl:t,withCredentials:n,wsUrl:e}}const Q=ie(uu);function du(){const[t,e]=k(null),[n,r]=k(null),[i,s]=k(!0),[o,l]=k(!0),[a,u]=k(""),[c,d]=k("");function g(){m(),p()}function m(){if(!t()||t().length==0){u("Please enter an email."),s(!0);return}let v=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9]+)+$/;if(!t().match(v)){u("Email is invalid."),s(!0);return}u(""),s(!1)}function p(){if(!n()||n().length==0){d("Please enter a password."),l(!0);return}let v=/^[a-zA-Z0-9.!?#$%&^_@*]+$/;if(!n().match(v)){d("Password is invalid (a-z, A-Z, 0-9, .!?#$%&^_@* allowed)."),l(!0);return}return d(""),l(!1),!0}return{email:t,setEmail:e,password:n,setPassword:r,errorInEmail:i,setErrorInEmail:s,errorInPassword:o,setErrorInPassword:l,checkEmailAndPassword:g,emailErrorMsg:a,passwordErrorMsg:c}}const ht=ie(du),fu=w("<div><span></span><br>");function hu(){const[t,e]=k(!1),[n,r]=k(""),[i,s]=k(""),[o,l]=k(!0);function a(){const u=i().split(`
`);return h(ce,{each:u,children:c=>(()=>{const d=fu(),g=d.firstChild;return f(g,c),d})()})}return{showErrorDialog:t,setShowErrorDialog:e,errorDialogTitle:n,setErrorDialogTitle:r,errorDialogText:i,setErrorDialogText:s,getErrorText:a,showDismiss:o,setShowDismiss:l}}const rn=ie(hu);function gu(){const[t,e]=k(!1);return{systemSetupNeeded:t,setSystemSetupNeeded:e}}const Zn=ie(gu),{setShowErrorDialog:mu,setErrorDialogTitle:pu,setErrorDialogText:yr}=rn,{setSystemSetupNeeded:bu}=Zn;function Y(t){if(console.error(t),pu("Error"),t.response!=null){if(t.response.status==404)yr("Resource not found");else if(t.response.status==403)yr("You are not authorized for "+t.request.responseURL);else if(t.response.statusText=="SYSTEM_SETUP_NEEDED"){bu(!0);return}else{let e="";t.response.data.msg?e=t.response.data.msg:t.response.data&&(e=t.response.data),yr(e+`

Please contact the system admin if help is needed.`)}mu(!0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yu=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ao={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,c=s>>2,d=(s&3)<<4|l>>4;let g=(l&15)<<2|u>>6,m=u&63;a||(m=64,o||(g=64)),r.push(n[c],n[d],n[g],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Eo(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yu(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new vu;const g=s<<2|l>>4;if(r.push(g),u!==64){const m=l<<4&240|u>>2;if(r.push(m),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vu extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _u=function(t){const e=Eo(t);return Ao.encodeByteArray(e,!0)},Oo=function(t){return _u(t).replace(/\./g,"")},Ro=function(t){try{return Ao.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=()=>wu().__FIREBASE_DEFAULTS__,ku=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$u=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ro(t[1]);return e&&JSON.parse(e)},gi=()=>{try{return xu()||ku()||$u()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Su=t=>{var e,n;return(n=(e=gi())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},No=()=>{var t;return(t=gi())===null||t===void 0?void 0:t.config},Po=t=>{var e;return(e=gi())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ge())}function Tu(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Eu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Au(){const t=ge();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ou(){try{return typeof indexedDB=="object"}catch{return!1}}function Ru(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu="FirebaseError";class it extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Nu,Object.setPrototypeOf(this,it.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sn.prototype.create)}}class sn{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Pu(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new it(i,l,r)}}function Pu(t,e){return t.replace(Du,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Du=/\{\$([^}]+)}/g;function Mu(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rn(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(es(s)&&es(o)){if(!Rn(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function es(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bt(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function zt(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Lu(t,e){const n=new ju(t,e);return n.subscribe.bind(n)}class ju{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Uu(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vr),i.error===void 0&&(i.error=vr),i.complete===void 0&&(i.complete=vr);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Uu(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vr(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t){return t&&t._delegate?t._delegate:t}class Ot{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Iu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zu(e))try{this.getOrInitializeService({instanceIdentifier:lt})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=lt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lt){return this.instances.has(e)}getOptions(e=lt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Bu(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lt){return this.component?this.component.multipleInstances?e:lt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bu(t){return t===lt?void 0:t}function zu(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Fu(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(X||(X={}));const Vu={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},Wu=X.INFO,qu={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},Ju=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qu[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Do{constructor(e){this.name=e,this._logLevel=Wu,this._logHandler=Ju,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in X))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vu[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...e),this._logHandler(this,X.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...e),this._logHandler(this,X.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,X.INFO,...e),this._logHandler(this,X.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,X.WARN,...e),this._logHandler(this,X.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...e),this._logHandler(this,X.ERROR,...e)}}const Gu=(t,e)=>e.some(n=>t instanceof n);let ts,ns;function Ku(){return ts||(ts=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qu(){return ns||(ns=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mo=new WeakMap,Vr=new WeakMap,Lo=new WeakMap,_r=new WeakMap,mi=new WeakMap;function Zu(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ye(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Mo.set(n,t)}).catch(()=>{}),mi.set(e,t),e}function Yu(t){if(Vr.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Vr.set(t,e)}let Wr={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vr.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Lo.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ye(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Xu(t){Wr=t(Wr)}function ed(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wr(this),e,...n);return Lo.set(r,e.sort?e.sort():[e]),Ye(r)}:Qu().includes(t)?function(...e){return t.apply(wr(this),e),Ye(Mo.get(this))}:function(...e){return Ye(t.apply(wr(this),e))}}function td(t){return typeof t=="function"?ed(t):(t instanceof IDBTransaction&&Yu(t),Gu(t,Ku())?new Proxy(t,Wr):t)}function Ye(t){if(t instanceof IDBRequest)return Zu(t);if(_r.has(t))return _r.get(t);const e=td(t);return e!==t&&(_r.set(t,e),mi.set(e,t)),e}const wr=t=>mi.get(t);function nd(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Ye(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Ye(o.result),a.oldVersion,a.newVersion,Ye(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const rd=["get","getKey","getAll","getAllKeys","count"],id=["put","add","delete","clear"],xr=new Map;function rs(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xr.get(e))return xr.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=id.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rd.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return xr.set(e,s),s}Xu(t=>({...t,get:(e,n,r)=>rs(e,n)||t.get(e,n,r),has:(e,n)=>!!rs(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(od(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function od(t){const e=t.getComponent();return e?.type==="VERSION"}const qr="@firebase/app",is="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut=new Do("@firebase/app"),ld="@firebase/app-compat",ad="@firebase/analytics-compat",cd="@firebase/analytics",ud="@firebase/app-check-compat",dd="@firebase/app-check",fd="@firebase/auth",hd="@firebase/auth-compat",gd="@firebase/database",md="@firebase/database-compat",pd="@firebase/functions",bd="@firebase/functions-compat",yd="@firebase/installations",vd="@firebase/installations-compat",_d="@firebase/messaging",wd="@firebase/messaging-compat",xd="@firebase/performance",kd="@firebase/performance-compat",$d="@firebase/remote-config",Sd="@firebase/remote-config-compat",Id="@firebase/storage",Cd="@firebase/storage-compat",Td="@firebase/firestore",Ed="@firebase/firestore-compat",Ad="firebase",Od="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="[DEFAULT]",Rd={[qr]:"fire-core",[ld]:"fire-core-compat",[cd]:"fire-analytics",[ad]:"fire-analytics-compat",[dd]:"fire-app-check",[ud]:"fire-app-check-compat",[fd]:"fire-auth",[hd]:"fire-auth-compat",[gd]:"fire-rtdb",[md]:"fire-rtdb-compat",[pd]:"fire-fn",[bd]:"fire-fn-compat",[yd]:"fire-iid",[vd]:"fire-iid-compat",[_d]:"fire-fcm",[wd]:"fire-fcm-compat",[xd]:"fire-perf",[kd]:"fire-perf-compat",[$d]:"fire-rc",[Sd]:"fire-rc-compat",[Id]:"fire-gcs",[Cd]:"fire-gcs-compat",[Td]:"fire-fst",[Ed]:"fire-fst-compat","fire-js":"fire-js",[Ad]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn=new Map,Gr=new Map;function Nd(t,e){try{t.container.addComponent(e)}catch(n){ut.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jt(t){const e=t.name;if(Gr.has(e))return ut.debug(`There were multiple attempts to register component ${e}.`),!1;Gr.set(e,t);for(const n of Nn.values())Nd(n,t);return!0}function jo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Xe=new sn("app","Firebase",Pd);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ot("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xe.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=Od;function Uo(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jr,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xe.create("bad-app-name",{appName:String(i)});if(n||(n=No()),!n)throw Xe.create("no-options");const s=Nn.get(i);if(s){if(Rn(n,s.options)&&Rn(r,s.config))return s;throw Xe.create("duplicate-app",{appName:i})}const o=new Hu(i);for(const a of Gr.values())o.addComponent(a);const l=new Dd(n,r,o);return Nn.set(i,l),l}function Md(t=Jr){const e=Nn.get(t);if(!e&&t===Jr&&No())return Uo();if(!e)throw Xe.create("no-app",{appName:t});return e}function kt(t,e,n){var r;let i=(r=Rd[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ut.warn(l.join(" "));return}Jt(new Ot(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="firebase-heartbeat-database",jd=1,Gt="firebase-heartbeat-store";let kr=null;function Fo(){return kr||(kr=nd(Ld,jd,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Gt)}}}).catch(t=>{throw Xe.create("idb-open",{originalErrorMessage:t.message})})),kr}async function Ud(t){try{return await(await Fo()).transaction(Gt).objectStore(Gt).get(Bo(t))}catch(e){if(e instanceof it)ut.warn(e.message);else{const n=Xe.create("idb-get",{originalErrorMessage:e?.message});ut.warn(n.message)}}}async function ss(t,e){try{const r=(await Fo()).transaction(Gt,"readwrite");await r.objectStore(Gt).put(e,Bo(t)),await r.done}catch(n){if(n instanceof it)ut.warn(n.message);else{const r=Xe.create("idb-set",{originalErrorMessage:n?.message});ut.warn(r.message)}}}function Bo(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=1024,Bd=30*24*60*60*1e3;class zd{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Vd(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=os();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Bd}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=os(),{heartbeatsToSend:n,unsentEntries:r}=Hd(this._heartbeatsCache.heartbeats),i=Oo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function os(){return new Date().toISOString().substring(0,10)}function Hd(t,e=Fd){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ls(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ls(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Vd{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ou()?Ru().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Ud(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ss(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ss(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ls(t){return Oo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t){Jt(new Ot("platform-logger",e=>new sd(e),"PRIVATE")),Jt(new Ot("heartbeat",e=>new zd(e),"PRIVATE")),kt(qr,is,t),kt(qr,is,"esm2017"),kt("fire-js","")}Wd("");function pi(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zo(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qd=zo,Ho=new sn("auth","Firebase",zo());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn=new Do("@firebase/auth");function Jd(t,...e){Pn.logLevel<=X.WARN&&Pn.warn(`Auth (${ln}): ${t}`,...e)}function _n(t,...e){Pn.logLevel<=X.ERROR&&Pn.error(`Auth (${ln}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,...e){throw bi(t,...e)}function Ee(t,...e){return bi(t,...e)}function Gd(t,e,n){const r=Object.assign(Object.assign({},qd()),{[e]:n});return new sn("auth","Firebase",r).create(e,{appName:t.name})}function bi(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ho.create(t,...e)}function j(t,e,...n){if(!t)throw bi(e,...n)}function Me(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _n(e),new Error(e)}function Fe(t,e){t||Me(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Kd(){return as()==="http:"||as()==="https:"}function as(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kd()||Tu()||"connection"in navigator)?navigator.onLine:!0}function Zd(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fe(n>e,"Short delay should be less than long delay!"),this.isMobile=Cu()||Eu()}get(){return Qd()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,e){Fe(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new an(3e4,6e4);function Lt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gt(t,e,n,r,i={}){return Wo(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=on(Object.assign({key:t.config.apiKey},o)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),Vo.fetch()(qo(t,t.config.apiHost,n,l),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},s))})}async function Wo(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Yd),e);try{const i=new ef(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw hn(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[a,u]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw hn(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw hn(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw hn(t,"user-disabled",o);const c=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Gd(t,c,u);Ce(t,c)}}catch(i){if(i instanceof it)throw i;Ce(t,"network-request-failed",{message:String(i)})}}async function Yn(t,e,n,r,i={}){const s=await gt(t,e,n,r,i);return"mfaPendingCredential"in s&&Ce(t,"multi-factor-auth-required",{_serverResponse:s}),s}function qo(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?yi(t.config,i):`${t.config.apiScheme}://${i}`}class ef{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ee(this.auth,"network-request-failed")),Xd.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hn(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ee(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(t,e){return gt(t,"POST","/v1/accounts:delete",e)}async function nf(t,e){return gt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rf(t,e=!1){const n=ze(t),r=await n.getIdToken(e),i=vi(r);j(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Wt($r(i.auth_time)),issuedAtTime:Wt($r(i.iat)),expirationTime:Wt($r(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function $r(t){return Number(t)*1e3}function vi(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _n("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ro(n);return i?JSON.parse(i):(_n("Failed to decode base64 JWT payload"),null)}catch(i){return _n("Caught error parsing JWT payload as JSON",i?.toString()),null}}function sf(t){const e=vi(t);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kt(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof it&&of(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function of({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wt(this.lastLoginAt),this.creationTime=Wt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dn(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Kt(t,nf(n,{idToken:r}));j(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?uf(s.providerUserInfo):[],l=cf(t.providerData,o),a=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!l?.length,c=a?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Jo(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function af(t){const e=ze(t);await Dn(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cf(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uf(t){return t.map(e=>{var{providerId:n}=e,r=pi(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(t,e){const n=await Wo(t,{},async()=>{const r=on({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=qo(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Vo.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sf(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return j(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await df(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Qt;return r&&(j(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(j(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(j(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qt,this.toJSON())}_performRefresh(){return Me("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e){j(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class at{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=pi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Jo(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Kt(this,this.stsTokenManager.getToken(this.auth,e));return j(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rf(this,e)}reload(){return af(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new at(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dn(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Kt(this,tf(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,a,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:x,emailVerified:I,isAnonymous:T,providerData:C,stsTokenManager:A}=n;j(x&&A,e,"internal-error");const $=Qt.fromJSON(this.name,A);j(typeof x=="string",e,"internal-error"),qe(d,e.name),qe(g,e.name),j(typeof I=="boolean",e,"internal-error"),j(typeof T=="boolean",e,"internal-error"),qe(m,e.name),qe(p,e.name),qe(v,e.name),qe(b,e.name),qe(y,e.name),qe(_,e.name);const O=new at({uid:x,auth:e,email:g,emailVerified:I,displayName:d,isAnonymous:T,photoURL:p,phoneNumber:m,tenantId:v,stsTokenManager:$,createdAt:y,lastLoginAt:_});return C&&Array.isArray(C)&&(O.providerData=C.map(R=>Object.assign({},R))),b&&(O._redirectEventId=b),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Qt;i.updateFromServerResponse(n);const s=new at({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Dn(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new Map;function Le(t){Fe(t instanceof Function,"Expected a class definition");let e=cs.get(t);return e?(Fe(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cs.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Go.type="NONE";const us=Go;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,e,n){return`firebase:${t}:${e}:${n}`}class $t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wn(this.userKey,i.apiKey,s),this.fullPersistenceKey=wn("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?at._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $t(Le(us),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Le(us);const o=wn(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const c=await u._get(o);if(c){const d=at._fromJSON(e,c);u!==s&&(l=d),s=u;break}}catch{}const a=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new $t(s,e,r):(s=a[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new $t(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zo(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ko(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xo(e))return"Blackberry";if(el(e))return"Webos";if(_i(e))return"Safari";if((e.includes("chrome/")||Qo(e))&&!e.includes("edge/"))return"Chrome";if(Yo(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Ko(t=ge()){return/firefox\//i.test(t)}function _i(t=ge()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qo(t=ge()){return/crios\//i.test(t)}function Zo(t=ge()){return/iemobile/i.test(t)}function Yo(t=ge()){return/android/i.test(t)}function Xo(t=ge()){return/blackberry/i.test(t)}function el(t=ge()){return/webos/i.test(t)}function Xn(t=ge()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ff(t=ge()){var e;return Xn(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hf(){return Au()&&document.documentMode===10}function tl(t=ge()){return Xn(t)||Yo(t)||el(t)||Xo(t)||/windows phone/i.test(t)||Zo(t)}function gf(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t,e=[]){let n;switch(t){case"Browser":n=ds(ge());break;case"Worker":n=`${ds(ge())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ln}/${r}`}async function rl(t,e){return gt(t,"GET","/v2/recaptchaConfig",Lt(t,e))}function fs(t){return t!==void 0&&t.enterprise!==void 0}class il{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function sl(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ee("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",mf().appendChild(r)})}function pf(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const bf="https://www.google.com/recaptcha/enterprise.js?render=",yf="recaptcha-enterprise",vf="NO_RECAPTCHA";class ol{constructor(e){this.type=yf,this.auth=mt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{rl(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new il(a);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(a=>{l(a)})})}function i(s,o,l){const a=window.grecaptcha;fs(a)?a.enterprise.ready(()=>{a.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(vf)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&fs(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}sl(bf+l).then(()=>{i(l,s,o)}).catch(a=>{o(a)})}}).catch(l=>{o(l)})})}}async function Rt(t,e,n,r=!1){const i=new ol(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const a=e(s);o(a)}catch(a){l(a)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hs(this),this.idTokenSubscription=new hs(this),this.beforeStateQueue=new _f(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ho,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Le(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await $t.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i?._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===l)&&a?.user&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dn(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Zd()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ze(e):null;return n&&j(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&j(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Le(e))})}async initializeRecaptchaConfig(){const e=await rl(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new il(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new ol(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Le(e)||this._popupRedirectResolver;j(n,this,"argument-error"),this.redirectPersistenceManager=await $t.create(this,[Le(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return j(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&Jd(`Error while retrieving App Check token: ${n.error}`),n?.token}}function mt(t){return ze(t)}class hs{constructor(e){this.auth=e,this.observer=null,this.addObserver=Lu(n=>this.observer=n)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t,e){const n=jo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Rn(s,e??{}))return i;Ce(i,"already-initialized")}return n.initialize({options:e})}function kf(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Le);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function $f(t,e,n){const r=mt(t);j(r._canInitEmulator,r,"emulator-config-failed"),j(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=ll(e),{host:o,port:l}=Sf(e),a=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||If()}function ll(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Sf(t){const e=ll(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:gs(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:gs(o)}}}function gs(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function If(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Me("not implemented")}_getIdTokenResponse(e){return Me("not implemented")}_linkToIdToken(e,n){return Me("not implemented")}_getReauthenticationResolver(e){return Me("not implemented")}}async function Cf(t,e){return gt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sr(t,e){return Yn(t,"POST","/v1/accounts:signInWithPassword",Lt(t,e))}async function al(t,e){return gt(t,"POST","/v1/accounts:sendOobCode",Lt(t,e))}async function Ir(t,e){return al(t,e)}async function Cr(t,e){return al(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tf(t,e){return Yn(t,"POST","/v1/accounts:signInWithEmailLink",Lt(t,e))}async function Ef(t,e){return Yn(t,"POST","/v1/accounts:signInWithEmailLink",Lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt extends wi{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Zt(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zt(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Rt(e,r,"signInWithPassword");return Sr(e,i)}else return Sr(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Rt(e,r,"signInWithPassword");return Sr(e,s)}else return Promise.reject(i)});case"emailLink":return Tf(e,{email:this._email,oobCode:this._password});default:Ce(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Cf(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Ef(e,{idToken:n,email:this._email,oobCode:this._password});default:Ce(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function St(t,e){return Yn(t,"POST","/v1/accounts:signInWithIdp",Lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="http://localhost";class dt extends wi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new dt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ce("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=pi(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new dt(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return St(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,St(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,St(e,n)}buildRequest(){const e={requestUri:Af,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=on(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Rf(t){const e=Bt(zt(t)).link,n=e?Bt(zt(e)).deep_link_id:null,r=Bt(zt(t)).deep_link_id;return(r?Bt(zt(r)).link:null)||r||n||e||t}class xi{constructor(e){var n,r,i,s,o,l;const a=Bt(zt(e)),u=(n=a.apiKey)!==null&&n!==void 0?n:null,c=(r=a.oobCode)!==null&&r!==void 0?r:null,d=Of((i=a.mode)!==null&&i!==void 0?i:null);j(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=a.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Rf(e);try{return new xi(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(){this.providerId=jt.PROVIDER_ID}static credential(e,n){return Zt._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xi.parseLink(n);return j(r,"argument-error"),Zt._fromEmailAndCode(e,r.code,r.tenantId)}}jt.PROVIDER_ID="password";jt.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn extends cl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge extends cn{constructor(){super("facebook.com")}static credential(e){return dt._fromParams({providerId:Ge.PROVIDER_ID,signInMethod:Ge.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ge.credentialFromTaggedObject(e)}static credentialFromError(e){return Ge.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ge.credential(e.oauthAccessToken)}catch{return null}}}Ge.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ge.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke extends cn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return dt._fromParams({providerId:Ke.PROVIDER_ID,signInMethod:Ke.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ke.credentialFromTaggedObject(e)}static credentialFromError(e){return Ke.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ke.credential(n,r)}catch{return null}}}Ke.GOOGLE_SIGN_IN_METHOD="google.com";Ke.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe extends cn{constructor(){super("github.com")}static credential(e){return dt._fromParams({providerId:Qe.PROVIDER_ID,signInMethod:Qe.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qe.credentialFromTaggedObject(e)}static credentialFromError(e){return Qe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qe.credential(e.oauthAccessToken)}catch{return null}}}Qe.GITHUB_SIGN_IN_METHOD="github.com";Qe.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze extends cn{constructor(){super("twitter.com")}static credential(e,n){return dt._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ze.credentialFromTaggedObject(e)}static credentialFromError(e){return Ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ze.credential(n,r)}catch{return null}}}Ze.TWITTER_SIGN_IN_METHOD="twitter.com";Ze.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await at._fromIdTokenResponse(e,r,i),o=ms(r);return new Nt({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ms(r);return new Nt({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ms(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn extends it{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mn.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mn(e,n,r,i)}}function ul(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Mn._fromErrorAndOperation(t,s,e,r):s})}async function Nf(t,e,n=!1){const r=await Kt(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nt._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pf(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Kt(t,ul(r,i,e,t),n);j(s.idToken,r,"internal-error");const o=vi(s.idToken);j(o,r,"internal-error");const{sub:l}=o;return j(t.uid===l,r,"user-mismatch"),Nt._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ce(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t,e,n=!1){const r="signIn",i=await ul(t,r,e),s=await Nt._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Df(t,e){return dl(mt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t,e,n){var r;j(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),j(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(j(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(j(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mf(t,e,n){var r;const i=mt(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await Rt(i,s,"getOobCode",!0);n&&xn(i,o,n),await Ir(i,o)}else n&&xn(i,s,n),await Ir(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const l=await Rt(i,s,"getOobCode",!0);n&&xn(i,l,n),await Ir(i,l)}else return Promise.reject(o)})}function Lf(t,e,n){return Df(ze(t),jt.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jf(t,e,n){var r;const i=mt(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(l,a){j(a.handleCodeInApp,i,"argument-error"),a&&xn(i,l,a)}if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const l=await Rt(i,s,"getOobCode",!0);o(l,n),await Cr(i,l)}else o(s,n),await Cr(i,s).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=await Rt(i,s,"getOobCode",!0);o(a,n),await Cr(i,a)}else return Promise.reject(l)})}function Uf(t,e,n,r){return ze(t).onIdTokenChanged(e,n,r)}function Ff(t,e,n){return ze(t).beforeAuthStateChanged(e,n)}function Bf(t,e,n,r){return ze(t).onAuthStateChanged(e,n,r)}function fl(t){return ze(t).signOut()}const Ln="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ln,"1"),this.storage.removeItem(Ln),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(){const t=ge();return _i(t)||Xn(t)}const Hf=1e3,Vf=10;class gl extends hl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=zf()&&gf(),this.fallbackToPolling=tl(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,a)=>{this.notifyListeners(o,a)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);hf()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Vf):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Hf)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gl.type="LOCAL";const Wf=gl;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends hl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ml.type="SESSION";const pl=ml;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new er(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),a=await qf(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:a})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}er.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,a)=>{const u=ki("",20);i.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const g=d;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(c),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(){return window}function Gf(t){Ae().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(){return typeof Ae().WorkerGlobalScope<"u"&&typeof Ae().importScripts=="function"}async function Kf(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qf(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Zf(){return bl()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="firebaseLocalStorageDb",Yf=1,jn="firebaseLocalStorage",vl="fbase_key";class un{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tr(t,e){return t.transaction([jn],e?"readwrite":"readonly").objectStore(jn)}function Xf(){const t=indexedDB.deleteDatabase(yl);return new un(t).toPromise()}function Qr(){const t=indexedDB.open(yl,Yf);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jn,{keyPath:vl})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jn)?e(r):(r.close(),await Xf(),e(await Qr()))})})}async function ps(t,e,n){const r=tr(t,!0).put({[vl]:e,value:n});return new un(r).toPromise()}async function eh(t,e){const n=tr(t,!1).get(e),r=await new un(n).toPromise();return r===void 0?null:r.value}function bs(t,e){const n=tr(t,!0).delete(e);return new un(n).toPromise()}const th=800,nh=3;class _l{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qr(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nh)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bl()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=er._getInstance(Zf()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Kf(),!this.activeServiceWorker)return;this.sender=new Jf(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Qf()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qr();return await ps(e,Ln,"1"),await bs(e,Ln),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ps(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eh(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bs(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=tr(i,!1).getAll();return new un(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),th)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_l.type="LOCAL";const rh=_l;new an(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t,e){return e?Le(e):(j(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends wi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return St(e,this._buildIdpRequest())}_linkToIdToken(e,n){return St(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return St(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sh(t){return dl(t.auth,new $i(t),t.bypassAuthState)}function oh(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),Pf(n,new $i(t),t.bypassAuthState)}async function lh(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),Nf(n,new $i(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sh;case"linkViaPopup":case"linkViaRedirect":return lh;case"reauthViaPopup":case"reauthViaRedirect":return oh;default:Ce(this.auth,"internal-error")}}resolve(e){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new an(2e3,1e4);class wt extends wl{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,wt.currentPopupAction&&wt.currentPopupAction.cancel(),wt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return j(e,this.auth,"internal-error"),e}async onExecution(){Fe(this.filter.length===1,"Popup operations only handle one event");const e=ki();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ee(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ah.get())};e()}}wt.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="pendingRedirect",kn=new Map;class uh extends wl{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kn.get(this.auth._key());if(!e){try{const r=await dh(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kn.set(this.auth._key(),e)}return this.bypassAuthState||kn.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dh(t,e){const n=gh(e),r=hh(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function fh(t,e){kn.set(t._key(),e)}function hh(t){return Le(t._redirectPersistence)}function gh(t){return wn(ch,t.config.apiKey,t.name)}async function mh(t,e,n=!1){const r=mt(t),i=ih(r,e),o=await new uh(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=10*60*1e3;class bh{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yh(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xl(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ee(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ph&&this.cachedEventUids.clear(),this.cachedEventUids.has(ys(e))}saveEventToCache(e){this.cachedEventUids.add(ys(e)),this.lastProcessedEventTime=Date.now()}}function ys(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xl({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function yh(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xl(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(t,e={}){return gt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wh=/^https?/;async function xh(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vh(t);for(const n of e)try{if(kh(n))return}catch{}Ce(t,"unauthorized-domain")}function kh(t){const e=Kr(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!wh.test(n))return!1;if(_h.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new an(3e4,6e4);function vs(){const t=Ae().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Sh(t){return new Promise((e,n)=>{var r,i,s;function o(){vs(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vs(),n(Ee(t,"network-request-failed"))},timeout:$h.get()})}if(!((i=(r=Ae().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ae().gapi)===null||s===void 0)&&s.load)o();else{const l=pf("iframefcb");return Ae()[l]=()=>{gapi.load?o():n(Ee(t,"network-request-failed"))},sl(`https://apis.google.com/js/api.js?onload=${l}`).catch(a=>n(a))}}).catch(e=>{throw $n=null,e})}let $n=null;function Ih(t){return $n=$n||Sh(t),$n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new an(5e3,15e3),Th="__/auth/iframe",Eh="emulator/auth/iframe",Ah={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rh(t){const e=t.config;j(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yi(e,Eh):`https://${t.config.authDomain}/${Th}`,r={apiKey:e.apiKey,appName:t.name,v:ln},i=Oh.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${on(r).slice(1)}`}async function Nh(t){const e=await Ih(t),n=Ae().gapi;return j(n,t,"internal-error"),e.open({where:document.body,url:Rh(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ah,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ee(t,"network-request-failed"),l=Ae().setTimeout(()=>{s(o)},Ch.get());function a(){Ae().clearTimeout(l),i(r)}r.ping(a).then(a,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dh=500,Mh=600,Lh="_blank",jh="http://localhost";class _s{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uh(t,e,n,r=Dh,i=Mh){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const a=Object.assign(Object.assign({},Ph),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ge().toLowerCase();n&&(l=Qo(u)?Lh:n),Ko(u)&&(e=e||jh,a.scrollbars="yes");const c=Object.entries(a).reduce((g,[m,p])=>`${g}${m}=${p},`,"");if(ff(u)&&l!=="_self")return Fh(e||"",l),new _s(null);const d=window.open(e||"",l,c);j(d,t,"popup-blocked");try{d.focus()}catch{}return new _s(d)}function Fh(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh="__/auth/handler",zh="emulator/auth/handler",Hh=encodeURIComponent("fac");async function ws(t,e,n,r,i,s){j(t.config.authDomain,t,"auth-domain-config-required"),j(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ln,eventId:i};if(e instanceof cl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Mu(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof cn){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const c of Object.keys(l))l[c]===void 0&&delete l[c];const a=await t._getAppCheckToken(),u=a?`#${Hh}=${encodeURIComponent(a)}`:"";return`${Vh(t)}?${on(l).slice(1)}${u}`}function Vh({config:t}){return t.emulator?yi(t,zh):`https://${t.authDomain}/${Bh}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="webStorageSupport";class Wh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pl,this._completeRedirectFn=mh,this._overrideRedirectResult=fh}async _openPopup(e,n,r,i){var s;Fe((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ws(e,n,r,Kr(),i);return Uh(e,o,ki())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await ws(e,n,r,Kr(),i);return Gf(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fe(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Nh(e),r=new bh(e);return n.register("authEvent",i=>(j(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tr,{type:Tr},i=>{var s;const o=(s=i?.[0])===null||s===void 0?void 0:s[Tr];o!==void 0&&n(!!o),Ce(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xh(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tl()||_i()||Xn()}}const qh=Wh;var xs="@firebase/auth",ks="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Kh(t){Jt(new Ot("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;j(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const a={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nl(t)},u=new wf(r,i,s,a);return kf(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jt(new Ot("auth-internal",e=>{const n=mt(e.getProvider("auth").getImmediate());return(r=>new Jh(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kt(xs,ks,Gh(t)),kt(xs,ks,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=5*60,Zh=Po("authIdTokenMaxAge")||Qh;let $s=null;const Yh=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Zh)return;const i=n?.token;$s!==i&&($s=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Xh(t=Md()){const e=jo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xf(t,{popupRedirectResolver:qh,persistence:[rh,Wf,pl]}),r=Po("authTokenSyncURL");if(r){const s=Yh(r);Ff(n,s,()=>s(n.currentUser)),Uf(n,o=>s(o))}const i=Su("auth");return i&&$f(n,`http://${i}`),n}Kh("Browser");var eg="firebase",tg="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kt(eg,tg,"app");function ng(){const[t,e]=k(!1);return{multiuser:t,setMultiuser:e}}const ve=ie(ng),rg={apiKey:"AIzaSyC9oGhGaax8DlSh-w9pC3TCeIJZzxAw-XU",authDomain:"oakvar-app.firebaseapp.com",projectId:"oakvar-app",storageBucket:"oakvar-app.appspot.com",messagingSenderId:"1070951630158",appId:"1:1070951630158:web:885d40bf4a42a1fc4cca1f",measurementId:"G-0PV5B1ZF6B"},ig=Uo(rg);function sg(){const{multiuser:t}=ve,[e,n]=k(null),{systemSetupNeeded:r}=Zn;return se(function(){if(t()==!0||r())try{n(Xh(ig))}catch(i){console.error(i)}}),{auth:e,sendSignInLinkToEmail:jf}}const nr=ie(sg);function og(){const[t,e]=k("home");return{tabName:t,setTabName:e}}const st=ie(og);function lg(){const[t,e]=k(!1),[n,r]=k(!1),[i,s]=k(!1),{setEmail:o,setPassword:l}=ht,{serverUrl:a,withCredentials:u}=Q,{setTabName:c}=st,{auth:d}=nr,[g,m]=k(!1);function p(y){let _=y.email;if(_)return _;for(const x of y.providerData)if(_=x.email,_)return _;return null}function v(y){const _=p(y);if(!_){Y({response:{data:"No email was found in login data."}});return}K.post(a+"/server/loginsuccess",{email:_},{withCredentials:u}).then(function(x){o(x.data.email),s(x.data.admin),e(!0),r(!1)}).catch(function(x){Y(x)})}function b(){fl(d()).catch(function(y){Y(y)}),K.get(a+"/server/logout",{withCredentials:u}).then(function(y){y.status==200&&(e(!1),o(null),l(null),c("home"),s(!1))}).catch(function(y){Y(y)})}return{logged:t,setLogged:e,admin:i,setAdmin:s,showAuth:n,setShowAuth:r,afterLogin:v,afterLogout:b,reloginChecked:g,setReloginChecked:m}}const be=ie(lg);function ag(){const[t,e]=k(!0);return{appLoading:t,setAppLoading:e}}const rr=ie(ag),cg=w("<a id=tabhead_{props.tabName} href=# class=tabhead>");function ft(t){const{tabName:e,setTabName:n}=st;return(()=>{const r=cg();return r.$$click=function(i){t.callback?t.callback(i):n(t.tabName)},f(r,()=>t.svg,null),f(r,()=>t.title,null),E(i=>{const s=e()==t.tabName,o=!!t.disable,l=!!t.disable,a=!t.disable;return s!==i._v$&&r.classList.toggle("selected",i._v$=s),o!==i._v$2&&r.classList.toggle("pointer-events-none",i._v$2=o),l!==i._v$3&&r.classList.toggle("text-gray-400",i._v$3=l),a!==i._v$4&&r.classList.toggle("text-gray-600",i._v$4=a),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r})()}F(["click"]);const ug=w('<svg stroke-width="0"></svg>',2),dg=w("<title></title>",2);function Z(t,e){const n=Di(t.a,e),[r,i]=Ta(n,["src"]);return(()=>{const s=ug.cloneNode(!0);return Ba(s,Di({get stroke(){return t.a.stroke},get color(){return e.color||"currentColor"},get fill(){return e.color||"currentColor"},get style(){return{...e.style,overflow:"visible"}}},i,{get height(){return e.size||"1em"},get width(){return e.size||"1em"},get innerHTML(){return t.c},xmlns:"http://www.w3.org/2000/svg"}),!0,!0),f(s,()=>Wa,null),f(s,(()=>{const o=pe(()=>!!e.title);return()=>o()&&(()=>{const l=dg.cloneNode(!0);return f(l,()=>e.title),l})()})(),null),s})()}function fg(t){return Z({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"/>'},t)}function hg(t){return Z({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"/>'},t)}function gg(t){return Z({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"/>'},t)}function mg(t){return Z({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"/>'},t)}function ir(t){return Z({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>'},t)}function pg(t){return Z({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15.75 19.5 8.25 12l7.5-7.5"/>'},t)}function bg(t){return Z({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m8.25 4.5 7.5 7.5-7.5 7.5"/>'},t)}function yg(t){return Z({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"/>'},t)}function vg(t){return Z({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19.5 12h-15"/>'},t)}function _g(t){return Z({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>'},t)}function Si(t){return Z({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18 18 6M6 6l12 12"/>'},t)}function wg(){const t=h(yg,{class:"tabheadicon",color:"rgb(156 163 175)"});return h(ft,{tabName:"home",title:"Home",svg:t})}function xg(t){return Z({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-back-up",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 14l-4 -4l4 -4"/><path d="M5 10h11a4 4 0 1 1 0 8h-1"/>'},t)}function kg(t){return Z({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-file-upload",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4"/><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"/><path d="M12 11v6"/><path d="M9.5 13.5l2.5 -2.5l2.5 2.5"/>'},t)}function $g(t){return Z({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-server-off",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12h-6a3 3 0 0 1 -3 -3v-2c0 -1.083 .574 -2.033 1.435 -2.56m3.565 -.44h10a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-2"/><path d="M16 12h2a3 3 0 0 1 3 3v2m-1.448 2.568a2.986 2.986 0 0 1 -1.552 .432h-12a3 3 0 0 1 -3 -3v-2a3 3 0 0 1 3 -3h6"/><path d="M7 8v.01"/><path d="M7 16v.01"/><path d="M3 3l18 18"/>'},t)}function Sg(){const{logged:t}=be,{multiuser:e}=ve,n=h(kg,{class:"tabheadicon",color:"rgb(156 163 175)"});return h(ft,{tabName:"submit",title:"Analyze",svg:n,get disable(){return pe(()=>!!e())()&&!t()}})}function Ig(t){return Z({a:{viewBox:"0 0 1024 1024"},c:'<path d="M518.3 459a8 8 0 0 0-12.6 0l-112 141.7a7.98 7.98 0 0 0 6.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"/><path d="M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0 1 52.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 0 1-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"/>'},t)}function Cg(t){return Z({a:{viewBox:"0 0 1024 1024"},c:'<path d="M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 0 0-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 0 0 2.1-5.4V432c0-2.2-1.8-4-4-4z"/>'},t)}function Tg(){const{logged:t}=be,{multiuser:e}=ve,n=h(Cg,{class:"tabheadicon",color:"rgb(156 163 175)"});return h(ft,{tabName:"jobs",title:"Results",svg:n,get disable(){return pe(()=>!!e())()&&!t()}})}function Eg(t){return Z({a:{viewBox:"0 0 24 24"},c:'<path fill="currentColor" d="M21 13.242V20h1v2H2v-2h1v-6.758A4.496 4.496 0 0 1 1 9.5c0-.827.224-1.624.633-2.303L4.345 2.5a1 1 0 0 1 .866-.5H18.79a1 1 0 0 1 .866.5l2.703 4.682c.418.694.642 1.49.642 2.318 0 1.56-.794 2.935-2 3.742Zm-2 .73a4.496 4.496 0 0 1-3.75-1.36A4.496 4.496 0 0 1 12 14.001a4.496 4.496 0 0 1-3.25-1.387A4.496 4.496 0 0 1 5 13.973V20h14v-6.027ZM5.789 4 3.356 8.213a2.5 2.5 0 1 0 4.466 2.216c.335-.837 1.52-.837 1.856 0a2.5 2.5 0 0 0 4.644 0c.335-.837 1.52-.837 1.856 0a2.5 2.5 0 1 0 4.457-2.232L18.21 4H5.79Z"/>'},t)}function Ag(t){return Z({a:{viewBox:"0 0 24 24"},c:'<path fill="currentColor" d="M10 11V8l5 4-5 4v-3H1v-2h9Zm-7.542 4h2.124A8.003 8.003 0 0 0 20 12 8 8 0 0 0 4.582 9H2.458C3.732 4.943 7.522 2 12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10c-4.478 0-8.268-2.943-9.542-7Z"/>'},t)}function Og(t){return Z({a:{viewBox:"0 0 24 24"},c:'<path fill="currentColor" d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2a9.985 9.985 0 0 1 8 4h-2.71a8 8 0 1 0 .001 12h2.71A9.985 9.985 0 0 1 12 22Zm7-6v-3h-8v-2h8V8l5 4-5 4Z"/>'},t)}function Rg(){const t=h(Eg,{class:"tabheadicon",color:"rgb(156 163 175)"});return h(ft,{tabName:"store",title:"Store",svg:t})}const Ng=w('<svg class=tabheadicon xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=2 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75">');function Pg(){const t=Ng();return h(ft,{tabName:"system",title:"System",svg:t})}const Dg=w('<div class="px-2 pb-8">'),Mg=w('<div class="px-2 text-xs text-gray-600 truncate cursor-default">'),Lg=w("<div>");function jg(){const{logged:t,setLogged:e,showAuth:n,setShowAuth:r,afterLogout:i}=be,{multiuser:s}=ve,{email:o,setEmail:l,setPassword:a}=ht,u=h(Ag,{class:"tabheadicon",color:"rgb(156 163 175)"}),c=h(Og,{class:"tabheadicon",color:"rgb(156 163 175)"});function d(m){r(!n())}function g(m){i()}return(()=>{const m=Dg();return f(m,h(U,{get when(){return s()},get children(){return h(U,{get when(){return!t()},get fallback(){return(()=>{const p=Lg();return f(p,h(U,{get when(){return o()},get children(){const v=Mg();return f(v,o),E(()=>q(v,"title",o())),v}}),null),f(p,h(ft,{tabName:"",title:"Sign out",svg:c,callback:g}),null),p})()},get children(){return h(ft,{tabName:"",title:"Sign in",svg:u,callback:d})}})}})),m})()}const Ug=w('<div id=verdiv class="text-xs absolute left-4 bottom-2 text-gray-400"><span class=text-xs>OakVar </span><span class="curverspan text-xs">'),{serverUrl:Ss}=Q;function Fg(){const[t]=en(e);async function e(){if(Ss==null)return null;try{return(await K.get(Ss+"/submit/pkgver")).data.pkg_ver}catch(n){console.error(n),Y(n)}}return h(U,{get when(){return t()!=null},get children(){const n=Ug(),r=n.firstChild;return r.firstChild,f(r,t,null),n}})}const Zr=Symbol("store-raw"),It=Symbol("store-node"),De=Symbol("store-has"),kl=Symbol("store-self");function $l(t){let e=t[Ie];if(!e&&(Object.defineProperty(t,Ie,{value:e=new Proxy(t,Hg)}),!Array.isArray(t))){const n=Object.keys(t),r=Object.getOwnPropertyDescriptors(t);for(let i=0,s=n.length;i<s;i++){const o=n[i];r[o].get&&Object.defineProperty(t,o,{enumerable:r[o].enumerable,get:r[o].get.bind(e)})}}return e}function tt(t){let e;return t!=null&&typeof t=="object"&&(t[Ie]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function Pt(t,e=new Set){let n,r,i,s;if(n=t!=null&&t[Zr])return n;if(!tt(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let o=0,l=t.length;o<l;o++)i=t[o],(r=Pt(i,e))!==i&&(t[o]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const o=Object.keys(t),l=Object.getOwnPropertyDescriptors(t);for(let a=0,u=o.length;a<u;a++)s=o[a],!l[s].get&&(i=t[s],(r=Pt(i,e))!==i&&(t[s]=r))}return t}function Un(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function Yt(t,e,n){if(t[e])return t[e];const[r,i]=k(n,{equals:!1,internal:!0});return r.$=i,t[e]=r}function Bg(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===Ie||e===It||(delete n.value,delete n.writable,n.get=()=>t[Ie][e]),n}function Sl(t){Pr()&&Yt(Un(t,It),kl)()}function zg(t){return Sl(t),Reflect.ownKeys(t)}const Hg={get(t,e,n){if(e===Zr)return t;if(e===Ie)return n;if(e===Nr)return Sl(t),n;const r=Un(t,It),i=r[e];let s=i?i():t[e];if(e===It||e===De||e==="__proto__")return s;if(!i){const o=Object.getOwnPropertyDescriptor(t,e);Pr()&&(typeof s!="function"||t.hasOwnProperty(e))&&!(o&&o.get)&&(s=Yt(r,e,s)())}return tt(s)?$l(s):s},has(t,e){return e===Zr||e===Ie||e===Nr||e===It||e===De||e==="__proto__"?!0:(Pr()&&Yt(Un(t,De),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:zg,getOwnPropertyDescriptor:Bg};function xe(t,e,n,r=!1){if(!r&&t[e]===n)return;const i=t[e],s=t.length;n===void 0?(delete t[e],t[De]&&t[De][e]&&i!==void 0&&t[De][e].$()):(t[e]=n,t[De]&&t[De][e]&&i===void 0&&t[De][e].$());let o=Un(t,It),l;if((l=Yt(o,e,i))&&l.$(()=>n),Array.isArray(t)&&t.length!==s){for(let a=t.length;a<s;a++)(l=o[a])&&l.$();(l=Yt(o,"length",s))&&l.$(t.length)}(l=o[kl])&&l.$()}function Il(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const i=n[r];xe(t,i,e[i])}}function Vg(t,e){if(typeof e=="function"&&(e=e(t)),e=Pt(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const i=e[n];t[n]!==i&&xe(t,n,i)}xe(t,"length",r)}else Il(t,e)}function Ht(t,e,n=[]){let r,i=t;if(e.length>1){r=e.shift();const o=typeof r,l=Array.isArray(t);if(Array.isArray(r)){for(let a=0;a<r.length;a++)Ht(t,[r[a]].concat(e),n);return}else if(l&&o==="function"){for(let a=0;a<t.length;a++)r(t[a],a)&&Ht(t,[a].concat(e),n);return}else if(l&&o==="object"){const{from:a=0,to:u=t.length-1,by:c=1}=r;for(let d=a;d<=u;d+=c)Ht(t,[d].concat(e),n);return}else if(e.length>1){Ht(t[r],e,[r].concat(n));return}i=t[r],n=[r].concat(n)}let s=e[0];typeof s=="function"&&(s=s(i,n),s===i)||r===void 0&&s==null||(s=Pt(s),r===void 0||tt(i)&&tt(s)&&!Array.isArray(s)?Il(i,s):xe(t,r,s))}function Se(...[t,e]){const n=Pt(t||{}),r=Array.isArray(n),i=$l(n);function s(...o){va(()=>{r&&o.length===1?Vg(n,o[0]):Ht(n,o)})}return[i,s]}const Yr=Symbol("store-root");function _t(t,e,n,r,i){const s=e[n];if(t===s)return;if(n!==Yr&&(!tt(t)||!tt(s)||i&&t[i]!==s[i])){xe(e,n,t);return}if(Array.isArray(t)){if(t.length&&s.length&&(!r||i&&t[0]&&t[0][i]!=null)){let a,u,c,d,g,m,p,v;for(c=0,d=Math.min(s.length,t.length);c<d&&(s[c]===t[c]||i&&s[c]&&t[c]&&s[c][i]===t[c][i]);c++)_t(t[c],s,c,r,i);const b=new Array(t.length),y=new Map;for(d=s.length-1,g=t.length-1;d>=c&&g>=c&&(s[d]===t[g]||i&&s[c]&&t[c]&&s[d][i]===t[g][i]);d--,g--)b[g]=s[d];if(c>g||c>d){for(u=c;u<=g;u++)xe(s,u,t[u]);for(;u<t.length;u++)xe(s,u,b[u]),_t(t[u],s,u,r,i);s.length>t.length&&xe(s,"length",t.length);return}for(p=new Array(g+1),u=g;u>=c;u--)m=t[u],v=i&&m?m[i]:m,a=y.get(v),p[u]=a===void 0?-1:a,y.set(v,u);for(a=c;a<=d;a++)m=s[a],v=i&&m?m[i]:m,u=y.get(v),u!==void 0&&u!==-1&&(b[u]=s[a],u=p[u],y.set(v,u));for(u=c;u<t.length;u++)u in b?(xe(s,u,b[u]),_t(t[u],s,u,r,i)):xe(s,u,t[u])}else for(let a=0,u=t.length;a<u;a++)_t(t[a],s,a,r,i);s.length>t.length&&xe(s,"length",t.length);return}const o=Object.keys(t);for(let a=0,u=o.length;a<u;a++)_t(t[o[a]],s,o[a],r,i);const l=Object.keys(s);for(let a=0,u=l.length;a<u;a++)t[l[a]]===void 0&&xe(s,l[a],void 0)}function he(t,e={}){const{merge:n,key:r="id"}=e,i=Pt(t);return s=>{if(!tt(s)||!tt(i))return i;const o=_t(i,{[Yr]:s},Yr,n,r);return o===void 0?s:o}}function Wg(){const[t,e]=Se({__initial:!0}),[n,r]=k({}),[i,s]=k({}),{serverUrl:o}=Q;let l=!1;se(function(){t.__initial==!0&&(e(he({})),c("false"))});function a(g){return g in t?t[g]:null}function u(g){var m=t;m[g.name]=g}function c(g){l||(l=!0,e(he({})),K.get(o+"/store/remote?refresh="+g).then(function(m){let p=m.data.data,v=m.data.tagdesc;delete p.aggregator;const b={},y="input coversion",_="reporting";for(const x in p){const I=p[x];if(I.tags&&I.tags.length>0)for(const T of I.tags)T!="reporters"&&T!="input/output"&&(b[T]=v[T]||T);else I.tags=[];I.type=="converter"?(b[y]="Input format conversion modules",I.tags.push(y)):I.type=="reporter"&&(b[_]="Report generation modules",I.tags.push(_))}b["no tag"]="No tag provided",s(b),e(p),l=!1}).catch(function(m){console.error(m)}))}function d(g,m,p,v){let b=[];for(const[y,_]of Object.entries(t)){let x=!0;m.length>0&&(_.type in m||(x=!1)),p!=null&&(p=="no tag"?_.tags.length>0&&(x=!1):_.tags.indexOf(p)==-1&&(x=!1)),x&&g!=null&&(x=!1,(y.indexOf(g)>=0||_.title.indexOf(g)>=0||_.description&&_.description.indexOf(g)>=0)&&(x=!0)),x&&b.push(y)}return v==null||v=="Name"?b.sort():v=="Size"&&b.sort((y,_)=>t[_].size-t[y].size),b}return{remoteModules:t,setRemoteModules:e,getRemoteModule:a,addRemoteModule:u,loadAllRemoteModules:c,remoteModuleLogos:n,setRemoteModuleLogos:r,getFilteredRemoteModules:d,remoteTags:i}}const Re=ie(Wg);function dn(t){return Z({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>'},t)}function qg(t){return Z({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.004-.001.274-.11a.75.75 0 0 1 .558 0l.274.11.004.001 6.971 2.789Zm-1.374.527L8 5.962 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339Z"/>'},t)}function Jg(t){return Z({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"/>'},t)}function Gg(t){return Z({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"/>'},t)}function Kg(t){return Z({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="m11.42 2 3.428 6-3.428 6H4.58L1.152 8 4.58 2h6.84zM4.58 1a1 1 0 0 0-.868.504l-3.428 6a1 1 0 0 0 0 .992l3.428 6A1 1 0 0 0 4.58 15h6.84a1 1 0 0 0 .868-.504l3.429-6a1 1 0 0 0 0-.992l-3.429-6A1 1 0 0 0 11.42 1H4.58z"/><path d="M6.848 5.933a2.5 2.5 0 1 0 2.5 4.33 2.5 2.5 0 0 0-2.5-4.33zm-1.78 3.915a3.5 3.5 0 1 1 6.061-3.5 3.5 3.5 0 0 1-6.062 3.5z"/>'},t)}async function Qg(t){const{serverUrl:e}=Q,n=await fetch(e+t).catch(function(r){Y(r)});return n==null?{}:n.json()}const Zg="module_option_file__";function Yg(){const[t,e]=Se({__initial:!0}),[n,r]=k({}),{serverUrl:i}=Q;se(function(){t.__initial==!0&&(e(he({})),l("false"))});function s(m){return m in t?t[m]:null}function o(m){var p={...t};p[m.name]=m,e(p)}function l(m){e(he({})),K.get(i+"/store/local?refresh="+m).then(function(p){e(he(p.data))}).catch(function(p){Y(p)})}function a(m){const p=new URLSearchParams({moduleName:m});Qg(i+"/store/addlocal?"+p).then(function(v){o(v)}).catch(function(v){console.log(v)})}function u(m){return m in n()?n()[m]:h(Kg,{})}function c(m,p,v){t[m].module_options==null&&e(m,"module_options",{}),p.type=="int"?v=parseInt(v):p.type=="float"&&(v=parseFloat(v));const x={value:v,method:p.method,type:p.type};e(m,"module_options",p.name,x)}function d(m,p){let v={};for(const b in m){const y=m[b];if(y.module_options){v[b]={};for(const _ in y.module_options){const x=y.module_options[_];if(x.method=="file"){const I=Zg+b+"__"+_;p.append(I,x.value)}else v[b][_]=x.value}Object.keys(v[b]).length==0&&delete v[b]}}return v}function g(m,p){const v=t[m];if(v&&v.module_options){const b=v.module_options[p];return b||null}else return null}return{localModules:t,setLocalModules:e,getLocalModule:s,addLocalModule:o,loadAllLocalModules:l,localModuleLogos:n,setLocalModuleLogos:r,getLocalModuleLogo:u,setModuleOption:c,getModuleOptions:d,getModuleOption:g,loadOneLocalModule:a}}const Ne=ie(Yg),{serverUrl:Er,withCredentials:Ar}=Q,{getRemoteModule:Xg}=Re;function em(){const[t,e]=Se([]),[n,r]=Se({}),{loadAllLocalModules:i}=Ne;s(),o();function s(){const{serverUrl:b}=Q;K.get(b+"/store/getqueue").then(function(y){e(he(y.data));let _={...n};for(const x of t)x in _||c(x)}).catch(function(y){Y(y)})}function o(){const{serverUrl:b}=Q;K.get(b+"/store/getinstallstate").then(function(y){let _={...y.data};for(const x in _){let I=_[x];x in n&&(I.progress=n[x].progress)}r(he(_))}).catch(function(y){Y(y)})}function l(){return t.length==0?null:t[t.length-1]}function a(b){if(b==null||b in n)return;const y=Xg(b);y!=null&&K.get(Er+"/store/queueinstall",{params:{module:b,version:y.latest_version},withCredentials:Ar}).then(function(_){s(),o()}).catch(function(_){Y(_)})}function u(b){l()!=b&&a(b)}function c(b){let y={...n};delete y[b],r(he(y))}function d(b){K.get(Er+"/store/unqueue",{params:{module_name:b},withCredentials:Ar}).then(function(y){s(),o()}).catch(function(y){Y(y)})}function g(b){return t.length==0?!1:t.indexOf(b)>=0}function m(b){K.get(Er+"/store/uninstall",{params:{moduleName:b},withCredentials:Ar}).then(function(y){i()}).catch(function(y){Y(y),s()})}function p(b,y){return b==0&&y==0||isNaN(b)||isNaN(y)}function v(b,y,_){const x=parseFloat(y),I=parseFloat(_);if(b=="start")return 5;if(b=="killed"||b=="error"||b=="skip"||b=="finished"||b=="finish")return 100;if(b=="extract_code")return 10;if(b=="extract_data")return 90;if(b=="download_code")return p(x,I)?void 0:x/I*5+5;if(b=="download_data")return p(x,I)?void 0:x/I*75+15}return{installQueue:t,addToInstallQueue:u,removeFromInstallQueue:d,removeFromInstallState:c,inQueue:g,uninstallModule:m,installState:n,setInstallState:r,getInstallProgress:v,fetchInstallQueue:s}}const pt=ie(em);function tm(){const[t,e]=k(null);return{systemMsg:t,setSystemMsg:e}}const Cl=ie(tm),nm="connection",rm="setup",im="setup_error",Is="install",sm="install_error";function om(){const[t,e]=k(null),[n,r]=k(!1),{fetchInstallQueue:i,installState:s,setInstallState:o,removeFromInstallState:l,getInstallProgress:a}=pt,{wsUrl:u}=Q,{setSystemMsg:c}=Cl,[d,g]=k(""),[m,p]=k(null),[v,b]=k(!1),{loadAllLocalModules:y}=Ne;let _=0;const x=10;se(function(){t()==null&&setTimeout(function(){e(T())}),v()==!0&&m&&m()});function I(){return d()}function T(){const P=new WebSocket(u);return P.onopen=function(M){r(!0)},P.onclose=function(M){if(_+=1,_>=x){const J={};J.response=void 0,Y(J)}else r(!1),setTimeout(function(){e(null)},3e3)},P.onmessage=function(M){const J=JSON.parse(M.data);z(J)},P.onerror=function(M){Y(M)},P}function C(P){P=="Logging in..."?g("Logging in..."):P=="Setting up store cache..."?g("Setting up store cache..."):P=="Setting up administrative database..."?g("Setting up administrative database..."):P=="Installing system modules..."?g("Installing system modules..."):P.startsWith("Installing")||P.startsWith("Installed")||P.includes("already exists")?g(P):P=="Done setting up the system."&&(g("Done setting up the system."),b(!0))}function A(P){let M=[];const J=P.msg.split(`
`);for(const W of J)M.push({kind:P.kind,msg:W,dt:P.dt}),C(W);c(M)}function $(P){const M=JSON.parse(P.msg);Y(M),c([{msg:M.response.data.msg,dt:P.dt}])}function O(P){for(const M of P)M.kind==im?$(M):A(M)}function R(P){const M=P.msg,J=M.split(":"),W=J[0],oe=J[1],V=parseInt(J[2]),te=parseInt(J[3]),ue=a(W,V,te);oe in s&&(o(oe,"stage",W),ue!=null&&o(oe,"progress",ue)),W=="error"?Y({response:{status:500,data:{msg:M}}}):(W=="killed"||W=="finished"||W=="error"||W=="skip")&&(i(),l(oe),W=="finished"&&y())}function B(P){for(const M of P)M.kind==Is?R(M):M.kind==sm}function z(P){const M=P.msg_kind;M==nm?document.cookie="ws_id="+P.ws_id:M==rm?O(P.items):M==Is&&B(P.items)}return{wsOpened:n,getSetupStageMsg:I,setCallbackAfterSetup:p,setSetupStateMsg:g}}const Tl=ie(om);function lm(){const{wsOpened:t}=Tl;return h(U,{get classList(){return{hidden:t()==!0}},get children(){return h($g,{color:"#dc2626",size:48})}})}const am=w('<div id=sidebar_static class="md:flex md:w-36 md:flex-col md:fixed md:inset-y-0"><div class="flex-1 flex flex-col min-h-0 border-r border-gray-200"><div class="flex-1 flex flex-col pt-5 pb-4 overflow-y-auto"><div class="flex items-center flex-shrink-0 px-4"><img class="h-16 w-auto"alt=Logo></div><nav class="mt-5 flex-1 px-2 space-y-1">');function cm(){const{serverUrl:t}=Q,{logged:e}=be,{multiuser:n}=ve,{admin:r}=be;return(()=>{const i=am(),s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.firstChild,u=l.nextSibling;return q(a,"src",t+"/submit/images/logo_transparent_bw.png"),f(u,h(wg,{}),null),f(u,h(Sg,{}),null),f(u,h(Tg,{}),null),f(u,h(Rg,{}),null),f(u,h(U,{get when(){return n()==!1||e()==!0&&r()==!0},get children(){return h(Pg,{})}}),null),f(o,h(jg,{}),null),f(o,h(Fg,{}),null),f(o,h(lm,{}),null),i})()}const um=w('<a target=_blank><button class="relative inline-flex items-center justify-center p-0.5 mb-2 mr-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-cyan-500 to-blue-500 group-hover:from-cyan-500 group-hover:to-blue-500 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-cyan-200 dark:focus:ring-cyan-800"><span class="relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0">');function Je(t){return(()=>{const e=um(),n=e.firstChild,r=n.firstChild;return f(r,()=>t.icon,null),f(r,()=>t.text,null),E(()=>q(e,"href",t.url)),e})()}function Cs(t){return Z({a:{viewBox:"0 0 496 512"},c:'<path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/>'},t)}function dm(t){return Z({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2zM22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>'},t)}function fm(t){return Z({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M12 2A10 10 0 1 0 12 22 10 10 0 1 0 12 2z"/><path d="M8 12 16 12"/>'},t)}function hm(t){return Z({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M12 2A10 10 0 1 0 12 22 10 10 0 1 0 12 2z"/><path d="M12 8 12 16"/><path d="M8 12 16 12"/>'},t)}function gm(t){return Z({a:{"xml:space":"preserve",x:"0",y:"0","enable-background":"new 0 0 512 512",viewBox:"0 0 512 512"},c:'<path id="icons" d="M28 28v456h456V28H28zm378.83 108.04-24.46 23.45a7.162 7.162 0 0 0-2.72 6.86v172.28c-.44 2.61.61 5.26 2.72 6.86l23.88 23.45v5.15H286.13v-5.15l24.74-24.02c2.43-2.43 2.43-3.15 2.43-6.86V198.81l-68.79 174.71h-9.3l-80.09-174.71v117.1c-.67 4.92.97 9.88 4.43 13.44l32.18 39.03v5.15h-91.24v-5.15l32.18-39.03c3.44-3.57 4.98-8.56 4.15-13.44V180.5c.38-3.76-1.05-7.48-3.86-10.01l-28.6-34.46v-5.15h88.81l68.65 150.55 60.35-150.55h84.66v5.16z"/>'},t)}function mm(t){return Z({a:{viewBox:"0 0 512 512"},c:'<path d="M324 256a36 36 0 1 0 36 36 36 36 0 0 0-36-36Z"/><path d="M188 256A36 36 0 1 0 188 328 36 36 0 1 0 188 256z" transform="rotate(-22.5 187.997 291.992)"/><path d="M496 253.77c0-31.19-25.14-56.56-56-56.56a55.72 55.72 0 0 0-35.61 12.86c-35-23.77-80.78-38.32-129.65-41.27l22-79 66.41 13.2c1.9 26.48 24 47.49 50.65 47.49 28 0 50.78-23 50.78-51.21S441 48 413 48c-19.53 0-36.31 11.19-44.85 28.77l-90-17.89-31.1 109.52-4.63.13c-50.63 2.21-98.34 16.93-134.77 41.53A55.38 55.38 0 0 0 72 197.21c-30.89 0-56 25.37-56 56.56a56.43 56.43 0 0 0 28.11 49.06 98.65 98.65 0 0 0-.89 13.34c.11 39.74 22.49 77 63 105C146.36 448.77 199.51 464 256 464s109.76-15.23 149.83-42.89c40.53-28 62.85-65.27 62.85-105.06a109.32 109.32 0 0 0-.84-13.3A56.32 56.32 0 0 0 496 253.77ZM414 75a24 24 0 1 1-24 24 24 24 0 0 1 24-24ZM42.72 253.77a29.6 29.6 0 0 1 29.42-29.71 29 29 0 0 1 13.62 3.43c-15.5 14.41-26.93 30.41-34.07 47.68a30.23 30.23 0 0 1-8.97-21.4ZM390.82 399c-35.74 24.59-83.6 38.14-134.77 38.14S157 423.61 121.29 399c-33-22.79-51.24-52.26-51.24-83A78.5 78.5 0 0 1 75 288.72c5.68-15.74 16.16-30.48 31.15-43.79a155.17 155.17 0 0 1 14.76-11.53l.3-.21.24-.17c35.72-24.52 83.52-38 134.61-38s98.9 13.51 134.62 38l.23.17.34.25A156.57 156.57 0 0 1 406 244.92c15 13.32 25.48 28.05 31.16 43.81a85.44 85.44 0 0 1 4.31 17.67 77.29 77.29 0 0 1 .6 9.65c-.01 30.72-18.21 60.19-51.25 82.95Zm69.6-123.92c-7.13-17.28-18.56-33.29-34.07-47.72A29.09 29.09 0 0 1 440 224a29.59 29.59 0 0 1 29.41 29.71 30.07 30.07 0 0 1-8.99 21.39Z"/><path d="M323.23 362.22c-.25.25-25.56 26.07-67.15 26.27-42-.2-66.28-25.23-67.31-26.27a4.14 4.14 0 0 0-5.83 0l-13.7 13.47a4.15 4.15 0 0 0 0 5.89c3.4 3.4 34.7 34.23 86.78 34.45 51.94-.22 83.38-31.05 86.78-34.45a4.16 4.16 0 0 0 0-5.9l-13.71-13.47a4.13 4.13 0 0 0-5.81 0Z"/>'},t)}function pm(t){return Z({a:{viewBox:"0 0 512 512"},c:'<rect width="416" height="320" x="48" y="96" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" rx="40" ry="40"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M112 160 256 272 400 160"/>'},t)}function bm(t){return Z({a:{viewBox:"0 0 512 512"},c:'<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M85.57 446.25h340.86a32 32 0 0 0 28.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0 0 28.17 47.17Z"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="m250.26 195.39 5.74 122 5.73-121.95a5.74 5.74 0 0 0-5.79-6h0a5.74 5.74 0 0 0-5.68 5.95Z"/><path d="M256 397.25a20 20 0 1 1 20-20 20 20 0 0 1-20 20Z"/>'},t)}const ym=w("<span class=font-semibold>"),vm=w('<div id=tab_home class="tabcontent px-6 my-6 text-gray-700"><h1 class="text-4xl font-extrabold dark:text-white">OakVar</h1><p class="mb-6 text-lg font-normal text-gray-500 lg:text-xl dark:text-gray-400">Genomic variant analysis platform</p><div class="mt-4 text-base w-[64rem]"><p>OakVar is a platform for analyzing and exploring genomic variants.</p><p class=my-2>Use <!> tab to submit analysis jobs. Use <!> tab to monitor your past and current jobs. <!> shows analysis and reporting modules available through OakVar. In <!> tab, you can perform system admin tasks. </p><div class=my-2><h3 class="mb-2 font-semibold dark:text-white">Benefits:</h3><ul class="space-y-1 list-disc list-inside"><li> genomic variants with diverse annotation sources.</li><li>Make <!> of annotated variants.</li><li>Query annotated variants with <!> sets.</li><li>Make <!> in diverse formats.</li><li> annotated variants with graphical user interface.</li><li>Works via <!> and <!>.</li><li>Easily develop, run, and distribute CLI and GUI <!>. OakVar acts as an operating system for genomics apps.</li><li>Connect genomic data to AI/ML models.</li></ul></div><div><h3 class="mb-2 font-semibold dark:text-white">Resources:</h3></div><div><h3 class="mb-2 font-semibold dark:text-white">Follow us:</h3></div><div><h3 class="mb-2 font-semibold dark:text-white">Help and support:'),{multiuser:_m}=ve;function _e(t){return(()=>{const e=ym();return f(e,t),e})()}function wm(){const{tabName:t}=st;return(()=>{const e=vm(),n=e.firstChild,r=n.nextSibling,i=r.nextSibling,s=i.firstChild,o=s.nextSibling,l=o.firstChild,a=l.nextSibling,u=a.nextSibling,c=u.nextSibling,d=c.nextSibling,g=d.nextSibling,m=g.nextSibling,p=m.nextSibling;p.nextSibling;const v=o.nextSibling,b=v.firstChild,y=b.nextSibling,_=y.firstChild,x=_.firstChild,I=_.nextSibling,T=I.firstChild,C=T.nextSibling;C.nextSibling;const A=I.nextSibling,$=A.firstChild,O=$.nextSibling;O.nextSibling;const R=A.nextSibling,B=R.firstChild,z=B.nextSibling;z.nextSibling;const P=R.nextSibling,M=P.firstChild,J=P.nextSibling,W=J.firstChild,oe=W.nextSibling,V=oe.nextSibling,te=V.nextSibling;te.nextSibling;const ue=J.nextSibling,ne=ue.firstChild,Pe=ne.nextSibling;Pe.nextSibling;const yt=v.nextSibling;yt.firstChild;const He=yt.nextSibling;He.firstChild;const Ut=He.nextSibling;return Ut.firstChild,f(o,()=>_e("Submit"),a),f(o,()=>_e("Jobs"),c),f(o,()=>_e("Store"),g),f(o,()=>_e("System"),p),f(o,h(U,{get when(){return _m()},get children(){return["In ",pe(()=>_e("Account"))," tab, you can perform account tasks including logging out."]}}),null),f(_,()=>_e("Annotate"),x),f(I,()=>_e("databases"),C),f(A,()=>_e("filter"),O),f(R,()=>_e("reports"),z),f(P,()=>_e("Visualize"),M),f(J,()=>_e("CLI"),oe),f(J,()=>_e("GUI"),te),f(ue,()=>_e("genomics apps"),Pe),f(yt,h(Je,{url:"https://docs.oakvar.com/",get icon(){return h(dm,{class:"inline mr-1"})},text:"Documentation"}),null),f(yt,h(Je,{url:"https://github.com/rkimoakbioinformatics/oakvar",get icon(){return h(Cs,{class:"inline mr-1"})},text:"GitHub"}),null),f(He,h(Je,{url:"https://medium.com/oakvar",get icon(){return h(gm,{class:"inline mr-1"})},text:"Medium (Announcements)"}),null),f(He,h(Je,{url:"https://discord.gg/wZfkTMKTjG",get icon(){return h(Gg,{class:"inline mr-1"})},text:"Discord (Messaging)"}),null),f(He,h(Je,{url:"https://www.reddit.com/r/oakvar",get icon(){return h(mm,{class:"inline mr-1"})},text:"Reddit (Discussion)"}),null),f(He,h(Je,{url:"https://dashboard.mailerlite.com/forms/21170/56038572068701589/share",icon:"",text:"Join the mailing list"}),null),f(Ut,h(Je,{url:"https://github.com/rkimoakbioinformatics/oakvar/issues",get icon(){return h(Cs,{class:"inline mr-1"})},text:"Issues"}),null),f(Ut,h(Je,{url:"mailto:info@oakbioinformatics.com",get icon(){return h(pm,{class:"inline mr-1"})},text:"Mail"}),null),E(()=>e.classList.toggle("hidden",t()!="home")),e})()}const xm=w('<a href=# class="text-gray-600 block px-4 py-2 text-sm text-right hover:bg-gray-100 hover:text-gray-900"role=menuitem tabindex=-1 value="">');function gn(t){function e(){t.setAssembly(t.value),t.setShow(!1)}return(()=>{const n=xm();return n.$$click=e,f(n,()=>t.title),n})()}F(["click"]);const km=w('<div id=assembly-select class="option-list ease-in absolute right-0 z-10 mt-2 w-32 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"role=menu aria-orientation=vertical aria-labelledby=menu-button tabindex=-1><div class=py-1 role=none>');function $m(t){return(()=>{const e=km(),n=e.firstChild;return f(n,h(gn,{value:"auto",title:"Auto",get setAssembly(){return t.setAssembly},get setShow(){return t.setShow}}),null),f(n,h(gn,{value:"hg38",title:"GRCh38/hg38",get setAssembly(){return t.setAssembly},get setShow(){return t.setShow}}),null),f(n,h(gn,{value:"hg19",title:"GRCh37/hg19",get setAssembly(){return t.setAssembly},get setShow(){return t.setShow}}),null),f(n,h(gn,{value:"hg18",title:"GRCh36/hg18",get setAssembly(){return t.setAssembly},get setShow(){return t.setShow}}),null),E(()=>e.classList.toggle("hidden",!t.show)),e})()}const Sm=w('<div id=assembly-select-panel class="select-div relative inline-block text-left"value=""><div><button type=button class="inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-600 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100"id=assembly-select-div title="Genome assembly">Genome assembly: ');function Im(t){const[e,n]=k(!1),r={"":"Auto",hg38:"GRCh38/hg38",hg19:"GRCh37/hg19",hg18:"GRCh36/hg18"};function i(s){n(!e())}return(()=>{const s=Sm(),o=s.firstChild,l=o.firstChild;return l.firstChild,l.$$click=i,f(l,()=>r[t.assembly],null),f(l,h(ir,{class:"-mr-1 ml-2 h-5 w-5"}),null),f(s,h($m,{get show(){return e()},get setAssembly(){return t.setAssembly},setShow:n}),null),s})()}F(["click"]);const Cm=w('<a href=# class="text-gray-600 block px-4 py-2 text-sm text-right hover:bg-gray-100 hover:text-gray-900"role=menuitem tabindex=-1 value="">');function Ts(t){function e(){t.setInputFormat(t.value),t.setShow(!1)}return(()=>{const n=Cm();return n.$$click=e,f(n,()=>t.title),n})()}F(["click"]);const Tm=w('<div id=input-format-select class="option-list ease-in absolute right-0 z-10 mt-2 w-32 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"role=menu aria-orientation=vertical aria-labelledby=menu-button tabindex=-1><div class=py-1 role=none>');function Em(t){return(()=>{const e=Tm(),n=e.firstChild;return f(n,h(Ts,{value:"",title:"Auto",get setInputFormat(){return t.setInputFormat},get setShow(){return t.setShow}}),null),f(n,h(ce,{get each(){return t.converters},children:function(r){return h(Ts,{get value(){return r.format},get title(){return r.title},get setInputFormat(){return t.setInputFormat},get setShow(){return t.setShow}})}}),null),E(()=>e.classList.toggle("hidden",!t.show)),e})()}const Am=w('<div id=input-format-select-panel class="select-div relative inline-block text-left ml-6"value=""><div><button type=button class="inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-600 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100"id=input-format-select-div title=Format>Format: '),{multiuser:Om}=ve,{logged:Rm}=be,{serverUrl:Nm}=Q;async function Pm(){if(Om()==!1||Rm()==!0)try{return await(await K.get(Nm+"/submit/converters")).data}catch(t){console.error(t),t.response.responseText=="system_not_ready"}}function Dm(t){const[e,n]=k(!1),[r,i]=k({"":"Auto"}),[s]=en(Pm);se(()=>{var l={"":"Auto"};if(!(s()==null||s()==null)){for(var a=0;a<s().length;a++)l[s()[a].format]=s()[a].title;i(l)}});function o(l){n(!e())}return(()=>{const l=Am(),a=l.firstChild,u=a.firstChild;return u.firstChild,u.$$click=o,f(u,()=>r()[t.inputFormat],null),f(u,h(ir,{class:"-mr-1 ml-2 h-5 w-5"}),null),f(l,h(Em,{get show(){return e()},get converters(){return s()},get setInputFormat(){return t.setInputFormat},setInputFormats:i,setShow:n}),null),l})()}F(["click"]);const Mm=w('<div id=input-upload-list-div class="w-1/2 flex flex-col justify-center items-center p-2 relative h-full bg-gray-50"><button id=clear_inputfilelist_button class="text-gray-500 bg-neutral-200 hover:bg-neutral-300 p-1 w-16 rounded-md absolute top-1 left-1">Clear</button><div id=input-upload-list-wrapper class="flex w-full overflow-auto h-[13rem] absolute bottom-1 bg-gray-50"><div id=input-upload-list class="h-full overflow-auto">'),Lm=w('<label id=input-drop-area for=input-file class="flex items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-md cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600 relative"><div id=input-drop-box class=w-1/2><div class="flex flex-col items-center justify-center pt-5 pb-6"><p class="mb-2 text-sm text-gray-500 dark:text-gray-400"><span class=font-semibold>Click to upload</span> input files</p><button class="mb-2 text-sm text-gray-500 dark:text-gray-400 bg-neutral-200 hover:bg-neutral-300 p-2 rounded-md absolute top-0 right-0">Manually enter variants instead</button></div><input type=file class=hidden name=input-file id=input-file multiple>'),jm=w('<span class="pl-2 text-sm text-gray-600 hover:text-gray-400 cursor-pointer round-md inline-block w-5/6"title="Click to remove">');function Um(t){const{setShowErrorDialog:e,setErrorDialogTitle:n,setErrorDialogText:r}=rn;function i(l,a){a.preventDefault();for(var u=0;u<t.inputDataDrop.length;u++)if(t.inputDataDrop[u].name==l){t.setInputDataDrop([...t.inputDataDrop.slice(0,u),...t.inputDataDrop.slice(u+1,t.inputDataDrop.length)]);break}}function s(l){const a=l.target.files;for(var u=0;u<a.length;u++)if(a[u].name.indexOf(" ")>=0){n("Problem"),r("Input file names should not have space."),e(!0);break}t.setInputDataDrop([...t.inputDataDrop,...a]),l.target.value=null}function o(l){l.preventDefault(),t.setInputDataDrop([])}return(()=>{const l=Lm(),a=l.firstChild,u=a.firstChild,c=u.firstChild,d=c.nextSibling,g=u.nextSibling;return f(l,h(U,{get when(){return t.inputDataDrop.length>0},get children(){const m=Mm(),p=m.firstChild,v=p.nextSibling,b=v.firstChild;return p.$$click=o,f(b,h(ce,{get each(){return t.inputDataDrop},children:y=>(()=>{const _=jm();return _.$$click=i,_.$$clickData=y.name,f(_,()=>y.name),_})()})),m}}),a),f(u,h(Ig,{class:"w-10 h-10",color:"#9ca3af"}),c),d.$$click=t.setInputMode,d.$$clickData="paste",g.addEventListener("change",s),l})()}F(["click"]);const Fm=w(`<div id=input-paste-area class="relative w-full h-[20rem] border-2 border-gray-300 border-dashed rounded-md"><textarea id=input-text class="font-mono border-0 bg-gray-50 text-gray-600 p-4 resize-none w-full h-full"placeholder="Copy and paste or type input variants. VCF is supported. A quick and simple format is space-delimited one:

chr1 9384934 + A T

which is chromosome, position, strand, a reference allele, and an alternate allele.

Alternatively, if 'Server files' box is checked, paths to input files in the server can be used as well. For example,

/mnt/oakvar/input/sample/sample_1.vcf
"></textarea><div class="top-2 right-3 absolute cursor-pointer"title="Click to go back"></div><div class="absolute bottom-1 right-1 text-gray-400 text-sm"><button value=cravat class="p-1 text-gray-500 bg-neutral-200 hover:bg-neutral-300">Try an example`);function Bm(t){function e(){const{serverUrl:r,withCredentials:i}=Q;t.setAssembly("hg38"),t.setInputFormat("vcf"),K({method:"get",url:`${r}/submit/inputexamples/${t.inputFormat}.${t.assembly}.txt`,withCredentials:i}).then(function(s){let o=s.data;t.changeInputData("paste",o)})}function n(r){t.changeInputData("paste",r.target.value)}return(()=>{const r=Fm(),i=r.firstChild,s=i.nextSibling,o=s.nextSibling,l=o.firstChild;return i.$$keyup=n,s.$$click=t.setInputMode,s.$$clickData="drop",f(s,h(xg,{class:"w-5 h-5 mr-2"})),l.$$click=e,E(()=>i.value=t.inputDataPaste),r})()}F(["keyup","click"]);const zm=w('<div id=job-name-div class="mt-4 w-full"><textarea id=job-name class="font-mono text-sm border-0 bg-gray-100 text-gray-600 p-4 resize-none rounded-md w-full "placeholder="(Optional) job name">');function Hm(t){function e(n){t.setJobName(n.target.value)}return(()=>{const n=zm(),r=n.firstChild;return r.$$keyup=e,E(()=>n.classList.toggle("hidden",!t.inputExists)),E(()=>r.value=t.jobName),n})()}F(["keyup"]);const Vm=w('<div id=submit-note-div class="mt-4 w-full"><textarea id=submit-note class="font-mono text-sm border-0 bg-gray-100 text-gray-600 p-4 resize-none rounded-md w-full"placeholder="(Optional) note for this job">');function Wm(t){function e(n){t.setJobNote(n.target.value)}return(()=>{const n=Vm(),r=n.firstChild;return r.$$keyup=e,E(()=>n.classList.toggle("hidden",!t.inputExists)),E(()=>r.value=t.jobNote),n})()}F(["keyup"]);const qm=w('<div id=submit-job-button-div class=mt-4><button id=submit-job-button type=button class="inline-flex items-center h-12 rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">Annotate');function Jm(t){return(()=>{const e=qm(),n=e.firstChild;return Wn(n,"click",t.submitFn,!0),E(()=>e.classList.toggle("hidden",!t.inputExists)),e})()}F(["click"]);const Gm=w('<div class="flex items-center justify-center ml-6"><input id=default-checkbox type=checkbox value=""title="If checked, each input files will be processed separately."class="w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for=default-checkbox class="ml-2 text-sm font-medium text-gray-700 dark:text-gray-300"title="If checked, each input files will be processed separately.">Separate job per file'),Km=w('<div class="flex items-center justify-center ml-6"><input id=default-checkbox type=checkbox title="If checked, each input line should be a path to an input file in the server."class="w-4 h-4 text-blue-600 bg-gray-100 checked:bg-gray-500 rounded border-gray-300 focus:ring-0 focus:ring-offset-0 dark:bg-gray-700 dark:border-gray-600"><label for=default-checkbox class="ml-2 text-sm font-medium text-gray-700 dark:text-gray-300"title="If checked, each input line should be a path to an input file in the server.">Server files'),Qm=w('<div id=input-div class="w-[40rem] items-center flex flex-col"style="height:calc(100vh - 10rem);"><div class=flex></div><div class="w-full flex items-center justify-center mt-1"ondragenter=onDragEnterInputFiles(event) ondragover=onDragOverInputFiles(event) ondragleave=onDragLeaveInputFiles(event) ondrop=onDropInputFiles(event)>');function Zm(t){function e(i,s){t.setInputMode(i),i=="drop"?t.setInputDataDrop(s):i=="paste"&&t.setInputDataPaste(s)}se(function(){t.inputMode=="drop"?t.setInputExists(t.inputDataDrop.length>0):t.inputMode=="paste"&&t.setInputExists(t.inputDataPaste.length>0)});function n(i){t.setSeparateJobPerFile(!t.separateJobPerFile)}function r(i){t.setServerFileMode(!t.serverFileMode())}return(()=>{const i=Qm(),s=i.firstChild,o=s.nextSibling;return f(s,h(Im,{get assembly(){return t.assembly},get setAssembly(){return t.setAssembly}}),null),f(s,h(Dm,{get inputFormat(){return t.inputFormat},get setInputFormat(){return t.setInputFormat}}),null),f(s,h(U,{get when(){return t.inputMode=="drop"},get children(){const l=Gm(),a=l.firstChild;return a.$$click=n,E(()=>a.checked=t.separateJobPerFile),l}}),null),f(s,h(U,{get when(){return t.inputMode=="paste"},get children(){const l=Km(),a=l.firstChild;return a.$$click=r,l}}),null),f(o,h(si,{get children(){return[h(Tt,{get when(){return t.inputMode=="drop"},get children(){return h(Um,{get setInputMode(){return t.setInputMode},get inputDataDrop(){return t.inputDataDrop},get setInputDataDrop(){return t.setInputDataDrop}})}}),h(Tt,{get when(){return t.inputMode=="paste"},get children(){return h(Bm,{get setInputMode(){return t.setInputMode},changeInputData:e,get inputDataPaste(){return t.inputDataPaste},get assembly(){return t.assembly},get setAssembly(){return t.setAssembly},get inputFormat(){return t.inputFormat},get setInputFormat(){return t.setInputFormat}})}})]}})),f(i,h(Hm,{get inputExists(){return t.inputExists},get jobName(){return t.jobName},get setJobName(){return t.setJobName}}),null),f(i,h(Wm,{get inputExists(){return t.inputExists},get jobNote(){return t.jobNote},get setJobNote(){return t.setJobNote}}),null),f(i,h(Jm,{get inputExists(){return t.inputExists},get submitFn(){return t.submitFn}}),null),i})()}F(["click"]);const Ym=w('<input class="block w-full text-xs text-gray-900 bg-gray-50 rounded-lg border border-gray-300 cursor-pointer dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400"type=file>'),Xm=w('<select class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">'),ep=w('<div class="flex flex-col mb-4"><span class="mb-2 font-xs">'),tp=w("<input type=text>"),np=w("<option>"),{setModuleOption:rp,getModuleOptions:ev,getModuleOption:ip}=Ne;function sp(t){const[e,n]=k(null);se(function(){const i=ip(t.moduleName,t.option.name);e()==null&&i!=null&&n(i.value)});function r(i){const s=i.target.value;n(i.target.value),rp(t.moduleName,t.option,s)}return(()=>{const i=ep(),s=i.firstChild;return f(s,()=>t.option.title),f(i,h(si,{get fallback(){return(()=>{const o=tp();return o.$$keyup=r,E(()=>o.value=e()),o})()},get children(){return[h(Tt,{get when(){return t.option.method=="file"},get children(){const o=Ym();return o.addEventListener("change",r),o}}),h(Tt,{get when(){return t.option.method=="select"},get children(){const o=Xm();return o.addEventListener("change",r),o.$$click=function(l){l.stopPropagation()},f(o,h(ce,{get each(){return t.option.options},children:l=>(()=>{const a=np();return a.value=l,f(a,l),a})()})),E(()=>q(o,"title",t.option.help)),E(()=>o.value=e()),o}})]}}),null),E(()=>q(s,"title",t.option.help)),i})()}F(["click","keyup"]);function op(){const[t,e]=Se({__initial:!0}),[n,r]=Se({__initial:!0}),[i,s]=Se({__initial:!0});return se(function(){t.__initial==!0&&e(he({})),n.__initial==!0&&r(he({})),i.__initial==!0&&s(he({}))}),{annotators:t,setAnnotators:e,postaggregators:n,setPostaggregators:r,reporters:i,setReporters:s}}const sr=ie(op),{localModules:Xt}=Ne,{remoteModules:lp}=Re,{annotators:Es,setAnnotators:Xr,postaggregators:As,setPostaggregators:ei,reporters:Os,setReporters:ti}=sr;function El(t){const n=Xt[t].type;let r=[];or(t,r,[]),n=="annotator"?Xr(t,void 0):n=="postaggregator"?ei(t,void 0):n=="reporter"&&ti(t,void 0);for(const s of r)s in Es?Xr(s,void 0):s in As?ei(s,void 0):s in Os&&ti(s,void 0);for(const s in{...Es})Ct(s);for(const s in{...As})Ct(s);for(const s in{...Os})Ct(s)}function Vt(t){const e=[];Al(t,e);for(const n of e)El(n)}function ni(t){const e=[];or(t,e,[]);for(const r of e)El(r)}function Ct(t){ap(t)}function or(t,e,n){const r=Xt[t];if(r==null){n.includes(t)==!1&&n.push(t);return}e.includes(t)==!1&&e.push(t);const i=r.conf;if(i==null)return;const s=i.requires;if(s!=null)for(const o of s)e.indexOf(o)==-1&&or(o,e,n)}function Al(t,e){for(const n in Xt){const i=Xt[n].conf.requires;if(i==null||i.length==0)continue;[...i].includes(t)&&e.indexOf(t)==-1&&e.indexOf(n)==-1&&(e.push(n),Al(n,e))}return e.push(t),e}function ap(t){const e=[t],n=[];or(t,e,n);const r=[];for(const i of n){const s=lp[i];(s==null||s.type!="webviewerwidget")&&r.push(s)}if(r.length>0){let i=`The following modules should be installed to run this module:
`;for(const o of r)i+=o.name+`
`;Y({response:{data:{msg:i}}});return}for(const i of e){const s=Xt[i],o=s.type;if(o=="annotator")Xr(i,s);else if(o=="postaggregator")ei(i,s);else if(o=="reporter")ti(i,s);else continue}}const cp=w('<div class="relative modulecard relative items-center space-x-3 rounded-lg border border-gray-300 px-6 shadow-sm focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:border-gray-400 p-2 z-0 mb-2"><div class="absolute left-0 bottom-0 w-full p-2 cursor-default"style="background-color:rgba(68, 64, 60, 0.3);"><a class="relative remove-up text-sm h-8 inline-flex items-center rounded-md border border-gray-300 px-2 py-2 text-sm font-medium text-gray-500 cursor-pointer focus:z-20 bg-white hover:bg-gray-100"title="Remove this module and any module depending on this module from analysis"></a><a class="ml-2 relative remove-up-down text-sm h-8 inline-flex items-center rounded-md border border-gray-300 px-2 py-2 text-sm font-medium text-gray-500 cursor-pointer focus:z-20 bg-white hover:bg-gray-100"title="Remove this module and all modules required by this module from analysis"></a></div><div><div class="float-left w-24 h-24 mr-2 flex justify-center items-center"><img class="w-20 rounded-lg"></div><div class="min-w-0 flex-1"style=min-height:6rem;><a class=focus:online-none><p class="text-md font-semibold text-gray-700"></p><p class="text-sm text-gray-500"></p></a></div></div><div class=w-full>');function lr(t){const{serverUrl:e}=Q,{localModules:n}=Ne,[r,i]=k(!1),{annotators:s,postaggregators:o,reporters:l}=sr,a=n[t.moduleName];function u(g){return g&&t.moduleName in g}function c(){return u(s)||u(o)||u(l)}function d(g){g.stopPropagation();const m=g.target.closest("a");let p=!1,v=!1;m!=null&&(p=m.classList.contains("remove-up"),v=m.classList.contains("remove-up-down")),t.cardType=="selected"?p?Vt(t.moduleName):v?(Vt(t.moduleName),ni(t.moduleName)):a.type=="reporter"&&Ct(t.moduleName):c()?p?Vt(t.moduleName):v&&(Vt(t.moduleName),ni(t.moduleName)):Ct(t.moduleName)}return(()=>{const g=cp(),m=g.firstChild,p=m.firstChild,v=p.nextSibling,b=m.nextSibling,y=b.firstChild,_=y.firstChild,x=y.nextSibling,I=x.firstChild,T=I.firstChild,C=T.nextSibling,A=b.nextSibling;return g.$$click=d,g.addEventListener("mouseleave",$=>i(!1,$)),g.addEventListener("mouseenter",$=>i(!0,$)),f(p,h(vg,{})),f(v,h(Si,{})),f(T,()=>a&&a.title),f(C,()=>a&&a.conf.description),f(A,h(U,{get when(){return(t.cardType=="selected"||a.type=="reporter")&&a.conf.module_options},get children(){return h(ce,{get each(){return a.conf.module_options},children:$=>h(sp,{get moduleName(){return t.moduleName},option:$})})}})),E($=>{const O=!!c(),R=t.cardType!="selected"||a.type=="reporter",B=t.cardType!="selected",z=!!(t.cardType=="selected"&&a.conf.module_options&&c()),P=a&&a.name,M=a&&a.kind,J=!r()||!c(),W=e+"/store/locallogo?module="+t.moduleName;return O!==$._v$&&g.classList.toggle("checked",$._v$=O),R!==$._v$2&&g.classList.toggle("cursor-copy",$._v$2=R),B!==$._v$3&&g.classList.toggle("max-h-64",$._v$3=B),z!==$._v$4&&g.classList.toggle("pb-16",$._v$4=z),P!==$._v$5&&q(g,"name",$._v$5=P),M!==$._v$6&&q(g,"kind",$._v$6=M),J!==$._v$7&&m.classList.toggle("hidden",$._v$7=J),W!==$._v$8&&q(_,"src",$._v$8=W),$},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),g})()}F(["click"]);const up=w('<div id=report-choice-div class="w-[36rem] flex flex-col justify-center items-center"><div class="text-md text-gray-600">(Optional) reporters to run</div><div id=report-choice-items class="w-96 grid gap-2 justify-center overflow-y-auto bg-gray-100 py-4 rounded-md"style="height:calc(100vh - 10rem);">'),dp=async()=>{const{serverUrl:t}=Q;return(await(await fetch(t+"/submit/reporttypes")).json()).valid};function fp(){const[t]=en(dp);return(()=>{const e=up(),n=e.firstChild,r=n.nextSibling;return f(r,h(ce,{get each(){return t()},children:i=>h(lr,{moduleName:i+"reporter",cardType:"selected"})})),e})()}const hp=w('<div id=cta-analysis-module-choice class="absolute inset-x-0 bottom-0 cursor-pointer"><div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"><div class="rounded-lg bg-indigo-50 p-2 shadow-md sm:p-3"><div class="flex flex-wrap items-center justify-between"><div class="flex w-0 flex-1 items-center"><p class="ml-3 truncate font-medium text-gray-500 text-center"><span>Click to select analysis modules');function gp(t){function e(){document.querySelector("#analysis-module-choice-div").scrollIntoView({behavior:"smooth"})}return(()=>{const n=hp(),r=n.firstChild,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild;return n.$$click=e,f(o,h(fg,{color:"#6b7280"}),l),n})()}F(["click"]);const mp=w("<button type=button class=filter-category>");function xt(t){function e(n){t.setFilterCategory(t.value)}return(()=>{const n=mp();return n.$$click=e,f(n,()=>t.title),E(r=>{const i=t.value==t.filterCategory,s=t.pos=="left",o=t.pos=="right";return i!==r._v$&&n.classList.toggle("pinned",r._v$=i),s!==r._v$2&&n.classList.toggle("rounded-l-lg",r._v$2=s),o!==r._v$3&&n.classList.toggle("rounded-r-md",r._v$3=o),r},{_v$:void 0,_v$2:void 0,_v$3:void 0}),E(()=>n.value=t.value),n})()}F(["click"]);const{localModules:pp}=Ne;function Fn(t){return Object.keys(t).length==0}function ri(t,e){let n=[];for(const[r,i]of Object.entries(pp)){let s=!0;r=="tagsampler"||r=="vcfinfo"||r=="varmeta"||i.type!="annotator"&&i.type!="postaggregator"?s=!1:e!=null&&(e=="no tag"?i.tags.length>0&&(s=!1):i.tags.indexOf(e)==-1&&(s=!1)),s&&t!=null&&(s=!1,(r.indexOf(t)>=0||i.title.indexOf(t)>=0||i.description&&i.description.indexOf(t)>=0)&&(s=!0)),s&&n.push(r)}return n.sort(),n}function Ol(t){let o="";return t>1099511627776?o=(t/1099511627776).toFixed(1)+" TB":t>1073741824?o=(t/1073741824).toFixed(1)+" GB":t>1048576?o=(t/1048576).toFixed(1)+" MB":t>1024?o=(t/1024).toFixed(1)+" KB":o=t+"B",o}const bp=w('<div class="flex mb-2"><label for=search class=sr-only>Search</label><input type=text name=search class="block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm mr-2 w-48"placeholder=Search><button type=button class="items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">Add all</button><button type=button class="items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ml-2">Remove all');function Rl(t){function e(i){t.setSearchText(i.target.value)}function n(){const i=ri(t.searchText,t.selectedTag);for(const s of i)Ct(s)}function r(){const i=ri(t.searchText,t.selectedTag);for(const s of i)Vt(s),ni(s)}return(()=>{const i=bp(),s=i.firstChild,o=s.nextSibling,l=o.nextSibling,a=l.nextSibling;return o.$$keyup=e,l.$$click=n,a.$$click=r,E(()=>o.value=t.searchText),i})()}F(["keyup","click"]);const yp=w('<div class="filtered-modules-div overflow-auto pr-2"style="height:calc(95vh - 10rem);">');function Nl(t){return(()=>{const e=yp();return f(e,h(ce,{get each(){return ri(t.searchText,t.selectedTag)},children:n=>h(lr,{moduleName:n})})),E(n=>{const r=`filtered-modules-${t.kind}`,i=t.noCols==2,s=t.noCols==1;return r!==n._v$&&q(e,"id",n._v$=r),i!==n._v$2&&e.classList.toggle("grid-cols-2",n._v$2=i),s!==n._v$3&&e.classList.toggle("grid-cols-1",n._v$3=s),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),e})()}const vp=w('<div id=analysis-module-filter-panel-all class="analysis-module-filter-panel w-full mt-4 overflow-auto">');function _p(t){const[e,n]=k(null),[r,i]=k(null);return(()=>{const s=vp();return f(s,h(Rl,{kind:"all",get searchText(){return e()},setSearchText:n,get selectedTag(){return r()}}),null),f(s,h(Nl,{kind:"all",side:"local",noCols:1,get searchText(){return e()}}),null),E(()=>s.classList.toggle("hidden",t.filterCategory!="all")),s})()}const wp=w('<div class="relative flex items-start mb-2"><div class="flex items-center"><input type=radio name=module-tag class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label class="ml-3 block text-sm font-medium text-gray-600">');function xp(t){return t.replace(" ","_")}function kp(t){return t.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function Pl(t){const e=`module-tag-radio-${xp(t.value)}`;return(()=>{const n=wp(),r=n.firstChild,i=r.firstChild,s=i.nextSibling;return i.$$click=t.setSelectedTag,i.$$clickData=t.value,q(i,"id",e),q(s,"for",e),f(s,()=>kp(t.value)),E(()=>q(n,"title",t.title)),E(()=>i.value=t.value),E(()=>i.checked=t.selectedTag==t.value),n})()}F(["click"]);const $p=w('<div id=analysis-module-filter-panel-tags class="analysis-module-filter-panel w-full mt-4 overflow-auto grid grid-cols-3"><div id=analysis-module-filter-items-tags class="col-span-1 flex flex-col justify-leading pl-1 overflow-y-auto"style="height:calc(95vh - 8rem);"></div><div class=col-span-2>'),Sp=async()=>{const{serverUrl:t}=Q;let e=await(await fetch(t+"/submit/tags_annotators_postaggregators")).json();return e.push("no tag"),e};function Ip(t){const[e]=en(Sp),[n,r]=k(null),[i,s]=k(null);return(()=>{const o=$p(),l=o.firstChild,a=l.nextSibling;return f(l,h(ce,{get each(){return e()},children:u=>h(Pl,{value:u,setSelectedTag:s})})),f(a,h(Rl,{kind:"tags",get searchText(){return n()},setSearchText:r,get selectedTag(){return i()}}),null),f(a,h(Nl,{kind:"tags",noCols:1,get selectedTag(){return i()},get searchText(){return n()}}),null),E(()=>o.classList.toggle("hidden",t.filterCategory!="tags")),o})()}const Cp=w('<div class="analysis-module-filter-wrapper col-span-7"><div id=analysis-module-filter-kinds class=w-full><div class="inline-flex rounded-md shadow-sm"role=group>');function Tp(t){const[e,n]=k("all");return(()=>{const r=Cp(),i=r.firstChild,s=i.firstChild;return f(s,h(xt,{value:"all",title:"All",pos:"left",get filterCategory(){return e()},setFilterCategory:n}),null),f(s,h(xt,{value:"tags",title:"Tags",pos:"right",get filterCategory(){return e()},setFilterCategory:n}),null),f(r,h(_p,{get filterCategory(){return e()},get localModules(){return t.localModules}}),null),f(r,h(Ip,{get filterCategory(){return e()},get localModules(){return t.localModules}}),null),r})()}const Ep=w('<div class=col-span-4><div class="text-gray-600 bg-gray-100 rounded-md border border-transparent font-medium px-3 py-1.5 h-[34px]">Selected analysis modules</div><div class="flex mb-2 mt-4"><button type=button class="items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 h-[38px]">Clear</button></div><div class="relative filtered-modules-div overflow-auto pr-2">');function Ap(){const{annotators:t,setAnnotators:e,postaggregators:n,setPostaggregators:r}=sr;function i(){let o=[];for(const l in t)o.push(l);for(const l in n)o.push(l);return o.sort(),o}function s(){e({}),r({})}return(()=>{const o=Ep(),l=o.firstChild,a=l.nextSibling,u=a.firstChild,c=a.nextSibling;return u.$$click=s,c.style.setProperty("height","calc(100vh - 12rem)"),f(c,h(ce,{get each(){return i()},children:function(d){return h(lr,{moduleName:d,cardType:"selected"})}})),o})()}F(["click"]);const Op=w('<div id=cta-input class="absolute inset-x-0 top-0 cursor-pointer"><div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"><div class="rounded-lg bg-indigo-50 p-2 shadow-md sm:p-3"><div class="flex flex-wrap items-center justify-between"><div class="flex w-0 flex-1 items-center"><p class="ml-3 truncate font-medium text-gray-500 text-center"><span>Go back to the input panel');function Rp(t){function e(){document.querySelector("#input-div").scrollIntoView({behavior:"smooth"})}return(()=>{const n=Op(),r=n.firstChild,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild;return n.$$click=e,f(o,h(mg,{color:"#6b7280"}),l),n})()}F(["click"]);const Np=w('<div id=analysis-module-choice-div class="relative container mt-6 mb-4 snap-center flex justify-center max-w-7xl max-w-7xl"><div id=analysis-module-filter-div class="bg-white p-4 rounded-md ml-4 mt-4 overflow-auto flex flex-col gap-8 text-gray-600 h-[95vh] w-full"><div id=analysis-module-div class="grid grid-cols-12 gap-2 mt-8"style="height:calc(95vh - 20rem);"><div class="col-span-1 flex flex-col justify-center content-center items-center">');function Pp(t){return(()=>{const e=Np(),n=e.firstChild,r=n.firstChild,i=r.firstChild;return e.style.setProperty("height","calc(100vh - 3rem)"),f(e,h(Rp,{}),n),f(r,h(Tp,{get localModules(){return t.localModules}}),i),f(i,h(gg,{})),f(r,h(Ap,{}),null),e})()}const Dp=w('<li><a href=# class="block hover:bg-gray-50"><div class=py-4><div class="flex items-center justify-between"><p class="truncate text-sm font-medium text-indigo-600"></p></div><div class="mt-2 sm:flex sm:justify-between"><div class="mt-2 w-full flex items-center text-sm text-gray-500 sm:mt-0"><div class="w-full bg-gray-200 rounded-full dark:bg-gray-700"><div class="bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full">%');function Mp(t){return(()=>{const e=Dp(),n=e.firstChild,r=n.firstChild,i=r.firstChild,s=i.firstChild,o=i.nextSibling,l=o.firstChild,a=l.firstChild,u=a.firstChild,c=u.firstChild;return f(s,()=>t.fileName),f(u,()=>t.progress,c),E(()=>t.progress+"%"!=null?u.style.setProperty("width",t.progress+"%"):u.style.removeProperty("width")),e})()}const Lp=w('<div class="relative z-10"aria-labelledby=modal-title role=dialog aria-modal=true><div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div class="relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-2xl sm:p-6"><div><div class="mt-3 text-center sm:mt-5"><ul role=list class="divide-y divide-gray-200"></ul></div></div><div class="mt-5 sm:mt-6"><button type=button class="inline-flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:text-sm">Cancel');function jp(t){function e(){t.controller.abort()}return(()=>{const n=Lp(),r=n.firstChild,i=r.nextSibling,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.firstChild,u=a.firstChild,c=l.nextSibling,d=c.firstChild;return f(u,h(Mp,{fileName:"Uploading...",get progress(){return t.uploadState.progress}})),d.$$click=e,n})()}F(["click"]);const Up=w('<div class="relative z-10"aria-labelledby=modal-title role=dialog aria-modal=true><div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div class="relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:p-6"><div><div class="mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100"><svg class="h-6 w-6 text-green-600"xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M4.5 12.75l6 6 9-13.5"></path></svg></div><div class="mt-3 text-center sm:mt-5"><h3 class="text-lg font-medium leading-6 text-gray-900"></h3><div class=mt-2><p class="text-sm text-gray-500"></p></div></div></div><div class="mt-5 sm:mt-6"><button type=button class="inline-flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:text-sm">Dismiss');function Ii(t){return(()=>{const e=Up(),n=e.firstChild,r=n.nextSibling,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.nextSibling,u=a.firstChild,c=u.nextSibling,d=c.firstChild,g=o.nextSibling,m=g.firstChild;return f(u,()=>t.title),f(d,()=>t.text),Wn(m,"click",t.callback,!0),e})()}F(["click"]);const Fp=w('<div class="tabcontent p-4 snap-y snap-mandatory h-screen overflow-y-auto"><div class="relative container flex gap-8 snap-center max-w-7xl h-[95vh] justify-center items-start">'),Bp=w("<div>Loading..."),zp=w("<div><span>Analysis submission was successful.</span><br><span>You can find the status of your analysis submission on the Results section.</span><br><span>"),{tabName:Hp}=st,{localModules:Vp,getModuleOptions:Wp}=Ne,{serverUrl:qp,withCredentials:Jp}=Q,{logged:Rs}=be,{multiuser:Ns}=ve;function Gp(t){const[e,n]=k("drop"),[r,i]=k(""),[s,o]=k([]),[l,a]=k(""),{annotators:u,setAnnotators:c,postaggregators:d,setPostaggregators:g,reporters:m,setReporters:p}=sr,[v,b]=k(""),[y,_]=k(!1),[x,I]=k(null),[T,C]=k(null),[A,$]=k(!1),[O,R]=k({}),[B,z]=k(!1),[P,M]=k(null),[J,W]=k(!1),[oe,V]=k(!1);let te=[],ue=null,ne={},Pe;se(function(){Ns()&&!Rs()&&yt()});function yt(){n("drop"),i(""),o([]),a([]),c(he({})),g(he({})),p(he({})),b(""),_(!1),I(null),C(null),$(!1),R({})}function He(){return oe()}function Ut(){let H=[],we=l().split(`
`);for(var Ve=0;Ve<we.length;Ve++){let ye=we[Ve];ye==""||ye.startsWith("#")||H.push(ye.trim())}H.length>0&&(ne.inputServerFiles=H)}function Kl(){te=[];const H=new Blob([l()],{type:"text/plain"});te.push(new File([H],"input"))}function Ql(){He()?Ut():Kl()}function Zl(){ne.annotators=[];for(const H in u)ne.annotators.push(H)}function Yl(){ne.postaggregators=[];for(const H in d)ne.postaggregators.push(H)}function Xl(){ne.reports=[];for(const H in m)ne.reports.push(H.substring(0,H.lastIndexOf("reporter")))}function ea(){v()!="auto"&&(ne.genome=v())}function ta(){ne.input_format=r()}function na(){ne.job_name=x()}function ra(){ne.note=T()}function ia(H){let we={};for(const ye in u)we[ye]=u[ye];for(const ye in d)we[ye]=d[ye];for(const ye in m)we[ye]=m[ye];const Ve=Wp(we,H);ne.module_options=Ve}function Ai(){Pe=new AbortController,$(!0),R({progress:0}),K({method:"post",url:qp+"/submit/submit?"+Math.random(),data:ue,transformRequest:()=>ue,signal:Pe.signal,withCredentials:Jp,onUploadProgress:H=>{let we=Math.round(H.progress*100);R({progress:we})}}).then(function(H){$(!1),M(H.data.job_name),z(!0),setTimeout(function(){t.setJobsTrigger(!t.jobsTrigger)},500)}).catch(function(H){H.code!="ERR_CANCELED"&&Y(H),R({}),$(!1)})}function sa(){ne.combine_input=J()!=!0}function Oi(){te={},e()=="drop"?te=s():e()=="paste"&&Ql()}function oa(){if(te.length>0)for(var H=0;H<te.length;H++)ue.append("file_"+H,te[H])}function la(H){ue.append("file_"+H,te[H])}function aa(){ue=new FormData}function Ri(H){aa(),J()!=!0?oa():la(H),ca()}function ca(){Zl(),Yl(),Xl(),ea(),ta(),sa(),na(),ra(),ia(ue),ne.writeadmindb=!0,ue.append("options",JSON.stringify(ne))}function ua(){ne={},Oi(),Ri(),Ai()}function da(){ne={},Oi();for(let H=0;H<te.length;H++)Ri(H),Ai()}function fa(){J()==!0?da():ua()}return(()=>{const H=Fp(),we=H.firstChild;return f(we,h(U,{get when(){return Ns()==!1||Rs()==!0},get children(){return h(Zm,{get inputMode(){return e()},setInputMode:n,get inputDataDrop(){return s()},setInputDataDrop:o,get inputDataPaste(){return l()},setInputDataPaste:a,get assembly(){return v()},setAssembly:b,get inputFormat(){return r()},setInputFormat:i,get inputExists(){return y()},setInputExists:_,get jobName(){return x()},setJobName:I,get jobNote(){return T()},setJobNote:C,submitFn:fa,get separateJobPerFile(){return J()},setSeparateJobPerFile:W,serverFileMode:oe,setServerFileMode:V})}}),null),f(we,h(U,{get when(){return y()},get children(){return[h(U,{get when(){return!Fn(Vp)},get fallback(){return Bp()},get children(){return h(fp,{})}}),h(gp,{})]}}),null),f(H,h(U,{get when(){return y()},get children(){return h(Pp,{})}}),null),f(H,h(U,{get when(){return A()},get children(){return h(jp,{get uploadState(){return O()},controller:Pe})}}),null),f(H,h(U,{get when(){return B()==!0},get children(){return h(Ii,{get title(){return"Success: "+P()},get text(){return(()=>{const Ve=zp(),ye=Ve.firstChild,ha=ye.nextSibling,ga=ha.nextSibling,ma=ga.nextSibling,pa=ma.nextSibling;return f(pa,()=>"Look for the name "+P()+"."),Ve})()},callback:function(){z(!1)}})}}),null),E(()=>H.classList.toggle("hidden",Hp()!="submit")),H})()}const Kp=w('<a href=# class="text-gray-600 block px-4 py-2 text-sm text-right hover:bg-gray-100 hover:text-gray-900"role=menuitem tabindex=-1 value="">');function Qp(t){function e(){t.setAction(t.optionValue),t.execute(),t.setShow(!1)}return(()=>{const n=Kp();return n.$$click=e,f(n,()=>t.optionTitle),n})()}F(["click"]);const Zp=w('<div class="option-list ease-in absolute right-0 z-10 mt-12 w-24 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"role=menu><div class=py-1 role=none>');function Yp(t){return(()=>{const e=Zp(),n=e.firstChild;return f(n,h(ce,{get each(){return t.options},children:function(r){return h(Qp,{get optionValue(){return r.value},get optionTitle(){return r.title},get execute(){return t.execute},get setAction(){return t.setAction},get setShow(){return t.setShow}})}})),E(()=>e.classList.toggle("hidden",!t.show)),e})()}const Xp=w('<div class="select-div relative inline-flex text-left"><div><button type=button class="inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-600 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100"id=assembly-select-div title="Job action">Action');function e0(t){const[e,n]=k(!1),[r,i]=k(""),s=[{value:"abort",title:"Abort"},{value:"delete",title:"Delete"}];function o(){t.performJobAction(r())}function l(a){n(!e())}return(()=>{const a=Xp(),u=a.firstChild,c=u.firstChild;return c.firstChild,c.$$click=l,f(c,h(ir,{class:"-mr-1 ml-2 h-5 w-5"}),null),f(a,h(Yp,{get show(){return e()},options:s,execute:o,setAction:i,setShow:n}),null),a})()}F(["click"]);const t0=w('<div class="flex bg-white pb-2 mt-2"><div class=flex><nav class="isolate inline-flex rounded-md shadow-sm ml-8"aria-label=Pagination><a href=# class="jobs-table-page-nav-btn relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20"></a><span aria-current=page class="relative z-10 inline-flex items-center border bg-white border-gray-300 text-gray-500 px-4 py-2 text-sm font-medium focus:z-20"></span><a href=# class="jobs-table-page-nav-btn relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20"></a><span class="relative inline-flex items-center border-gray-300 bg-white ml-4 px-2 py-2 text-sm font-medium text-gray-500">Go to page</span><input type=text class="relative inline-flex items-center rounded-md w-12 border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500"><a href=# class="relative inline-flex items-center rounded-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20">Go</a><span class="relative inline-flex items-center border-gray-300 bg-white ml-4 px-2 py-2 text-sm font-medium text-gray-500">Show</span><input type=text class="relative inline-flex items-center rounded-md w-12 border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500"><a href=# class="relative inline-flex items-center rounded-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20">jobs per page</a><a href=# class="relative inline-flex items-center rounded-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20 ml-4">');function n0(t){function e(){let o=t.pageno;o=o-1,o<=0&&(o=1),o!=t.pageno&&t.setPageno(o)}function n(){let o=t.pageno;o=o+1,o!=t.pageno&&t.setPageno(o)}function r(o){let l=o.target.value;try{l=parseInt(l)}catch(a){console.error(a);return}l<1&&(l=1),t.setPageno(l)}function i(o){let l=o.target.value;try{l=parseInt(l)}catch(a){console.error(a);return}t.setPagesize(l)}function s(o){t.setJobsTrigger(!t.jobsTrigger)}return(()=>{const o=t0(),l=o.firstChild,a=l.firstChild,u=a.firstChild,c=u.nextSibling,d=c.nextSibling,g=d.nextSibling,m=g.nextSibling,p=m.nextSibling,v=p.nextSibling,b=v.nextSibling,y=b.nextSibling,_=y.nextSibling;return f(l,h(e0,{get performJobAction(){return t.performJobAction}}),a),u.$$click=e,f(u,h(pg,{class:"w-5 h-5"})),f(c,()=>t.pageno),d.$$click=n,f(d,h(bg,{class:"w-5 h-5"})),m.addEventListener("change",r),b.addEventListener("change",i),_.$$click=s,f(_,h(hg,{class:"w-5 h-5"})),E(()=>m.value=t.pageno),E(()=>b.value=t.pagesize),o})()}F(["click"]);const r0=w("<a>");function Sn(t){return(()=>{const e=r0();return Wn(e,"click",t.clickFn,!0),f(e,()=>t.children),E(n=>{const r="relative text-sm h-8 inline-flex items-center rounded-md border border-gray-300 px-2 py-2 text-sm font-medium text-gray-500 cursor-pointer focus:z-20 "+t.bgColor+" "+t.bgHoverColor,i=t.hrefValue,s=t.targetValue;return r!==n._v$&&ct(e,n._v$=r),i!==n._v$2&&q(e,"href",n._v$2=i),s!==n._v$3&&q(e,"target",n._v$3=s),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),e})()}F(["click"]);const Ps=w("<div>"),i0=w('<span class="inline-flex rounded-full bg-green-100 px-2 text-xs font-semibold leading-5 text-green-800">'),s0=w('<span class="inline-flex rounded-full bg-amber-100 px-2 text-xs font-semibold leading-5 text-amber-800">'),o0=w('<span class="inline-flex rounded-full bg-red-100 px-2 text-xs font-semibold leading-5 text-red-800">'),l0=w('<span class="inline-flex text-xs">'),a0=w('<tr class="text-sm h-16"><td scope=col class="relative w-12 px-6 sm:w-16 sm:px-8 bg-gray-50"><input type=checkbox class="absolute left-4 top-1/2 -mt-2 h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 sm:left-6"></td><td class=jobs-table-td></td><td class="jobs-table-td bg-gray-50"></td><td class=jobs-table-td></td><td class="jobs-table-td bg-gray-50"></td><td class=jobs-table-td></td><td class="jobs-table-td bg-gray-50 text-xs"></td><td class=jobs-table-td></td><td class="jobs-table-td bg-gray-50"></td><td class=jobs-table-td>');function c0(t){return t=="Finished"||t=="Error"||t=="Aborted"}function u0(t){const{serverUrl:e,withCredentials:n}=Q,r=1e4;let i=null;Xs(()=>clearInterval(i));function s(){t.changeJobChecked(t.job.uid),t.setAllMarksOn(null)}function o(){K.get(e+"/submit/jobstatus",{params:{uid:t.job.uid},withCredentials:n}).then(function(b){const y=b.data;c0(y)&&clearInterval(i),t.changeJobStatus(t.job.uid,y)}).catch(function(b){console.error(b)})}function l(){const b=t.job.status;b!="Finished"&&b!="Error"&&b!="Aborted"&&(i=setInterval(function(){o()},r))}function a(){return t.job.status=="Finished"}function u(){return a()?h(Sn,{children:"View",get hrefValue(){return e+"/result/nocache/index.html?uid="+t.job.uid},targetValue:"_blank",bgColor:"bg-sky-100",bgHoverColor:"hover:bg-sky-200"}):Ps()}function c(){return h(Sn,{children:"Log",get hrefValue(){return e+"/submit/joblog?uid="+t.job.uid},targetValue:"_blank",bgColor:"bg-gray-100",bgHoverColor:"hover:bg-gray-200"})}function d(){return a()?h(Sn,{children:"DB",get hrefValue(){return e+"/submit/jobdb?uid="+t.job.uid},targetValue:"_blank",bgColor:"bg-gray-100",bgHoverColor:"hover:bg-gray-200"}):Ps()}function g(){const b=t.job.status;return b=="Finished"?(()=>{const y=i0();return f(y,()=>t.job.status),y})():b=="Aborted"?(()=>{const y=s0();return f(y,()=>t.job.status),y})():b=="Error"?(()=>{const y=o0();return f(y,()=>t.job.status),y})():(()=>{const y=l0();return f(y,()=>t.job.status),y})()}function m(){return t.job.info_json.orig_input_fname?t.job.info_json.orig_input_fname.join(", "):""}function p(){return(""+new Date(t.job.info_json.submission_time)).split("GMT")[0]}function v(){let b=[];const y=t.job.info_json;if(!y)return"";const _=y.annotators;if(_)for(const I of _)I!="original_input"&&b.push(I);const x=y.postaggregators;if(x)for(const I of x)b.push(I);return b.join(", ")}return l(),(()=>{const b=a0(),y=b.firstChild,_=y.firstChild,x=y.nextSibling,I=x.nextSibling,T=I.nextSibling,C=T.nextSibling,A=C.nextSibling,$=A.nextSibling,O=$.nextSibling,R=O.nextSibling,B=R.nextSibling;return y.$$click=s,f(x,()=>t.job.name),f(I,g),f(T,u),f(C,m),f(A,v),f($,p),f(O,c),f(R,d),f(B,()=>t.job.info_json.note),E(()=>_.checked=t.job.checked),b})()}F(["click"]);const d0=w('<div class="flex flex-col"><div class="relative shadow ring-1 ring-black ring-opacity-5 md:rounded-lg overflow-auto"><table class="table-fixed divide-y divide-gray-300"><thead class="table-header-group bg-gray-50 block"><tr><th scope=col class="relative w-12 px-6 sm:w-16 sm:px-8"><input type=checkbox class="absolute left-4 top-1/2 -mt-2 h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 sm:left-6"></th><th scope=col class="jobs-table-th min-w-[10rem]">Name</th><th scope=col class="jobs-table-th min-w-[5rem]">State</th><th scope=col class="jobs-table-th min-w-[5rem]">View</th><th scope=col class="jobs-table-th min-w-[20rem]">Input</th><th scope=col class="jobs-table-th min-w-[10rem]">Modules</th><th scope=col class="jobs-table-th min-w-[8rem]">Submitted</th><th scope=col class="jobs-table-th min-w-[5rem]">Log</th><th scope=col class="jobs-table-th min-w-[5rem]">DB</th><th scope=col class="jobs-table-th w-full">Note</th></tr></thead><tbody class="table-row-group divide-y divide-gray-200 bg-white block overflow-auto h-[36rem]">');function f0(t){const[e,n]=k(null);function r(){if(e()==!0?n(!1):(e()==null||e()==!1)&&n(!0),e()==!0)for(const i of t.jobs)t.changeJobChecked(i.uid,!0);else if(e()==!1)for(const i of t.jobs)t.changeJobChecked(i.uid,!1)}return(()=>{const i=d0(),s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.firstChild,u=a.firstChild,c=u.firstChild,d=l.nextSibling;return c.$$click=r,f(d,h(ce,{get each(){return t.jobs},children:g=>h(u0,{job:g,get changeJobStatus(){return t.changeJobStatus},get changeJobChecked(){return t.changeJobChecked},setAllMarksOn:n})})),E(()=>c.checked=e()),i})()}F(["click"]);const h0=w('<div class="relative z-10"aria-labelledby=modal-title role=dialog aria-modal=true><div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div class="relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:p-6"><div><div class=text-center><p class="text-sm text-gray-500">');function g0(t){return(()=>{const e=h0(),n=e.firstChild,r=n.nextSibling,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.firstChild;return f(a,()=>t.msg),E(()=>e.classList.toggle("hidden",t.msg==null)),e})()}const m0=w('<div id=tab_jobs class="tabcontent px-6 mb-4"><div>'),{serverUrl:Ds,withCredentials:Ms}=Q,{logged:p0,setLogged:b0}=be,{multiuser:y0}=ve;function v0(t){const{tabName:e}=st,[n,r]=Se([]),[i,s]=k(1),[o,l]=k(10),[a,u]=k(null);se(function(){i(),o(),t.jobsTrigger,(y0()==!1||p0()==!0)&&g()});function c(v,b){r(y=>y.uid==v,"status",b)}function d(v,b){b==null?r(y=>y.uid==v,"checked",y=>!y):r(y=>y.uid==v,"checked",b)}function g(){K.post(Ds+"/submit/jobs",{pageno:i(),pagesize:o()},{withCredentials:Ms}).then(function(v){if(v.status=="error"){b0(!1);return}const b=v.data;r(b)}).catch(function(v){console.error(v),v.response.status==404&&s(i()-1)})}function m(v,b){const y=v.map(_=>_.uid);K.post(Ds+"/submit/delete_jobs",{uids:y,abort_only:b},{withCredentials:Ms}).then(function(){t.setJobsTrigger(!t.jobsTrigger),u(null)}).catch(function(_){console.error(_),u(null)})}function p(v){const b=n.filter(y=>y.checked);v=="delete"?(u("Deleting jobs..."),m(b,!1)):v=="abort"&&(u("Aborting jobs..."),m(b,!0))}return(()=>{const v=m0(),b=v.firstChild;return f(b,h(n0,{get pageno(){return i()},setPageno:s,get pagesize(){return o()},setPagesize:l,get jobsTrigger(){return t.jobsTrigger},get setJobsTrigger(){return t.setJobsTrigger},performJobAction:p}),null),f(b,h(f0,{jobs:n,changeJobStatus:c,changeJobChecked:d}),null),f(v,h(g0,{get msg(){return a()}}),null),E(()=>v.classList.toggle("hidden",e()!="jobs")),v})()}const _0=(t,e)=>{const n=Ls(t),r=Ls(e),i=n.pop(),s=r.pop(),o=Fs(n,r);return o!==0?o:i&&s?Fs(i.split("."),s.split(".")):i||s?i?-1:1:0},w0=(t,e,n)=>{S0(n);const r=_0(t,e);return Dl[n].includes(r)},x0=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,Ls=t=>{if(typeof t!="string")throw new TypeError("Invalid argument expected string");const e=t.match(x0);if(!e)throw new Error(`Invalid argument not valid semver ('${t}' received)`);return e.shift(),e},js=t=>t==="*"||t==="x"||t==="X",Us=t=>{const e=parseInt(t,10);return isNaN(e)?t:e},k0=(t,e)=>typeof t!=typeof e?[String(t),String(e)]:[t,e],$0=(t,e)=>{if(js(t)||js(e))return 0;const[n,r]=k0(Us(t),Us(e));return n>r?1:n<r?-1:0},Fs=(t,e)=>{for(let n=0;n<Math.max(t.length,e.length);n++){const r=$0(t[n]||"0",e[n]||"0");if(r!==0)return r}return 0},Dl={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]},Bs=Object.keys(Dl),S0=t=>{if(typeof t!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof t}`);if(Bs.indexOf(t)===-1)throw new Error(`Invalid operator, expected one of ${Bs.join("|")}`)};function I0(){const[t,e]=Se({}),[n,r]=k(!1),[i,s]=k(!1),{localModules:o}=Ne,{remoteModules:l,getFilteredRemoteModules:a}=Re,[u,c]=k(!1),[d,g]=k(!1);se(function(){!Fn(o)&&!Fn(l)&&o.__initial==null&&l.__initial==null&&u()==!1&&(m(),c(!0),g(!1))});function m(){let _={},x=0;for(const I in l)if(I in o){_[I]={installed:!0};const T=o[I],C=l[I],A=T.version,$=C.latest_version;w0($,A,">")==!0?(_[I].update_available=!0,x+=1):_[I].update_available=!1}else _[I]={installed:!1,update_available:!1};e(_),s(x),r(x>0)}function p(_,x,I,T,C){const A=[];if(t==null||Object.keys(l).length==0)return A;for(const $ of a(_,x,I,C)){const O=t[$];let R=!1;O.installed==!0&&(T==!0?O.update_available==!0&&(R=!0):R=!0),R==!0&&A.push($)}return A}function v(_,x,I,T){const C=[];if(t==null||Object.keys(l).length==0)return C;for(const A of a(_,x,I,T))t[A].installed!=!0&&C.push(A);return C}function b(_){return t==null?!1:t[_].installed}function y(_){return t[_].update_available}return{moduleInstallStates:t,setModuleInstallStates:e,makeModuleInstallStates:m,updateAvailable:n,numUpdateAvailable:i,getInstalledModules:p,getNotInstalledModules:v,installed:b,updateAvailableForModule:y,initialLoaded:u,setInitialLoaded:c,refreshOn:d,setRefreshOn:g}}const ot=ie(I0);function C0(){const[t,e]=k(null),[n,r]=k(null);return{showDetailCard:t,setShowDetailCard:e,detailModuleName:n,setDetailModuleName:r}}const Ml=ie(C0),T0=w('<img class="w-20 rounded-lg">'),E0=w('<p class="text-sm text-gray-500">'),A0=w('<span class="inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800">Installed'),O0=w('<span class="inline-flex items-center rounded-full bg-yellow-100 px-2.5 py-0.5 text-xs font-medium text-yellow-800">New'),R0=w('<span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800">Installed '),N0=w('<div class="absolute top-1 right-1">'),P0=w('<div class="group relative modulecard relative items-center space-x-3 rounded-lg border border-gray-300 bg-white px-6 shadow-sm focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:border-gray-400 p-2 z-0 mb-2"><div class="absolute left-0 bottom-0 w-full p-2 cursor-default"style="background-color:rgba(68, 64, 60, 0.3);"><a class="relative remove-button text-sm h-8 inline-flex items-center rounded-md border border-gray-300 px-2 py-2 text-sm font-medium text-gray-500 cursor-pointer focus:z-20 bg-white hover:bg-gray-100">Remove</a></div><div class=flex><div class="w-24 h-24 mr-2 flex justify-center items-center cursor-help"></div><div class="min-w-0 flex-1"style=min-height:6rem;><p><span class="text-md font-semibold text-gray-700"></span><span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"></span></p><p><span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"></span><span class="ml-2 inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"></span></p><p>'),D0=w("<span class=break-all>");function me(t){const[e,n]=k(!1),{serverUrl:r}=Q,{remoteModules:i}=Re,{localModules:s}=Ne,{installed:o,updateAvailableForModule:l}=ot,{setShowDetailCard:a,setDetailModuleName:u}=Ml,c=i[t.moduleName],d=s[t.moduleName],{addToInstallQueue:g,removeFromInstallQueue:m,inQueue:p,uninstallModule:v}=pt,{admin:b}=be,{multiuser:y}=ve;function _(){return o(t.moduleName)}function x(T){u(t.moduleName),a(!0)}function I(){p(t.moduleName)?m(t.moduleName):_()&&v(t.moduleName)}return h(U,{when:c!=null,get children(){const T=P0(),C=T.firstChild,A=C.firstChild,$=C.nextSibling,O=$.firstChild,R=O.nextSibling,B=R.firstChild,z=B.firstChild,P=z.nextSibling,M=B.nextSibling,J=M.firstChild,W=J.nextSibling,oe=M.nextSibling;return T.addEventListener("mouseleave",V=>n(!1,V)),T.addEventListener("mouseenter",V=>n(!0,V)),f(C,h(Sn,{class:"details-button w-full text-sm h-8 cursor-pointer",get classList(){return{hidden:t.cardType=="selected"}},bgColor:"bg-white",bgHoverColor:"hover:bg-gray-100",children:"Details"}),A),O.$$click=x,f(O,h(U,{get when(){return c.has_logo},get fallback(){return(()=>{const V=D0();return f(V,()=>c.title),V})()},get children(){const V=T0();return E(()=>q(V,"src",`${r}/store/remotelogo?module=${t.moduleName}&store=${c.store}`)),V}})),f(z,()=>c.title),f(P,()=>c.latest_version),f(R,h(U,{get when(){return c.conf},get children(){const V=E0();return f(V,()=>c.conf.description),V}}),M),f(J,()=>Ol(c.size)),f(W,()=>c.type),f(oe,h(U,{get when(){return _()},get children(){return A0()}}),null),f(oe,h(U,{get when(){return l(t.moduleName)},get children(){return[O0(),(()=>{const V=R0();return V.firstChild,f(V,()=>d.version,null),V})()]}}),null),f(R,h(U,{get when(){return y()==!1||b()==!0},get children(){const V=N0();return f(V,h(U,{get when(){return pe(()=>!!(!_()||l(t.moduleName)))()&&!p(t.moduleName)},get children(){return h(hm,{class:"group-hover:block hidden cursor-pointer",color:"rgb(3 105 161)",size:"24",get onClick(){return[g,t.moduleName]}})}}),null),f(V,h(U,{get when(){return _()||p(t.moduleName)},get children(){return h(fm,{class:"group-hover:block hidden cursor-pointer",color:"rgb(251 146 60)",size:"24",onClick:I})}}),null),V}}),null),E(V=>{const te=c.name,ue=c.kind,ne=!e()||t.cardType!="selected",Pe=t.cardType!="selected";return te!==V._v$&&q(T,"name",V._v$=te),ue!==V._v$2&&q(T,"kind",V._v$2=ue),ne!==V._v$3&&C.classList.toggle("hidden",V._v$3=ne),Pe!==V._v$4&&A.classList.toggle("hidden",V._v$4=Pe),V},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),T}})}F(["click"]);const M0=w('<div class="remote-module-filter-panel w-full mt-4 overflow-auto"><div class=store-filtered-modules><h1 class="text-4xl font-extrabold dark:text-white">Welcome to Module Store!</h1><p class="mb-6 text-lg font-normal text-gray-500 lg:text-xl dark:text-gray-400">Ultimate store of genomic variant analysis modules</p><div class="mt-4 text-base pr-4"><p><span class=font-bold>All</span> tab lists all available modules. In <span class=font-bold>Tags</span> tab, modules can be searched by the tags provided by the developers of modules. To quickly see all the modules already installed in the system, click <span class=font-bold>Installed</span> tab. When an updated version of any of installed modules is available, <span class=font-bold>Updates available</span> tab will appear.</p><p class=mt-2>To install a module, hover on the module card and click <span class=font-bold>Install</span>. Module installation is queued at the bottom. If you cancel the installation of a module, click the module card in the queue area.</p><p class=mt-2>Below are some of popular modules for you to get started!</p><p class=my-2>For cancer research:</p><p class="mt-4 mb-2">For clinical implications of variants:</p><p class="mt-4 mb-2">For allele frequencies in different populations:</p><p class="mt-4 mb-2">For actionable gene-drug associations:</p><p class="mt-4 mb-2">For the prediction of varinat effect:</p></div><p class=mt-2>Look around and happy annotating!');function L0(t){const{installQueue:e}=pt;function n(){return e.length>0?"calc(100vh - 15rem)":"calc(100vh - 9rem)"}return(()=>{const r=M0(),i=r.firstChild,s=i.firstChild,o=s.nextSibling,l=o.nextSibling,a=l.firstChild,u=a.nextSibling,c=u.nextSibling,d=c.nextSibling,g=d.nextSibling,m=g.nextSibling,p=m.nextSibling,v=p.nextSibling;return f(l,h(me,{moduleName:"civic",get addToInstallQueue(){return t.addToInstallQueue}}),g),f(l,h(me,{moduleName:"cosmic",get addToInstallQueue(){return t.addToInstallQueue}}),g),f(l,h(me,{moduleName:"oncokb",get addToInstallQueue(){return t.addToInstallQueue}}),g),f(l,h(me,{moduleName:"clinvar",get addToInstallQueue(){return t.addToInstallQueue}}),m),f(l,h(me,{moduleName:"grasp",get addToInstallQueue(){return t.addToInstallQueue}}),m),f(l,h(me,{moduleName:"gwas_catalog",get addToInstallQueue(){return t.addToInstallQueue}}),m),f(l,h(me,{moduleName:"omim",get addToInstallQueue(){return t.addToInstallQueue}}),m),f(l,h(me,{moduleName:"thousandgenomes",get addToInstallQueue(){return t.addToInstallQueue}}),p),f(l,h(me,{moduleName:"gnomad",get addToInstallQueue(){return t.addToInstallQueue}}),p),f(l,h(me,{moduleName:"pharmgkb",get addToInstallQueue(){return t.addToInstallQueue}}),v),f(l,h(me,{moduleName:"cadd",get addToInstallQueue(){return t.addToInstallQueue}}),null),f(l,h(me,{moduleName:"fathmm",get addToInstallQueue(){return t.addToInstallQueue}}),null),f(l,h(me,{moduleName:"sift",get addToInstallQueue(){return t.addToInstallQueue}}),null),f(l,h(me,{moduleName:"polyphen2",get addToInstallQueue(){return t.addToInstallQueue}}),null),E(b=>{const y=t.filterCategory!="home",_=n();return y!==b._v$&&r.classList.toggle("hidden",b._v$=y),_!==b._v$2&&((b._v$2=_)!=null?r.style.setProperty("height",_):r.style.removeProperty("height")),b},{_v$:void 0,_v$2:void 0}),r})()}const j0=w('<a href=# class="text-gray-600 block px-4 py-2 text-sm text-right hover:bg-gray-100 hover:text-gray-900"role=menuitem tabindex=-1 value="">');function zs(t){function e(){t.setSort(t.value),t.setShow(!1)}return(()=>{const n=j0();return n.$$click=e,f(n,()=>t.title),n})()}F(["click"]);const U0=w('<div class="option-list ease-in absolute right-0 z-10 mt-2 w-24 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"role=menu aria-orientation=vertical aria-labelledby=menu-button tabindex=-1><div class=py-1 role=none>');function F0(t){return(()=>{const e=U0(),n=e.firstChild;return f(n,h(zs,{value:"Name",title:"Name",get setSort(){return t.setSort},get setShow(){return t.setShow}}),null),f(n,h(zs,{value:"Size",title:"Size",get setSort(){return t.setSort},get setShow(){return t.setShow}}),null),E(()=>e.classList.toggle("hidden",!t.show)),e})()}const B0=w('<div class="select-div relative inline-block text-left"value=""><div class="flex justify-center"><button name=sort type=button class="inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-1 py-2 text-sm font-medium text-gray-600 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100"><span class=ml-2>Sort by ');function z0(t){const[e,n]=k(!1);function r(i){n(!e())}return(()=>{const i=B0(),s=i.firstChild,o=s.firstChild,l=o.firstChild;return l.firstChild,o.$$click=r,f(l,()=>t.sort,null),f(o,h(ir,{class:"ml-2 h-5 w-5"}),null),f(i,h(F0,{get show(){return e()},get setSort(){return t.setSort},setShow:n}),null),i})()}F(["click"]);const H0=w('<button type=button class="graybutton inline-flex items-center rounded border border-transparent bg-gray-50 px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-300 focus:outline-none drop-shadow-lg">'),V0=w('<div class="flex mb-2"><label for=search class=sr-only>Search</label><input type=text name=search class="block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm mr-2"placeholder=Search><div class="relative flex text-xs font-medium text-gray-700 shadow-sm items-center"><div class="flex items-center mr-4">');function ar(t){function e(i){t.setSearchText(i.target.value)}function n(i){t.setNotInstalledOnly(!t.notInstalledOnly)}function r(){return t.notInstalledOnly?"Click to show all modules":"Click to show uninstalled modules only"}return(()=>{const i=V0(),s=i.firstChild,o=s.nextSibling,l=o.nextSibling,a=l.firstChild;return o.$$keyup=e,f(a,h(U,{get when(){return t.showUninstalledOnly},get children(){const u=H0();return u.$$click=n,f(u,h(U,{get when(){return t.notInstalledOnly},get fallback(){return h(Jg,{size:22})},get children(){return h(qg,{size:22})}})),E(c=>{const d=r(),g=!!t.notInstalledOnly;return d!==c._v$&&q(u,"title",c._v$=d),g!==c._v$2&&u.classList.toggle("checked",c._v$2=g),c},{_v$:void 0,_v$2:void 0}),u}})),f(l,h(z0,{get sort(){return t.sort},get setSort(){return t.setSort}}),null),E(()=>o.value=t.searchText),i})()}F(["keyup","click"]);const W0=w('<div class="flex items-center justify-center"><p class="text-lg text-gray-700">No module met the criteria.'),q0=w("<div>");function cr(t){const{installQueue:e}=pt;function n(){return e.length>0?"calc(100vh - 19rem)":"calc(100vh - 9rem)"}function r(){return W0()}return(()=>{const i=q0();return f(i,h(U,{get when(){return t.moduleNames&&t.moduleNames.length>0},get fallback(){return r()},get children(){return h(ce,{get each(){return t.moduleNames},children:s=>h(si,{get children(){return[h(Tt,{get when(){return t.side=="local"},get children(){return h(lr,{moduleName:s,get annotators(){return t.annotators},get setAnnotators(){return t.setAnnotators},get postaggregators(){return t.postaggregators},get setPostaggregators(){return t.setPostaggregators}})}}),h(Tt,{get when(){return t.side=="remote"},get children(){return h(me,{moduleName:s})}})]}})})}})),E(s=>{const o=`store-filtered-modules pr-4 overflow-auto grid grid-cols-${t.noCols}`,l=n();return o!==s._v$&&ct(i,s._v$=o),l!==s._v$2&&((s._v$2=l)!=null?i.style.setProperty("height",l):i.style.removeProperty("height")),s},{_v$:void 0,_v$2:void 0}),i})()}const J0=w('<div class="remote-module-filter-panel w-full mt-4 overflow-auto">'),{getFilteredRemoteModules:G0}=Re,{getNotInstalledModules:K0}=ot;function Q0(t){const[e,n]=k(null),[r,i]=k([]),[s,o]=k(!1),[l,a]=k("Name"),[u,c]=k([]);return se(function(){s()==!0?c(K0(e(),r(),null,l())):c(G0(e(),r(),null,l()))}),(()=>{const d=J0();return f(d,h(ar,{kind:"all",side:"remote",get searchText(){return e()},setSearchText:n,get notInstalledOnly(){return s()},setNotInstalledOnly:o,showUninstalledOnly:!0,get sort(){return l()},setSort:a}),null),f(d,h(cr,{kind:"all",side:"remote",noCols:1,get moduleNames(){return u()}}),null),E(()=>d.classList.toggle("hidden",t.filterCategory!="all")),d})()}const Z0=w('<div class="remote-module-filter-panel w-full mt-4 overflow-auto flex"><div class="store-filtered-modules col-span-1 flex flex-col justify-leading pl-1 overflow-y-auto w-[20rem]"></div><div class="ml-8 w-full">'),{getFilteredRemoteModules:Y0,remoteTags:Hs}=Re,{getNotInstalledModules:X0}=ot;function eb(t){const[e,n]=k(null),[r,i]=k([]),[s,o]=k("clinical relevance"),[l,a]=k("Name"),[u,c]=k(!1),[d,g]=k([]);return se(function(){u()==!0?g(X0(e(),r(),s(),l())):g(Y0(e(),r(),s(),l()))}),(()=>{const m=Z0(),p=m.firstChild,v=p.nextSibling;return f(p,h(ce,{get each(){return Object.keys(Hs()).sort()},children:b=>h(Pl,{value:b,get title(){return Hs()[b]},get selectedTag(){return s()},setSelectedTag:o})})),f(v,h(ar,{kind:"all",side:"remote",get searchText(){return e()},setSearchText:n,get notInstalledOnly(){return u()},setNotInstalledOnly:c,showUninstalledOnly:!0,get sort(){return l()},setSort:a}),null),f(v,h(cr,{kind:"all",side:"remote",noCols:1,get moduleNames(){return d()}}),null),E(()=>m.classList.toggle("hidden",t.filterCategory!="tags")),m})()}const tb=w('<div class="remote-module-filter-panel w-full mt-4 overflow-auto">'),{getInstalledModules:nb}=ot;function rb(t){const[e,n]=k(null),[r,i]=k([]),[s,o]=k("Name"),[l,a]=k([]);return se(function(){a(nb(e(),r(),null,null,s()))}),(()=>{const u=tb();return f(u,h(ar,{kind:"install",side:"remote",get searchText(){return e()},setSearchText:n,get sort(){return s()},setSort:o}),null),f(u,h(cr,{kind:"install",side:"remote",noCols:1,get moduleNames(){return l()}}),null),E(()=>u.classList.toggle("hidden",t.filterCategory!="installed")),u})()}const ib=w('<div class="remote-module-filter-panel w-full mt-4 overflow-auto">'),{getInstalledModules:sb}=ot;function ob(t){const[e,n]=k(null),[r,i]=k([]),[s,o]=k("Name"),[l,a]=k([]);return se(function(){a(sb(e(),r(),null,!0,s()))}),(()=>{const u=ib();return f(u,h(ar,{kind:"update",side:"remote",get searchText(){return e()},setSearchText:n,get sort(){return s()},setSort:o}),null),f(u,h(cr,{kind:"update",side:"remote",noCols:1,get moduleNames(){return l()}}),null),E(()=>u.classList.toggle("hidden",t.filterCategory!="update")),u})()}const lb=w('<div class="flex-inline mr-2"><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"><circle class=opacity-25 cx=12 cy=12 r=10 stroke-width=4></circle><path class=opacity-75 fill=currentColor d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">');function ur(t){let e=t.width||5,n=t.height||5,r=t.stroke||"currentColor";return(()=>{const i=lb(),s=i.firstChild,o=s.firstChild;return q(s,"class",`hide animate-spin ml-1 h-${e} w-${n} text-white m-auto`),q(o,"stroke",r),E(()=>s.classList.toggle("hidden",!t.show)),i})()}const ab=w('<button type=button class="ml-4 inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Updates available<span class="inline-flex justify-center items-center ml-2 w-4 h-4 text-xs font-semibold text-blue-800 bg-blue-200 rounded-full">'),cb=w('<div class="analysis-module-filter-wrapper col-span-7 grow"><div class=w-full><div class="inline-flex rounded-md shadow-sm"role=group><button type=button class="ml-4 inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-gray-500 rounded-lg hover:bg-gray-600 focus:ring-4 focus:outline-none focus:ring-gray-300 dark:bg-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-800 min-w-[6rem] place-content-center">'),{updateAvailable:ub,numUpdateAvailable:db,setInitialLoaded:fb,refreshOn:Vs,setRefreshOn:hb}=ot;function gb(t){const[e,n]=k("home"),{setLocalModules:r,loadAllLocalModules:i}=Ne,{setRemoteModules:s,loadAllRemoteModules:o}=Re;function l(){hb(!0),r(he({})),s(he({})),fb(!1),i("true"),o("true")}return(()=>{const a=cb(),u=a.firstChild,c=u.firstChild,d=c.firstChild;return f(c,h(xt,{value:"home",title:"Home",pos:"left",get filterCategory(){return e()},setFilterCategory:n}),d),f(c,h(xt,{value:"all",title:"All",pos:"center",get filterCategory(){return e()},setFilterCategory:n}),d),f(c,h(xt,{value:"tags",title:"Tags",pos:"center",get filterCategory(){return e()},setFilterCategory:n}),d),f(c,h(xt,{value:"installed",title:"Installed",pos:"right",get filterCategory(){return e()},setFilterCategory:n}),d),d.$$click=l,f(d,h(U,{get when(){return Vs()==!0},fallback:"Refresh",get children(){return h(ur,{show:!0,width:5,height:5,stroke:"#000000"})}})),f(c,h(U,{get when(){return ub()==!0},get children(){const g=ab(),m=g.firstChild,p=m.nextSibling;return g.$$click=n,g.$$clickData="update",f(p,db),g}}),null),f(a,h(L0,{get modules(){return t.modules},get filterCategory(){return e()}}),null),f(a,h(Q0,{get modules(){return t.modules},get filterCategory(){return e()}}),null),f(a,h(eb,{get modules(){return t.modules},get filterCategory(){return e()}}),null),f(a,h(rb,{get modules(){return t.modules},get filterCategory(){return e()}}),null),f(a,h(ob,{get modules(){return t.modules},get filterCategory(){return e()}}),null),E(()=>d.disabled=Vs()),a})()}F(["click"]);const mb=w('<img class="w-24 rounded-lg">'),pb=w('<div class="group-hover:block absolute z-10 w-[6.5rem] h-[6.5rem]"><div class="install_pie absolute top-[1.25rem] left-[1.25rem]">'),bb=w('<div class="relative modulecard items-center rounded-lg border border-gray-300 bg-white shadow-sm focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:border-gray-400 flex items-center group h-[6.5rem] w-[6.5rem] shrink-0"><div class="flex justify-center items-center h-full w-full"></div><div class="group-hover:block hidden bg-gray-900/60 absolute z-20 w-full h-full">'),yb=w("<span class=break-all>"),{serverUrl:vb}=Q,{remoteModules:_b}=Re,{removeFromInstallQueue:wb}=pt;function xb(t){const e=_b[t.moduleName];function n(){wb(t.moduleName),t.setTooltipShow(!1)}function r(s){const o=s.target.closest(".modulecard");let l=o.getBoundingClientRect(),a=l.left;l.left>window.innerWidth/2&&(a=a-280),t.setTooltipText(t.moduleName),t.setTooltipTop(o.offsetTop-80),t.setTooltipLeft(a),t.setTooltipShow(!0)}function i(){t.setTooltipShow(!1)}return(()=>{const s=bb(),o=s.firstChild,l=o.nextSibling;return f(o,h(U,{get when(){return e.has_logo},get fallback(){return(()=>{const a=yb();return f(a,()=>e.title),a})()},get children(){const a=mb();return E(()=>q(a,"src",`${vb}/store/remotelogo?module=${t.moduleName}&store=${e.store}`)),a}})),l.addEventListener("mouseleave",i),l.addEventListener("mouseenter",r),f(l,h(_g,{color:"#ffffff",size:48,class:"m-auto cursor-pointer",style:"height: 6rem;",onClick:n})),f(s,h(U,{get when(){return t.state&&t.state.progress>0},get children(){const a=pb(),u=a.firstChild;return u.style.setProperty("--b","10px"),u.style.setProperty("--c","rgb(3 105 161)"),E(()=>t.state.progress!=null?u.style.setProperty("--p",t.state.progress):u.style.removeProperty("--p")),a}}),null),E(a=>{const u=e&&e.name,c=e&&e.kind;return u!==a._v$&&q(s,"name",a._v$=u),c!==a._v$2&&q(s,"kind",a._v$2=c),a},{_v$:void 0,_v$2:void 0}),s})()}const kb=w('<div class="h-[8rem] px-2 flex items-center rounded-lg border border-gray-300 bg-white shadow-sm"><div class="flex overflow-auto w-full">'),{installQueue:Or,installState:$b}=pt;function Sb(t){return h(U,{get when(){return Or.length>0},get children(){const e=kb(),n=e.firstChild;return f(n,h(ce,{each:Or,children:r=>h(xb,{moduleName:r,get state(){return $b[r]},get setTooltipText(){return t.setTooltipText},get setTooltipShow(){return t.setTooltipShow},get setTooltipTop(){return t.setTooltipTop},get setTooltipLeft(){return t.setTooltipLeft}})})),E(()=>e.classList.toggle("border-blue-500",Or.length>0)),e}})}const Ib=w('<div class="h-64 w-64 m-auto flex"><div class="m-auto flex flex-col"><div class=mb-4>Loading store modules...</div><div class=m-auto>');function Cb(){return(()=>{const t=Ib(),e=t.firstChild,n=e.firstChild,r=n.nextSibling;return f(r,h(ur,{show:!0,width:20,height:20,stroke:"#000000"})),t})()}const Tb=w('<div role=tooltip class="absolute inline-block z-10 p-4 text-sm font-medium text-gray-700 bg-gray-200 border border-gray-200 rounded-lg shadow-lg transition-opacity duration-300 tooltip dark:bg-gray-700 opacity-0 w-[24rem] break-word"><div class=tooltip-arrow data-popper-arrow>');function Ll(t){let e;return(()=>{const n=Tb(),r=n.firstChild,i=e;return typeof i=="function"?li(i,n):e=n,f(n,()=>t.text,r),E(s=>{const o=!!t.tooltipShow,l=!!t.tooltipShow,a=t.tooltipTop+"px",u=t.tooltipLeft+"px";return o!==s._v$&&n.classList.toggle("opacity-100",s._v$=o),l!==s._v$2&&n.classList.toggle("visible",s._v$2=l),a!==s._v$3&&((s._v$3=a)!=null?n.style.setProperty("top",a):n.style.removeProperty("top")),u!==s._v$4&&((s._v$4=u)!=null?n.style.setProperty("left",u):n.style.removeProperty("left")),s},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),n})()}const Eb=w('<div id=tab-store class="tabcontent p-4 snap-y snap-mandatory h-screen overflow-y-auto flex flex-col">');function Ab(){const{remoteModules:t}=Re,{tabName:e}=st,{addToInstallQueue:n}=pt,{moduleInstallStates:r}=ot,[i,s]=k(null),[o,l]=k(!1),[a,u]=k(0),[c,d]=k(null);return(()=>{const g=Eb();return f(g,h(U,{get when(){return!Fn(r)},get fallback(){return h(Cb,{})},get children(){return[h(gb,{addToInstallQueue:n,modules:t}),h(Sb,{setTooltipText:s,setTooltipShow:l,setTooltipTop:u,setTooltipLeft:d}),h(Ll,{get text(){return i()},get tooltipShow(){return o()},get tooltipTop(){return a()},get tooltipLeft(){return c()}})]}})),E(()=>g.classList.toggle("hidden",e()!="store")),g})()}function Ob(){const[t,e]=k(null),{serverUrl:n,withCredentials:r}=Q,{admin:i}=be;se(function(){i()==!0&&s()});function s(){K.get(n+"/server/users",{withCredentials:r}).then(function(u){const c=[];for(const d of u.data)d.email!="default"&&c.push(d);e(c)}).catch(function(u){console.error(u),Y(u)})}function o(u){K.get(n+"/server/makeadmin",{params:{email:u},withCredentials:r}).then(function(c){s()}).catch(function(c){Y(c)})}function l(u){K.get(n+"/server/removeadmin",{params:{email:u},withCredentials:r}).then(function(c){s()}).catch(function(c){Y(c)})}function a(u){K.get(n+"/server/removeuser",{params:{email:u},withCredentials:r}).then(function(c){s()}).catch(function(c){Y(c)})}return{users:t,setUsers:e,loadAllUsers:s,makeAdmin:o,removeAdmin:l,removeUser:a}}const Rb=ie(Ob),Nb=w('<div class=mt-4><h3 class="text-lg font-semibold">Users</h3><div class="rounded-lg bg-white shadow mt-2"><table class="w-full text-sm text-left text-gray-500 dark:text-gray-400"><thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"><tr><th scope=col class="py-3 px-6">Email</th><th scope=col class="py-3 px-6">Role</th></tr></thead><tbody>'),Pb=w('<span class="ml-2 inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800">Admin'),Db=w('<button type=button class="invisible inline-flex items-center rounded border border-transparent bg-blue-600 px-2.5 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ml-4 group-hover:visible">Remove admin'),Mb=w('<button type=button class="invisible inline-flex items-center rounded border border-transparent bg-blue-600 px-2.5 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ml-4 group-hover:visible">Remove user'),Lb=w('<tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 group"><td scope=row class="py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white"></td><td class="py-4 px-6">'),jb=w('<button type=button class="invisible inline-flex items-center rounded border border-transparent bg-blue-600 px-2.5 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ml-4 group-hover:visible">Make admin');function Ub(){const{users:t,makeAdmin:e,removeAdmin:n,removeUser:r}=Rb;return(()=>{const i=Nb(),s=i.firstChild,o=s.nextSibling,l=o.firstChild,a=l.firstChild,u=a.nextSibling;return f(u,h(ce,{get each(){return t()},children:c=>(()=>{const d=Lb(),g=d.firstChild,m=g.nextSibling;return f(g,()=>c.email,null),f(g,h(U,{get when(){return c.role=="admin"},get children(){return Pb()}}),null),f(m,()=>c.role,null),f(m,h(U,{get when(){return c.role=="admin"},get fallback(){return(()=>{const p=jb();return p.$$click=e,p.$$clickData=c.email,p})()},get children(){const p=Db();return p.$$click=n,p.$$clickData=c.email,p}}),null),f(m,h(U,{get when(){return c.role!="admin"},get children(){const p=Mb();return p.$$click=r,p.$$clickData=c.email,p}}),null),d})()})),i})()}F(["click"]);const Fb=w('<div class=""><h3 class="text-lg font-semibold mt-8 mb-2">Log</h3><button type=button class="inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Download system log');function Bb(){const{serverUrl:t}=Q;function e(){K({url:t+"/submit/systemlog",method:"GET",responseType:"blob"}).then(function(n){let r=document.createElement("a");r.href=window.URL.createObjectURL(new Blob([n.data],{type:"text/plain"})),r.download=n.headers["content-disposition"].split("=")[1],document.body.appendChild(r),r.click(),document.body.removeChild(r)}).catch(function(n){console.error(n)})}return(()=>{const n=Fb(),r=n.firstChild,i=r.nextSibling;return i.$$click=e,n})()}F(["click"]);const zb=w("<div id=tab_system class=tabcontent><div class=p-4>");function Hb(){const{tabName:t}=st,{multiuser:e}=ve;return(()=>{const n=zb(),r=n.firstChild;return f(r,h(U,{get when(){return e()==!0},get children(){return h(Ub,{})}}),null),f(r,h(Bb,{}),null),E(()=>n.classList.toggle("hidden",t()!="system")),n})()}const Vb=w('<div id=tab_account class="tabcontent p-4"><p class=text-gray-600></p><button type=button class="inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium leading-4 text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 mt-2">Logout'),{tabName:Wb}=st,{email:qb}=ht,{auth:Jb}=nr;function Gb(){function t(){fl(Jb()).catch(function(e){console.error(e)})}return(()=>{const e=Vb(),n=e.firstChild,r=n.nextSibling;return f(n,qb),r.$$click=t,E(()=>e.classList.toggle("hidden",Wb()!="account")),e})()}F(["click"]);const Kb=w('<main class="h-screen md:pl-36 flex flex-col flex-1"><div>');function Qb(){const[t,e]=k(!1),{multiuser:n}=ve,{admin:r}=be;return(()=>{const i=Kb(),s=i.firstChild;return f(s,h(wm,{}),null),f(s,h(Gp,{get jobsTrigger(){return t()},setJobsTrigger:e}),null),f(s,h(v0,{get jobsTrigger(){return t()},setJobsTrigger:e}),null),f(s,h(Ab,{}),null),f(s,h(U,{get when(){return n()==!1||r()==!0},get children(){return h(Hb,{})}}),null),f(s,h(U,{get when(){return n()==!0},get children(){return h(Gb,{})}}),null),i})()}function jl(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let bt=jl();function Zb(t){bt=t}const Ul=/[&<>"']/,Yb=new RegExp(Ul.source,"g"),Fl=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Xb=new RegExp(Fl.source,"g"),ey={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ws=t=>ey[t];function de(t,e){if(e){if(Ul.test(t))return t.replace(Yb,Ws)}else if(Fl.test(t))return t.replace(Xb,Ws);return t}const ty=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Bl(t){return t.replace(ty,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const ny=/(^|[^\[])\^/g;function ee(t,e){t=typeof t=="string"?t:t.source,e=e||"";const n={replace:(r,i)=>(i=i.source||i,i=i.replace(ny,"$1"),t=t.replace(r,i),n),getRegex:()=>new RegExp(t,e)};return n}const ry=/[^\w:]/g,iy=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function qs(t,e,n){if(t){let r;try{r=decodeURIComponent(Bl(n)).replace(ry,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!iy.test(n)&&(n=ay(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const mn={},sy=/^[^:]+:\/*[^/]*$/,oy=/^([^:]+:)[\s\S]*$/,ly=/^([^:]+:\/*[^/]*)[\s\S]*$/;function ay(t,e){mn[" "+t]||(sy.test(t)?mn[" "+t]=t+"/":mn[" "+t]=In(t,"/",!0)),t=mn[" "+t];const n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(oy,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(ly,"$1")+e:t+e}const Bn={exec:function(){}};function Js(t,e){const n=t.replace(/\|/g,(s,o,l)=>{let a=!1,u=o;for(;--u>=0&&l[u]==="\\";)a=!a;return a?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function In(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r;){const s=t.charAt(r-i-1);if(s===e&&!n)i++;else if(s!==e&&n)i++;else break}return t.slice(0,r-i)}function cy(t,e){if(t.indexOf(e[1])===-1)return-1;const n=t.length;let r=0,i=0;for(;i<n;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1}function uy(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Gs(t,e){if(e<1)return"";let n="";for(;e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function Ks(t,e,n,r){const i=e.href,s=e.title?de(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const l={type:"link",raw:n,href:i,title:s,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,l}return{type:"image",raw:n,href:i,title:s,text:de(o)}}function dy(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[o]=s;return o.length>=r.length?i.slice(r.length):i}).join(`
`)}class Ci{constructor(e){this.options=e||bt}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:In(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=dy(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=In(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const r=n[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:s,text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r,i,s,o,l,a,u,c,d,g,m,p,v=n[1].trim();const b=v.length>1,y={type:"list",raw:"",ordered:b,start:b?+v.slice(0,-1):"",loose:!1,items:[]};v=b?`\\d{1,9}\\${v.slice(-1)}`:`\\${v}`,this.options.pedantic&&(v=b?v:"[*+-]");const _=new RegExp(`^( {0,3}${v})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,!(!(n=_.exec(e))||this.rules.block.hr.test(e)));){if(r=n[0],e=e.substring(r.length),c=n[2].split(`
`,1)[0].replace(/^\t+/,I=>" ".repeat(3*I.length)),d=e.split(`
`,1)[0],this.options.pedantic?(o=2,m=c.trimLeft()):(o=n[2].search(/[^ ]/),o=o>4?1:o,m=c.slice(o),o+=n[1].length),a=!1,!c&&/^ *$/.test(d)&&(r+=d+`
`,e=e.substring(d.length+1),p=!0),!p){const I=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),T=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),C=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),A=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;e&&(g=e.split(`
`,1)[0],d=g,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(C.test(d)||A.test(d)||I.test(d)||T.test(e)));){if(d.search(/[^ ]/)>=o||!d.trim())m+=`
`+d.slice(o);else{if(a||c.search(/[^ ]/)>=4||C.test(c)||A.test(c)||T.test(c))break;m+=`
`+d}!a&&!d.trim()&&(a=!0),r+=g+`
`,e=e.substring(g.length+1),c=d.slice(o)}}y.loose||(u?y.loose=!0:/\n *\n *$/.test(r)&&(u=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(m),i&&(s=i[0]!=="[ ] ",m=m.replace(/^\[[ xX]\] +/,""))),y.items.push({type:"list_item",raw:r,task:!!i,checked:s,loose:!1,text:m}),y.raw+=r}y.items[y.items.length-1].raw=r.trimRight(),y.items[y.items.length-1].text=m.trimRight(),y.raw=y.raw.trimRight();const x=y.items.length;for(l=0;l<x;l++)if(this.lexer.state.top=!1,y.items[l].tokens=this.lexer.blockTokens(y.items[l].text,[]),!y.loose){const I=y.items[l].tokens.filter(C=>C.type==="space"),T=I.length>0&&I.some(C=>/\n.*\n/.test(C.raw));y.loose=T}if(y.loose)for(l=0;l<x;l++)y.items[l].loose=!0;return y}}html(e){const n=this.rules.block.html.exec(e);if(n){const r={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(n[0]):de(n[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(n){const r={type:"table",header:Js(n[1]).map(i=>({text:i})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let i=r.align.length,s,o,l,a;for(s=0;s<i;s++)/^ *-+: *$/.test(r.align[s])?r.align[s]="right":/^ *:-+: *$/.test(r.align[s])?r.align[s]="center":/^ *:-+ *$/.test(r.align[s])?r.align[s]="left":r.align[s]=null;for(i=r.rows.length,s=0;s<i;s++)r.rows[s]=Js(r.rows[s],r.header.length).map(u=>({text:u}));for(i=r.header.length,o=0;o<i;o++)r.header[o].tokens=this.lexer.inline(r.header[o].text);for(i=r.rows.length,o=0;o<i;o++)for(a=r.rows[o],l=0;l<a.length;l++)a[l].tokens=this.lexer.inline(a[l].text);return r}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:de(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):de(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const o=In(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{const o=cy(n[2],"()");if(o>-1){const a=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),Ks(n,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=n[i.toLowerCase()],!i){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return Ks(r,i,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;const s=i[1]||i[2]||"";if(!s||s&&(r===""||this.rules.inline.punctuation.exec(r))){const o=i[0].length-1;let l,a,u=o,c=0;const d=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(d.lastIndex=0,n=n.slice(-1*e.length+o);(i=d.exec(n))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(a=l.length,i[3]||i[4]){u+=a;continue}else if((i[5]||i[6])&&o%3&&!((o+a)%3)){c+=a;continue}if(u-=a,u>0)continue;a=Math.min(a,a+u+c);const g=e.slice(0,o+i.index+(i[0].length-l.length)+a);if(Math.min(o,a)%2){const p=g.slice(1,-1);return{type:"em",raw:g,text:p,tokens:this.lexer.inlineTokens(p)}}const m=g.slice(2,-2);return{type:"strong",raw:g,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=de(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){const r=this.rules.inline.autolink.exec(e);if(r){let i,s;return r[2]==="@"?(i=de(this.options.mangle?n(r[1]):r[1]),s="mailto:"+i):(i=de(r[1]),s=i),{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e,n){let r;if(r=this.rules.inline.url.exec(e)){let i,s;if(r[2]==="@")i=de(this.options.mangle?n(r[0]):r[0]),s="mailto:"+i;else{let o;do o=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(o!==r[0]);i=de(r[0]),r[1]==="www."?s="http://"+r[0]:s=r[0]}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,n){const r=this.rules.inline.text.exec(e);if(r){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):de(r[0]):r[0]:i=de(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const D={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Bn,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};D._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;D._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;D.def=ee(D.def).replace("label",D._label).replace("title",D._title).getRegex();D.bullet=/(?:[*+-]|\d{1,9}[.)])/;D.listItemStart=ee(/^( *)(bull) */).replace("bull",D.bullet).getRegex();D.list=ee(D.list).replace(/bull/g,D.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+D.def.source+")").getRegex();D._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";D._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;D.html=ee(D.html,"i").replace("comment",D._comment).replace("tag",D._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();D.paragraph=ee(D._paragraph).replace("hr",D.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",D._tag).getRegex();D.blockquote=ee(D.blockquote).replace("paragraph",D.paragraph).getRegex();D.normal={...D};D.gfm={...D.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};D.gfm.table=ee(D.gfm.table).replace("hr",D.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",D._tag).getRegex();D.gfm.paragraph=ee(D._paragraph).replace("hr",D.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",D.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",D._tag).getRegex();D.pedantic={...D.normal,html:ee(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",D._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Bn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ee(D.normal._paragraph).replace("hr",D.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",D.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const N={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Bn,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Bn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};N._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";N.punctuation=ee(N.punctuation).replace(/punctuation/g,N._punctuation).getRegex();N.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;N.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;N._comment=ee(D._comment).replace("(?:-->|$)","-->").getRegex();N.emStrong.lDelim=ee(N.emStrong.lDelim).replace(/punct/g,N._punctuation).getRegex();N.emStrong.rDelimAst=ee(N.emStrong.rDelimAst,"g").replace(/punct/g,N._punctuation).getRegex();N.emStrong.rDelimUnd=ee(N.emStrong.rDelimUnd,"g").replace(/punct/g,N._punctuation).getRegex();N._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;N._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;N._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;N.autolink=ee(N.autolink).replace("scheme",N._scheme).replace("email",N._email).getRegex();N._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;N.tag=ee(N.tag).replace("comment",N._comment).replace("attribute",N._attribute).getRegex();N._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;N._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;N._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;N.link=ee(N.link).replace("label",N._label).replace("href",N._href).replace("title",N._title).getRegex();N.reflink=ee(N.reflink).replace("label",N._label).replace("ref",D._label).getRegex();N.nolink=ee(N.nolink).replace("ref",D._label).getRegex();N.reflinkSearch=ee(N.reflinkSearch,"g").replace("reflink",N.reflink).replace("nolink",N.nolink).getRegex();N.normal={...N};N.pedantic={...N.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ee(/^!?\[(label)\]\((.*?)\)/).replace("label",N._label).getRegex(),reflink:ee(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",N._label).getRegex()};N.gfm={...N.normal,escape:ee(N.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};N.gfm.url=ee(N.gfm.url,"i").replace("email",N.gfm._extended_email).getRegex();N.breaks={...N.gfm,br:ee(N.br).replace("{2,}","*").getRegex(),text:ee(N.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function fy(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Qs(t){let e="",n,r;const i=t.length;for(n=0;n<i;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}class nt{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||bt,this.options.tokenizer=this.options.tokenizer||new Ci,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:D.normal,inline:N.normal};this.options.pedantic?(n.block=D.pedantic,n.inline=N.pedantic):this.options.gfm&&(n.block=D.gfm,this.options.breaks?n.inline=N.breaks:n.inline=N.gfm),this.tokenizer.rules=n}static get rules(){return{block:D,inline:N}}static lex(e,n){return new nt(n).lex(e)}static lexInline(e,n){return new nt(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,a,u)=>a+"    ".repeat(u.length));let r,i,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(r=l.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const a=e.slice(1);let u;this.options.extensions.startBlock.forEach(function(c){u=c.call({lexer:this},a),typeof u=="number"&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(s=e.substring(0,l+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=n[n.length-1],o&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),o=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,s,o=e,l,a,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)c.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,l.index)+"["+Gs("a",l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,l.index)+"["+Gs("a",l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,l.index+l[0].length-2)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(a||(u=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(r=c.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,o,u)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e,Qs)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,Qs))){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const d=e.slice(1);let g;this.options.extensions.startInline.forEach(function(m){g=m.call({lexer:this},d),typeof g=="number"&&g>=0&&(c=Math.min(c,g))}),c<1/0&&c>=0&&(s=e.substring(0,c+1))}if(r=this.tokenizer.inlineText(s,fy)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(u=r.raw.slice(-1)),a=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}}class Ti{constructor(e){this.options=e||bt}code(e,n,r){const i=(n||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(e,i);s!=null&&s!==e&&(r=!0,e=s)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+de(i)+'">'+(r?e:de(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:de(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,n,r,i){if(this.options.headerIds){const s=this.options.headerPrefix+i.slug(r);return`<h${n} id="${s}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,r){const i=n?"ol":"ul",s=n&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){if(e=qs(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i='<a href="'+e+'"';return n&&(i+=' title="'+n+'"'),i+=">"+r+"</a>",i}image(e,n,r){if(e=qs(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i=`<img src="${e}" alt="${r}"`;return n&&(i+=` title="${n}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class zl{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class Hl{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do i++,r=e+"-"+i;while(this.seen.hasOwnProperty(r))}return n||(this.seen[e]=i,this.seen[r]=0),r}slug(e,n={}){const r=this.serialize(e);return this.getNextSafeSlug(r,n.dryrun)}}class rt{constructor(e){this.options=e||bt,this.options.renderer=this.options.renderer||new Ti,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new zl,this.slugger=new Hl}static parse(e,n){return new rt(n).parse(e)}static parseInline(e,n){return new rt(n).parseInline(e)}parse(e,n=!0){let r="",i,s,o,l,a,u,c,d,g,m,p,v,b,y,_,x,I,T,C;const A=e.length;for(i=0;i<A;i++){if(m=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[m.type]&&(C=this.options.extensions.renderers[m.type].call({parser:this},m),C!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(m.type))){r+=C||"";continue}switch(m.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(m.tokens),m.depth,Bl(this.parseInline(m.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(m.text,m.lang,m.escaped);continue}case"table":{for(d="",c="",l=m.header.length,s=0;s<l;s++)c+=this.renderer.tablecell(this.parseInline(m.header[s].tokens),{header:!0,align:m.align[s]});for(d+=this.renderer.tablerow(c),g="",l=m.rows.length,s=0;s<l;s++){for(u=m.rows[s],c="",a=u.length,o=0;o<a;o++)c+=this.renderer.tablecell(this.parseInline(u[o].tokens),{header:!1,align:m.align[o]});g+=this.renderer.tablerow(c)}r+=this.renderer.table(d,g);continue}case"blockquote":{g=this.parse(m.tokens),r+=this.renderer.blockquote(g);continue}case"list":{for(p=m.ordered,v=m.start,b=m.loose,l=m.items.length,g="",s=0;s<l;s++)_=m.items[s],x=_.checked,I=_.task,y="",_.task&&(T=this.renderer.checkbox(x),b?_.tokens.length>0&&_.tokens[0].type==="paragraph"?(_.tokens[0].text=T+" "+_.tokens[0].text,_.tokens[0].tokens&&_.tokens[0].tokens.length>0&&_.tokens[0].tokens[0].type==="text"&&(_.tokens[0].tokens[0].text=T+" "+_.tokens[0].tokens[0].text)):_.tokens.unshift({type:"text",text:T}):y+=T),y+=this.parse(_.tokens,b),g+=this.renderer.listitem(y,I,x);r+=this.renderer.list(g,p,v);continue}case"html":{r+=this.renderer.html(m.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(m.tokens));continue}case"text":{for(g=m.tokens?this.parseInline(m.tokens):m.text;i+1<A&&e[i+1].type==="text";)m=e[++i],g+=`
`+(m.tokens?this.parseInline(m.tokens):m.text);r+=n?this.renderer.paragraph(g):g;continue}default:{const $='Token with "'+m.type+'" type was not found.';if(this.options.silent){console.error($);return}else throw new Error($)}}}return r}parseInline(e,n){n=n||this.renderer;let r="",i,s,o;const l=e.length;for(i=0;i<l;i++){if(s=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(o=this.options.extensions.renderers[s.type].call({parser:this},s),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){r+=o||"";continue}switch(s.type){case"escape":{r+=n.text(s.text);break}case"html":{r+=n.html(s.text);break}case"link":{r+=n.link(s.href,s.title,this.parseInline(s.tokens,n));break}case"image":{r+=n.image(s.href,s.title,s.text);break}case"strong":{r+=n.strong(this.parseInline(s.tokens,n));break}case"em":{r+=n.em(this.parseInline(s.tokens,n));break}case"codespan":{r+=n.codespan(s.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(s.tokens,n));break}case"text":{r+=n.text(s.text);break}default:{const a='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(a);return}else throw new Error(a)}}}return r}}class ii{constructor(e){this.options=e||bt}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}function hy(t,e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const i="<p>An error occurred:</p><pre>"+de(r.message+"",!0)+"</pre>";if(e)return Promise.resolve(i);if(n){n(null,i);return}return i}if(e)return Promise.reject(r);if(n){n(r);return}throw r}}function Vl(t,e){return(n,r,i)=>{typeof r=="function"&&(i=r,r=null);const s={...r};r={...L.defaults,...s};const o=hy(r.silent,r.async,i);if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(uy(r),r.hooks&&(r.hooks.options=r),i){const l=r.highlight;let a;try{r.hooks&&(n=r.hooks.preprocess(n)),a=t(n,r)}catch(d){return o(d)}const u=function(d){let g;if(!d)try{r.walkTokens&&L.walkTokens(a,r.walkTokens),g=e(a,r),r.hooks&&(g=r.hooks.postprocess(g))}catch(m){d=m}return r.highlight=l,d?o(d):i(null,g)};if(!l||l.length<3||(delete r.highlight,!a.length))return u();let c=0;L.walkTokens(a,function(d){d.type==="code"&&(c++,setTimeout(()=>{l(d.text,d.lang,function(g,m){if(g)return u(g);m!=null&&m!==d.text&&(d.text=m,d.escaped=!0),c--,c===0&&u()})},0))}),c===0&&u();return}if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(n):n).then(l=>t(l,r)).then(l=>r.walkTokens?Promise.all(L.walkTokens(l,r.walkTokens)).then(()=>l):l).then(l=>e(l,r)).then(l=>r.hooks?r.hooks.postprocess(l):l).catch(o);try{r.hooks&&(n=r.hooks.preprocess(n));const l=t(n,r);r.walkTokens&&L.walkTokens(l,r.walkTokens);let a=e(l,r);return r.hooks&&(a=r.hooks.postprocess(a)),a}catch(l){return o(l)}}}function L(t,e,n){return Vl(nt.lex,rt.parse)(t,e,n)}L.options=L.setOptions=function(t){return L.defaults={...L.defaults,...t},Zb(L.defaults),L};L.getDefaults=jl;L.defaults=bt;L.use=function(...t){const e=L.defaults.extensions||{renderers:{},childTokens:{}};t.forEach(n=>{const r={...n};if(r.async=L.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const s=e.renderers[i.name];s?e.renderers[i.name]=function(...o){let l=i.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:e.renderers[i.name]=i.renderer}if(i.tokenizer){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),n.renderer){const i=L.defaults.renderer||new Ti;for(const s in n.renderer){const o=i[s];i[s]=(...l)=>{let a=n.renderer[s].apply(i,l);return a===!1&&(a=o.apply(i,l)),a}}r.renderer=i}if(n.tokenizer){const i=L.defaults.tokenizer||new Ci;for(const s in n.tokenizer){const o=i[s];i[s]=(...l)=>{let a=n.tokenizer[s].apply(i,l);return a===!1&&(a=o.apply(i,l)),a}}r.tokenizer=i}if(n.hooks){const i=L.defaults.hooks||new ii;for(const s in n.hooks){const o=i[s];ii.passThroughHooks.has(s)?i[s]=l=>{if(L.defaults.async)return Promise.resolve(n.hooks[s].call(i,l)).then(u=>o.call(i,u));const a=n.hooks[s].call(i,l);return o.call(i,a)}:i[s]=(...l)=>{let a=n.hooks[s].apply(i,l);return a===!1&&(a=o.apply(i,l)),a}}r.hooks=i}if(n.walkTokens){const i=L.defaults.walkTokens;r.walkTokens=function(s){let o=[];return o.push(n.walkTokens.call(this,s)),i&&(o=o.concat(i.call(this,s))),o}}L.setOptions(r)})};L.walkTokens=function(t,e){let n=[];for(const r of t)switch(n=n.concat(e.call(L,r)),r.type){case"table":{for(const i of r.header)n=n.concat(L.walkTokens(i.tokens,e));for(const i of r.rows)for(const s of i)n=n.concat(L.walkTokens(s.tokens,e));break}case"list":{n=n.concat(L.walkTokens(r.items,e));break}default:L.defaults.extensions&&L.defaults.extensions.childTokens&&L.defaults.extensions.childTokens[r.type]?L.defaults.extensions.childTokens[r.type].forEach(function(i){n=n.concat(L.walkTokens(r[i],e))}):r.tokens&&(n=n.concat(L.walkTokens(r.tokens,e)))}return n};L.parseInline=Vl(nt.lexInline,rt.parseInline);L.Parser=rt;L.parser=rt.parse;L.Renderer=Ti;L.TextRenderer=zl;L.Lexer=nt;L.lexer=nt.lex;L.Tokenizer=Ci;L.Slugger=Hl;L.Hooks=ii;L.parse=L;L.options;L.setOptions;L.use;L.walkTokens;L.parseInline;rt.parse;nt.lex;const gy=w('<div><table class="w-full text-sm text-left text-gray-500 dark:text-gray-400 mt-4"><thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"><tr><th scope=col class="py-3 px-6">Name</th><th scope=col class="py-3 px-6">Type</th><th scope=col class="py-3 px-6">Description</th></tr></thead><tbody>'),my=w('<tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700"><th scope=row class="py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white"></th><td class="py-4 px-6"></td><td class="py-4 px-6">');function Wl(t){return(()=>{const e=gy(),n=e.firstChild,r=n.firstChild,i=r.nextSibling;return f(i,h(ce,{get each(){return t.outputColumns},children:s=>(()=>{const o=my(),l=o.firstChild,a=l.nextSibling,u=a.nextSibling;return f(l,()=>s.title),f(a,()=>s.type),f(u,()=>s.desc,null),f(u,h(U,{get when(){return s.table},get children(){return h(Wl,{get outputColumns(){return s.table_headers}})}}),null),o})()})),e})()}const py=w('<div><h3 class="text-lg font-semibold mt-8">Developer information</h3><div class="overflow-hidden bg-white shadow sm:rounded-lg mt-4"><div class="border-t border-gray-200 px-4 py-5 sm:px-6"><dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"><div class=sm:col-span-1><dt class="text-sm font-medium text-gray-500">Name</dt><dd class="mt-1 text-sm text-gray-900"></dd></div><div class=sm:col-span-1><dt class="text-sm font-medium text-gray-500">Organization</dt><dd class="mt-1 text-sm text-gray-900"></dd></div><div class=sm:col-span-1><dt class="text-sm font-medium text-gray-500">Email address</dt><dd class="mt-1 text-sm text-gray-900"><a></a></dd></div><div class=sm:col-span-1><dt class="text-sm font-medium text-gray-500">Website</dt><dd class="mt-1 text-sm text-gray-900"><a></a></dd></div><div class=sm:col-span-2><dt class="text-sm font-medium text-gray-500">Citation</dt><dd class="mt-1 text-sm text-gray-900"></dd></div></dl></div></div> ');function by(t){return(()=>{const e=py(),n=e.firstChild,r=n.nextSibling,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.nextSibling,u=o.nextSibling,c=u.firstChild,d=c.nextSibling,g=u.nextSibling,m=g.firstChild,p=m.nextSibling,v=p.firstChild,b=g.nextSibling,y=b.firstChild,_=y.nextSibling,x=_.firstChild,I=b.nextSibling,T=I.firstChild,C=T.nextSibling;return f(a,()=>t.module.name),f(d,()=>t.module.organization),f(v,()=>t.module.email),f(x,()=>t.module.website),f(C,()=>t.module.citation),E(A=>{const $="mailto:"+t.module.email,O=t.module.website;return $!==A._v$&&q(v,"href",A._v$=$),O!==A._v$2&&q(x,"href",A._v$2=O),A},{_v$:void 0,_v$2:void 0}),e})()}const yy=w('<div><h3 class="text-lg font-semibold mt-8">Data information</h3><div class="overflow-hidden bg-white shadow sm:rounded-lg mt-4"><div class="border-t border-gray-200 px-4 py-5 sm:px-6"><dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"><div class=sm:col-span-1><dt class="text-sm font-medium text-gray-500">Name</dt><dd class="mt-1 text-sm text-gray-900"></dd></div><div class=sm:col-span-1><dt class="text-sm font-medium text-gray-500">Organization</dt><dd class="mt-1 text-sm text-gray-900"></dd></div><div class=sm:col-span-1><dt class="text-sm font-medium text-gray-500">Email address</dt><dd class="mt-1 text-sm text-gray-900"><a></a></dd></div><div class=sm:col-span-1><dt class="text-sm font-medium text-gray-500">Website</dt><dd class="mt-1 text-sm text-gray-900"><a></a></dd></div><div class=sm:col-span-2><dt class="text-sm font-medium text-gray-500">Citation</dt><dd class="mt-1 text-sm text-gray-900"></dd></div></dl></div></div> ');function vy(t){return(()=>{const e=yy(),n=e.firstChild,r=n.nextSibling,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.nextSibling,u=o.nextSibling,c=u.firstChild,d=c.nextSibling,g=u.nextSibling,m=g.firstChild,p=m.nextSibling,v=p.firstChild,b=g.nextSibling,y=b.firstChild,_=y.nextSibling,x=_.firstChild,I=b.nextSibling,T=I.firstChild,C=T.nextSibling;return f(a,()=>t.data.name),f(d,()=>t.data.organization),f(v,()=>t.data.email),f(x,()=>t.data.website),f(C,()=>t.data.citation),E(A=>{const $="mailto:"+t.data.email,O=t.data.website;return $!==A._v$&&q(v,"href",A._v$=$),O!==A._v$2&&q(x,"href",A._v$2=O),A},{_v$:void 0,_v$2:void 0}),e})()}const _y=w('<div class="absolute w-full h-full bg-white opacity-1 top-0 left-0 z-30"><div class="absolute opacity-1 top-[5vh] left-[10vw] w-[80vw] h-[80vh] overflow-auto bg-gray-50 z-30 m-4 p-8"><img class="w-0 top-0 right-0 rounded-lg"><div class="-ml-1 mb-2"><span class="relative inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"></span><span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"></span><span class="inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800">Installed</span><span class="inline-flex items-center rounded-full bg-yellow-100 px-2.5 py-0.5 text-xs font-medium text-yellow-800">Update available</span></div><div class="readme opacity-1 list-decimal mb-8"></div><h3 class="text-lg font-semibold">Module output</h3></div><div class="absolute top-0 right-0 cursor-pointer">'),wy=/img src=\"(?!http)/g;function xy(){const{detailModuleName:t,setDetailModuleName:e,showDetailCard:n,setShowDetailCard:r}=Ml,{serverUrl:i}=Q,[s,{mutate:o,refetch:l}]=en(t,m),{remoteModules:a}=Re,{installed:u,updateAvailableForModule:c}=ot,[d,g]=k(null);se(function(){t()!=null&&g(a[t()])});async function m(v){try{const b=await K.get(i+"/store/getreadme",{params:{module_name:v}});let y=L.parse(b.data);return y=y.replace(wy,'img src="https://karchinlab.org/cravatstore/modules/'+v+"/"+d().latest_version+"/"),y}catch(b){console.error(b),Y(b)}}function p(){r(!1),e(null),o(null)}return h(U,{get when(){return pe(()=>!!n())()&&s()!=null},get children(){const v=_y(),b=v.firstChild,y=b.firstChild,_=y.nextSibling,x=_.firstChild,I=x.nextSibling,T=I.nextSibling,C=T.nextSibling,A=_.nextSibling;A.nextSibling;const $=b.nextSibling;return f(x,()=>d().type),f(I,()=>Ol(d().size)),f(b,h(Wl,{get outputColumns(){return d().output_columns}}),null),f(b,h(by,{get module(){return d().developer.module}}),null),f(b,h(vy,{get data(){return d().developer.data}}),null),$.$$click=p,f($,h(Si,{color:"rgb(107 114 128)",size:64})),E(O=>{const R=`${i}/store/remotelogo?module=${d().name}&store=${d().store}`,B=!u(t()),z=!c(t()),P=s();return R!==O._v$&&q(y,"src",O._v$=R),B!==O._v$2&&T.classList.toggle("hidden",O._v$2=B),z!==O._v$3&&C.classList.toggle("hidden",O._v$3=z),P!==O._v$4&&(A.innerHTML=O._v$4=P),O},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),v}})}F(["click"]);const ky=w('<div id=error-dialog class="relative z-10"aria-labelledby=modal-title role=dialog aria-modal=true><div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div><div><div class="mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100"><svg class="h-6 w-6 text-red-600"xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M12 10.5v3.75m-9.303 3.376C1.83 19.126 2.914 21 4.645 21h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 4.88c-.866-1.501-3.032-1.501-3.898 0L2.697 17.626zM12 17.25h.007v.008H12v-.008z"></path></svg></div><div class="mt-3 text-center sm:mt-5"><h3 class="text-lg font-medium leading-6 text-gray-900"></h3><div class=mt-2><p class="text-sm text-gray-500"></p></div></div></div><div class="mt-5 sm:mt-6"><button type=button class="inline-flex w-full justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:text-sm">Dismiss');function Ei(t){const{showErrorDialog:e,setShowErrorDialog:n,errorDialogTitle:r,errorDialogText:i,getErrorText:s,showDismiss:o}=rn;let l=t.width;return l||(l="[48rem]"),h(U,{get when(){return e()},get children(){const a=ky(),u=a.firstChild,c=u.nextSibling,d=c.firstChild,g=d.firstChild,m=g.firstChild,p=m.firstChild,v=p.nextSibling,b=v.firstChild,y=b.nextSibling,_=y.firstChild,x=m.nextSibling,I=x.firstChild;return ct(g,`relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:p-6 w-${l}`),f(b,r),f(_,s),I.$$click=n,I.$$clickData=!1,E(T=>{const C={"sm:max-w-3xl":i().length>200},A=!o();return T._v$=oi(g,C,T._v$),A!==T._v$2&&x.classList.toggle("hidden",T._v$2=A),T},{_v$:void 0,_v$2:void 0}),a}})}F(["click"]);const $y=w('<div><div class=mt-4><label for=email class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email</label><input type=email name=email class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white"placeholder=name@company.com required></div><div><span class=text-orange-500></span></div><div class=mt-4><label for=password class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Password</label><input type=password name=password placeholder=\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022 class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white"required></div><div><span class=text-orange-500>');function ql(t){const{email:e,password:n,setEmail:r,setPassword:i,errorInEmail:s,errorInPassword:o,checkEmailAndPassword:l,emailErrorMsg:a,passwordErrorMsg:u}=ht;function c(){return!s()&&!o()}function d(m){r(m.target.value),l(),m.keyCode==13&&c()&&t.submit("email")}function g(m){i(m.target.value),l(),m.keyCode==13&&c()&&t.submit("email")}return(()=>{const m=$y(),p=m.firstChild,v=p.firstChild,b=v.nextSibling,y=p.nextSibling,_=y.firstChild,x=y.nextSibling,I=x.firstChild,T=I.nextSibling,C=x.nextSibling,A=C.firstChild;return b.$$keyup=d,f(_,a),T.$$keyup=g,f(A,u),E(()=>b.value=e()),E(()=>T.value=n()),m})()}F(["keyup"]);const Sy=w('<div class=flex><div><a href=#>Forgot password?</a><button type=submit class="flex justify-center w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-4"><div class=flex><p>Sign in');function Jl(t){const[e,n]=k(!1),[r,i]=k(!1),[s,o]=k(null),[l,a]=k(null),{setShowErrorDialog:u,setErrorDialogTitle:c,setErrorDialogText:d}=rn,g={"auth/user-not-found":"Account was not found. Please sign up first.","auth/account-exists-with-different-credential":"Account exists with different credential.","auth/wrong-password":"Wrong password. Please check your password or use Forget Your Password? link.","auth/missing-email":"Please provide an email address.","missing-password":"Please provide a password.","account-exists":"Account already exists.","auth/too-many-requests":"Too many failed attempts. Wait for a while and try again, or use Forgot your password? link."},{email:m,password:p,errorInEmail:v}=ht,{auth:b}=nr;let y=()=>{i(!1)};function _(C,A){if(C.response&&(C=C.response.data),C.code=="auth/popup-closed-by-user"){n(!1);return}c(A);let $=g[C.code];$?d($):(d("Error code: "+C.code),console.error(C)),u(!0)}function x(){n(!0),Lf(b(),m(),p()).then(function(C){n(!1),t.signedInCallback&&t.signedInCallback()}).catch(function(C){_(C,"Login failed"),n(!1)})}function I(){v()||Mf(b(),m()).then(function(){o("Success"),a("Please check your email for a password reset link."),i(!0)}).catch(function(C){_(C,"Password reset failed")})}function T(){return t.width?t.width:"64"}return(()=>{const C=Sy(),A=C.firstChild,$=A.firstChild,O=$.nextSibling,R=O.firstChild,B=R.firstChild;return f(A,h(ql,{submit:x}),$),$.$$click=I,O.$$click=x,f(R,h(ur,{get show(){return e()}}),B),f(C,h(Ei,{}),null),f(C,h(U,{get when(){return r()},get children(){return h(Ii,{get title(){return s()},get text(){return l()},callback:y})}}),null),E(z=>{const P="w-["+T()+"rem]",M="text-sm font-medium text-blue-600 hover:underline dark:text-primary-500"+t.addlClass,J=!!v(),W=!!v();return P!==z._v$&&ct(A,z._v$=P),M!==z._v$2&&ct($,z._v$2=M),J!==z._v$3&&$.classList.toggle("pointer-events-none",z._v$3=J),W!==z._v$4&&$.classList.toggle("text-blue-100",z._v$4=W),z},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),C})()}F(["click"]);const Iy=w('<div class=flex><div><div><button id=signup_btn type=submit class="flex justify-center mt-4 flex w-full justify-center rounded-md border border-transparent py-2 px-4 text-sm font-medium text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"><div class=flex><p>Sign up');function Gl(t){const[e,n]=k(!1),[r,i]=k(!1),[s,o]=k(null),[l,a]=k(null),{setShowErrorDialog:u,setErrorDialogTitle:c,setErrorDialogText:d}=rn,g={"auth/user-not-found":"Account was not found. Please sign up first.","auth/account-exists-with-different-credential":"Account exists with different credential.","auth/wrong-password":"Wrong password. Please check your password or use Forget Your Password? link.","auth/missing-email":"Please provide an email address.","missing-password":"Please provide a password.","account-exists":"Account already exists.","auth/too-many-requests":"Too many failed attempts. Wait for a while and try again, or use Forgot your password? link."},{serverUrl:m,withCredentials:p}=Q,{email:v,password:b,errorInEmail:y,errorInPassword:_}=ht,{setLogged:x,setShowAuth:I}=be;let T=()=>{i(!1)};function C(){return t.width?t.width:"64"}function A(){return!y()&&!_()}function $(R,B){if(R.response&&(R=R.response.data),R.code=="auth/popup-closed-by-user")return;c(B);let z=g[R.code];z?d(z):(d("Error code: "+R.code),console.error(R)),u(!0)}function O(){n(!0),K.post(m+"/server/signup",{email:v(),password:b(),newSetup:t.newSetup},{withCredentials:p}).then(function(R){o("Success"),a(R.data.code),T=()=>{n(!1),x(!0),i(!1),I(!1),t.next&&t.next()},i(!0)}).catch(function(R){$(R,"Signup failed"),n(!1)})}return(()=>{const R=Iy(),B=R.firstChild,z=B.firstChild,P=z.firstChild,M=P.firstChild,J=M.firstChild;return f(B,h(ql,{submit:O}),z),P.$$click=O,f(M,h(ur,{get show(){return e()}}),J),f(R,h(Ei,{width:36}),null),f(R,h(U,{get when(){return r()},get children(){return h(Ii,{get title(){return s()},get text(){return l()},callback:T})}}),null),E(W=>{const oe="w-["+C()+"rem]",V={"bg-indigo-600":A(),"hover:bg-indigo-700":A(),"bg-gray-500":!A()},te=!A();return oe!==W._v$&&ct(B,W._v$=oe),W._v$2=oi(P,V,W._v$2),te!==W._v$3&&(P.disabled=W._v$3=te),W},{_v$:void 0,_v$2:void 0,_v$3:void 0}),R})()}F(["click"]);const Cy=w('<div class="h-screen w-screen grid place-items-center fixed z-10 top-0 left-0 bg-white opacity-97"><div class="absolute top-0 right-0 cursor-pointer"></div><div><div><div class="flex justify-center text-sm mt-4 underline"><a href=#>Sign up</a></div></div><div><div class="flex justify-center text-sm mt-4 underline"><a href=#>Sign in');let Rr=null;function Ty(t){const[e,n]=k("signin"),{logged:r,showAuth:i,setShowAuth:s,afterLogin:o,afterLogout:l,setReloginChecked:a}=be,{multiuser:u}=ve,{auth:c}=nr,{setAppLoading:d}=rr,{systemSetupNeeded:g}=Zn;se(function(){Rr==null&&d(!0),u()==!0&&c()||g()?!Rr&&u()&&r()!=!0&&(Rr=Bf(c(),function(b){b?(o(b),a(!0)):l()})):a(!0)});function m(){n("signup")}function p(){n("signin")}function v(b){s(!1)}return(()=>{const b=Cy(),y=b.firstChild,_=y.nextSibling,x=_.firstChild,I=x.firstChild,T=I.firstChild,C=x.nextSibling,A=C.firstChild,$=A.firstChild;return y.$$click=v,f(y,h(Si,{color:"rgb(107 114 128)",size:64})),f(x,h(Jl,{width:"36"}),I),T.$$click=m,f(C,h(Gl,{width:"36"}),A),$.$$click=p,E(O=>{const R=!i(),B=e()!="signin",z=e()!="signup";return R!==O._v$&&b.classList.toggle("hidden",O._v$=R),B!==O._v$2&&x.classList.toggle("hidden",O._v$2=B),z!==O._v$3&&C.classList.toggle("hidden",O._v$3=z),O},{_v$:void 0,_v$2:void 0,_v$3:void 0}),b})()}F(["click"]);const Ey=w("<div class=h-screen>");function Ay(){const{appLoading:t}=rr;return(()=>{const e=Ey();return f(e,h(cm,{}),null),f(e,h(Qb,{}),null),f(e,h(xy,{}),null),f(e,h(Ty,{}),null),E(()=>e.classList.toggle("hidden",!!t())),e})()}const Oy=w('<div class="h-screen w-screen grid place-items-center"><img class="h-96 animate-pulse">');function Ry(){const{serverUrl:t}=Q,{appLoading:e}=rr;return(()=>{const n=Oy(),r=n.firstChild;return q(r,"src",t+"/submit/images/logo_transparent.png"),E(()=>n.classList.toggle("hidden",!e())),n})()}const Ny=w('<div tabindex=-1 class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class=h-28><p class=mt-8>Welcome to OakVar!</p><p class=mt-4>Get ready to explore the world of genomics like never before with OakVar!</p><p class=mt-4>With our platform, you can effortlessly analyze your own genome or dive into exciting new research with genome data.</p><p class=mt-4>Say goodbye to complicated processes and hello to a new world of discovery.</p><p class=mt-4>- Oak Bioinformatics, LLC</p><button type=submit class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-4">Start');function Py(t){const{serverUrl:e}=Q;function n(){t.setPageNo(2)}return(()=>{const r=Ny(),i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.nextSibling,u=a.nextSibling,c=u.nextSibling,d=c.nextSibling,g=d.nextSibling,m=g.nextSibling;return q(l,"src",e+"/submit/images/logo.png"),m.$$click=n,E(()=>r.classList.toggle("hidden",t.pageNo!=1)),r})()}F(["click"]);const Dy=w('<div tabindex=-1 class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class=h-28><div class="flex flex-col mt-4">Do you already have an OakVar account?<button class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-4">Yes</button><button class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-4">No');function My(t){const{serverUrl:e,withCredentials:n}=Q,r=2;function i(){t.setPrevPageNo(r),t.setPageNo(4)}function s(){t.setPrevPageNo(r),t.setPageNo(3)}return(()=>{const o=Dy(),l=o.firstChild,a=l.firstChild,u=a.firstChild,c=u.firstChild,d=c.nextSibling,g=d.firstChild,m=g.nextSibling,p=m.nextSibling;return f(u,h(dn,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,t.prevPageNo]}}),c),q(c,"src",e+"/submit/images/logo.png"),m.$$click=i,p.$$click=s,E(()=>o.classList.toggle("hidden",t.pageNo!=r)),o})()}F(["click"]);const Ly=w(`<div tabindex=-1 class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class=h-28><p class=mt-4>Welcome back! We're so glad to see you again. Please go ahead and sign in. We've been waiting for you!`);function jy(t){const{serverUrl:n}=Q;function r(){t.setPrevPageNo(4),t.setPageNo(5)}return(()=>{const i=Ly(),s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.firstChild;return a.nextSibling,f(l,h(dn,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,2]}}),a),q(a,"src",n+"/submit/images/logo.png"),f(l,h(Jl,{signedInCallback:r}),null),E(()=>i.classList.toggle("hidden",t.pageNo!=4)),i})()}const Uy=w(`<div tabindex=-1 class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class=h-28><p class=mt-4>In order to use our platform, you'll need to create an OakVar store account.</p><p class=mt-4>Simply enter your email and choose a password to get started.</p><p class=mt-4>Rest assured, your information is safe with us and will only be used for your OakVar experience and communication between us.`);function Fy(t){const{serverUrl:n}=Q;function r(){t.setPageNo(5)}return(()=>{const i=Uy(),s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.firstChild;return a.nextSibling.nextSibling.nextSibling,f(l,h(dn,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,2]}}),a),q(a,"src",n+"/submit/images/logo.png"),f(l,h(Gl,{next:r,newSetup:!0}),null),E(()=>i.classList.toggle("hidden",t.pageNo!=3)),i})()}const By=w("<span>Change"),zy=w('<div><div class=mt-4><label class="block text-sm font-semibold text-gray-700 underline decoration-dotted cursor-help"></label><div class="mt-1 flex rounded-md shadow-sm"><div class="relative flex flex-grow items-stretch focus-within:z-10"><input class="block w-full rounded-none rounded-l-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"></div><button type=button class="relative -ml-px inline-flex items-center space-x-2 rounded-r-md border border-gray-300 bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"></button></div><p class="mt-2 text-sm text-blue-400">'),Hy=w("<span>Set");function pn(t){const{serverUrl:e}=Q,[n,r]=k(!0),[i,s]=k(null);let o=null;se(function(){!n()||l(t.dir)});function l(g){if(g==null)return"";K.get(e+"/submit/checkserverdir",{params:{dir:g}}).then(function(m){m.data.exists==!1?s("This directory will be created."):s(null)}).catch(function(m){Y(m)})}function a(g){t.setDir(g.target.value),g.keyCode==13&&r(!0)}function u(g){r(!n()),o.focus()}function c(g){t.setTooltipText(t.help),t.setTooltipTop(g.clientY),t.setTooltipShow(!0)}function d(g){t.setTooltipShow(!1)}return(()=>{const g=zy(),m=g.firstChild,p=m.firstChild,v=p.nextSibling,b=v.firstChild,y=b.firstChild,_=b.nextSibling,x=v.nextSibling;p.addEventListener("mouseleave",d),p.addEventListener("mouseenter",c),f(p,()=>t.title);const I=o;return typeof I=="function"?li(I,y):o=y,y.$$keyup=a,_.$$click=u,f(_,h(U,{get when(){return n()},get fallback(){return Hy()},get children(){return By()}})),f(x,i),E(()=>y.disabled=n()),E(()=>y.value=t.dir),g})()}F(["keyup","click"]);const Vy=w(`<div tabindex=-1 class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class=h-28><p class=mt-4>OakVar needs to store system configuration and data files. Don't worry, we've got your back with pre-selected default locations. If you need to make any adjustment, feel free to do so. And if everything looks good, just hit the "Start setup" button.</p><div class="mt-4 mb-4 flex"><div class=ml-4>A quick heads up about the modules directory - to get the most out of your OakVar experience, we recommend having at least 2GB of storage space available. And if you're planning on diving into some larger annotation modules, keep in mind that they can take up a substantial amount of space, potentially reaching over 100GB.</div></div><div class=mt-4><button type=submit class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Start setup`);function Wy(t){const{serverUrl:n}=Q,{email:r,password:i}=ht,[s,o]=k(null),[l,a]=k(null),[u,c]=k(null),[d,g]=k(null),[m,p]=k(null),[v,b]=k(!1),[y,_]=k(0);se(function(){s()==null&&I(),l()==null&&T(),u()==null&&C(),d()==null&&A()});function x($){$.preventDefault(),t.setSetupData({email:r(),pw:i(),root_dir:s(),modules_dir:l(),jobs_dir:u(),log_dir:d(),setupToStart:!0}),t.setPrevPageNo(5),t.setPageNo(6)}function I(){K.get(n+"/submit/rootdir").then(function($){o($.data.root_dir)}).catch(function($){console.error($)})}function T(){K.get(n+"/submit/modulesdir").then(function($){a($.data.modules_dir)}).catch(function($){console.error($)})}function C(){K.get(n+"/submit/jobsdir").then(function($){c($.data.jobs_dir)}).catch(function($){console.error($)})}function A(){K.get(n+"/submit/logdir").then(function($){g($.data.log_dir)}).catch(function($){console.error($)})}return(()=>{const $=Vy(),O=$.firstChild,R=O.firstChild,B=R.firstChild,z=B.firstChild,P=z.nextSibling,M=P.nextSibling,J=M.firstChild,W=M.nextSibling,oe=W.firstChild;return f(B,h(dn,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,2]}}),z),q(z,"src",n+"/submit/images/logo.png"),f(M,h(bm,{class:"inline",size:"28",color:"#fb923c"}),J),f(B,h(pn,{title:"System root directory",get dir(){return s()},setDir:o,setTooltipShow:b,setTooltipText:p,setTooltipTop:_,help:"OakVar system files will be created in this directory. By default, directories for configuration, modules, and jobs will be created under this directory. However, each of them can be assigned to a different location using the input boxes following this one."}),W),f(B,h(pn,{title:"Modules directory",get dir(){return l()},setDir:a,setTooltipShow:b,setTooltipText:p,setTooltipTop:_,help:"OakVar is a modular system. Conversion, mapping, annotation, and reporting are done by modules. Among OakVar system files, module files are the biggest, which can take up to hundreds of GB according to your choice."}),W),f(B,h(pn,{title:"Jobs directory",get dir(){return u()},setDir:c,setTooltipShow:b,setTooltipText:p,setTooltipTop:_,help:"Jobs will be stored in this directory"}),W),f(B,h(pn,{title:"Log directory",get dir(){return d()},setDir:g,setTooltipShow:b,setTooltipText:p,setTooltipTop:_,help:"System logs will be stored in this directory"}),W),oe.$$click=x,f($,h(Ll,{get text(){return m()},get tooltipShow(){return v()},get tooltipTop(){return y()}}),null),E(()=>$.classList.toggle("hidden",t.pageNo!=5)),$})()}F(["click"]);const qy=w(`<div class="mt-4 w-full flex items-center justify-center flex flex-col"><div><p class=mt-4>Congratulations, you're now ready to start using OakVar!</p><p class=mt-4>All the setup is finished and it's time to dive into the exciting world of genetics.</p><p class=mt-4>Simply click the button below and let the journey begin!</p></div><button type=button class="mt-8 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">Enter OakVar!`),Jy=w('<div tabindex=-1 class="fixed top-0 left-0 right-0 z-0 w-full h-full p-4 md:inset-0 flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm p-6"><div class="px-6 py-6 lg:px-8"><img class=h-28>'),Gy=w(`<div><p class=mt-4>We're getting OakVar all set up for you!</p><p class=mt-4>Just sit back and relax for a moment while we take care of everything.</p><p class=mt-4>We'll let you know as soon as we're ready for you.</p><div class="mt-4 w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700"><div class="bg-blue-600 h-2.5 rounded-full"></div></div><p class=mt-2></p><div class="mt-4 text-xs p-6 h-[24rem] overflow-auto font-mono whitespace-pre"><div class=relative><div>`),Ky=w("<p>");function Qy(t){const{systemMsg:n,setSystemMsg:r}=Cl,{serverUrl:i,withCredentials:s}=Q,{getSetupStageMsg:o,setSetupStateMsg:l}=Tl,[a,u]=Se([]),[c,d]=k(0);let g=null,m=0,p=0,v=null;se(function(){t.setupData&&t.setupData.setupToStart==!0&&(t.setSetupData({...t.setupData,setupToStart:!1}),b()),n()!=null&&(u([...a,...n()]),r(null),setTimeout(function(){g.scrollTo(0,99999)},100));const _=o();if(_!=v)if(v=_,_=="Logging in...")d(10);else if(_=="Setting up store cache...")d(20);else if(_=="Setting up administrative database...")d(50);else if(_=="Installing system modules...")d(60);else if(_.startsWith("Installed")||_.includes("already exists")){p+=1;const x=60+p/m*40;d(x)}else _=="Done setting up the system."&&d(100)});function b(){p=0,v=null,l(""),K.get(i+"/submit/basemodules",{withCredentials:s}).then(function(_){m=_.data.length,K.post(i+"/submit/startsetup",t.setupData,{withCredentials:s}).then(function(x){}).catch(function(x){Y(x)})}).catch(function(_){Y(_)})}function y(){window.location.reload()}return(()=>{const _=Jy(),x=_.firstChild,I=x.firstChild,T=I.firstChild,C=T.firstChild;return f(T,h(dn,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,t.prevPageNo]}}),C),q(C,"src",i+"/submit/images/logo.png"),f(T,h(U,{get when(){return c()==100},get fallback(){return(()=>{const A=Gy(),$=A.firstChild,O=$.nextSibling,R=O.nextSibling,B=R.nextSibling,z=B.firstChild,P=B.nextSibling,M=P.nextSibling,J=M.firstChild,W=J.firstChild;f(P,o);const oe=g;return typeof oe=="function"?li(oe,M):g=M,f(W,h(ce,{each:a,children:V=>(()=>{const te=Ky();return f(te,()=>V.msg),te})()})),E(()=>c()+"%"!=null?z.style.setProperty("width",c()+"%"):z.style.removeProperty("width")),A})()},get children(){const A=qy(),$=A.firstChild,O=$.nextSibling;return O.$$click=y,A}}),null),E(()=>_.classList.toggle("hidden",t.pageNo!=6)),_})()}F(["click"]);const Zy=w('<div tabindex=-1 class="fixed top-0 left-0 right-0 z-0 w-full">');function Yy(){const[t,e]=k(1),[n,r]=k(1),[i,s]=Se({});return(()=>{const o=Zy();return f(o,h(Py,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:i,setSetupData:s}),null),f(o,h(My,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:i,setSetupData:s}),null),f(o,h(Fy,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:i,setSetupData:s}),null),f(o,h(jy,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:i,setSetupData:s}),null),f(o,h(Wy,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:i,setSetupData:s}),null),f(o,h(Qy,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:i,setSetupData:s}),null),o})()}function Xy(){const{serverUrl:t}=Q,{logged:e,setLogged:n}=be,{multiuser:r,setMultiuser:i}=ve,{setAppLoading:s}=rr,{systemSetupNeeded:o}=Zn,{reloginChecked:l}=be;i(null),n(null),se(function(){r()==null&&u(),r()==!0&&e()==null&&c(),(r()!=null&&e()!=null&&l()==!0||r()==!1&&e()==!0)&&s(!1)});function a(){K.get(t+"/server/deletetoken").then(function(){}).catch(function(d){Y(d)})}function u(){K.get(t+"/submit/servermode").then(function(d){i(d.data.servermode),r()||(a(),n(!0))}).catch(function(d){Y(d)})}function c(){K.get(t+"/submit/loginstate").then(function(d){n(d.data.loggedin)}).catch(function(d){Y(d)})}return[h(U,{get when(){return!o()},get fallback(){return h(Yy,{})},get children(){return[h(Ry,{}),h(Ay,{})]}}),h(Ei,{width:"[64rem]"})]}ja(()=>h(Xy,{}),document.getElementById("root"));
