(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const fe={};function Bl(t){fe.context=t}const Hl=(t,e)=>t===e,Re=Symbol("solid-proxy"),pr=Symbol("solid-track"),kn={equals:Hl};let Rs=Fs;const Ue=1,$n=2,Ps={owned:null,cleanups:null,context:null,owner:null},er={};var le=null;let ot=null,ne=null,ae=null,Ae=null,jr=0;function re(t,e){const n=ne,r=le,i=t.length===0,s=i?Ps:{owned:null,cleanups:null,context:null,owner:e||r},o=i?t:()=>t(()=>Pe(()=>Fr(s)));le=s,ne=null;try{return Ye(o,!0)}finally{ne=n,le=r}}function k(t,e){e=e?Object.assign({},kn,e):kn;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),js(n,i));return[Us.bind(n),r]}function pi(t,e,n){const r=Pn(t,e,!0,Ue);Et(r)}function T(t,e,n){const r=Pn(t,e,!1,Ue);Et(r)}function ie(t,e,n){Rs=Kl;const r=Pn(t,e,!1,Ue);r.user=!0,Ae?Ae.push(r):Et(r)}function ge(t,e,n){n=n?Object.assign({},kn,n):kn;const r=Pn(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Et(r),Us.bind(r)}function Yt(t,e,n){let r,i,s;arguments.length===2&&typeof e=="object"||arguments.length===1?(r=!0,i=t,s=e||{}):(r=t,i=e,s=n||{});let o=null,l=er,a=null,c=!1,u="initialValue"in s,m=typeof r=="function"&&ge(r);const g=new Set,[h,b]=(s.storage||k)(s.initialValue),[y,p]=k(void 0),[v,_]=k(void 0,{equals:!1}),[w,I]=k(u?"ready":"unresolved");if(fe.context){a=`${fe.context.id}${fe.context.count++}`;let C;s.ssrLoadFrom==="initial"?l=s.initialValue:fe.load&&(C=fe.load(a))&&(l=C[0])}function N(C,O,P,z){return o===C&&(o=null,u=!0,(C===l||O===l)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(z,{value:O})),l=er,E(O,P)),O}function E(C,O){Ye(()=>{O||b(()=>C),I(O?"errored":"ready"),p(O);for(const P of g.keys())P.decrement();g.clear()},!1)}function A(){const C=ql,O=h(),P=y();if(P&&!o)throw P;return ne&&!ne.user&&C&&pi(()=>{v(),o&&(C.resolved||g.has(C)||(C.increment(),g.add(C)))}),O}function S(C=!0){if(C!==!1&&c)return;c=!1;const O=m?m():r;if(O==null||O===!1){N(o,Pe(h));return}const P=l!==er?l:Pe(()=>i(O,{value:h(),refetching:C}));return typeof P!="object"||!(P&&"then"in P)?(N(o,P),P):(o=P,c=!0,queueMicrotask(()=>c=!1),Ye(()=>{I(u?"refreshing":"pending"),_()},!1),P.then(z=>N(P,z,void 0,O),z=>N(P,void 0,Bs(z))))}return Object.defineProperties(A,{state:{get:()=>w()},error:{get:()=>y()},loading:{get(){const C=w();return C==="pending"||C==="refreshing"}},latest:{get(){if(!u)return A();const C=y();if(C&&!o)throw C;return h()}}}),m?pi(()=>S(!1)):S(!1),[A,{refetch:S,mutate:b}]}function Vl(t){return Ye(t,!1)}function Pe(t){const e=ne;ne=null;try{return t()}finally{ne=e}}function Ms(t){return le===null||(le.cleanups===null?le.cleanups=[t]:le.cleanups.push(t)),t}function Ls(){return ne}function Wl(t){const e=ge(t),n=ge(()=>br(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let ql;function Us(){const t=ot;if(this.sources&&(this.state||t))if(this.state===Ue||t)Et(this);else{const e=ae;ae=null,Ye(()=>In(this),!1),ae=e}if(ne){const e=this.observers?this.observers.length:0;ne.sources?(ne.sources.push(this),ne.sourceSlots.push(e)):(ne.sources=[this],ne.sourceSlots=[e]),this.observers?(this.observers.push(ne),this.observerSlots.push(ne.sources.length-1)):(this.observers=[ne],this.observerSlots=[ne.sources.length-1])}return this.value}function js(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&Ye(()=>{for(let i=0;i<t.observers.length;i+=1){const s=t.observers[i],o=ot&&ot.running;o&&ot.disposed.has(s),(o&&!s.tState||!o&&!s.state)&&(s.pure?ae.push(s):Ae.push(s),s.observers&&zs(s)),o||(s.state=Ue)}if(ae.length>1e6)throw ae=[],new Error},!1)),e}function Et(t){if(!t.fn)return;Fr(t);const e=le,n=ne,r=jr;ne=le=t,Jl(t,t.value,r),ne=n,le=e}function Jl(t,e,n){let r;try{r=t.fn(e)}catch(i){t.pure&&(t.state=Ue),Hs(i)}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?js(t,r):t.value=r,t.updatedAt=n)}function Pn(t,e,n,r=Ue,i){const s={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:le,context:null,pure:n};return le===null||le!==Ps&&(le.owned?le.owned.push(s):le.owned=[s]),s}function Sn(t){const e=ot;if(t.state===0||e)return;if(t.state===$n||e)return In(t);if(t.suspense&&Pe(t.suspense.inFallback))return t.suspense.effects.push(t);const n=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<jr);)(t.state||e)&&n.push(t);for(let r=n.length-1;r>=0;r--)if(t=n[r],t.state===Ue||e)Et(t);else if(t.state===$n||e){const i=ae;ae=null,Ye(()=>In(t,n[0]),!1),ae=i}}function Ye(t,e){if(ae)return t();let n=!1;e||(ae=[]),Ae?n=!0:Ae=[],jr++;try{const r=t();return Gl(n),r}catch(r){ae||(Ae=null),Hs(r)}}function Gl(t){if(ae&&(Fs(ae),ae=null),t)return;const e=Ae;Ae=null,e.length&&Ye(()=>Rs(e),!1)}function Fs(t){for(let e=0;e<t.length;e++)Sn(t[e])}function Kl(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:Sn(r)}for(fe.context&&Bl(),e=0;e<n;e++)Sn(t[e])}function In(t,e){const n=ot;t.state=0;for(let r=0;r<t.sources.length;r+=1){const i=t.sources[r];i.sources&&(i.state===Ue||n?i!==e&&Sn(i):(i.state===$n||n)&&In(i,e))}}function zs(t){const e=ot;for(let n=0;n<t.observers.length;n+=1){const r=t.observers[n];(!r.state||e)&&(r.state=$n,r.pure?ae.push(r):Ae.push(r),r.observers&&zs(r))}}function Fr(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),o=n.observerSlots.pop();r<i.length&&(s.sourceSlots[o]=r,i[r]=s,n.observerSlots[r]=o)}}if(t.owned){for(e=0;e<t.owned.length;e++)Fr(t.owned[e]);t.owned=null}if(t.cleanups){for(e=0;e<t.cleanups.length;e++)t.cleanups[e]();t.cleanups=null}t.state=0,t.context=null}function Bs(t){return t instanceof Error||typeof t=="string"?t:new Error("Unknown error")}function Hs(t){throw t=Bs(t),t}function br(t){if(typeof t=="function"&&!t.length)return br(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=br(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}const Ql=Symbol("fallback");function bi(t){for(let e=0;e<t.length;e++)t[e]()}function Xl(t,e,n={}){let r=[],i=[],s=[],o=0,l=e.length>1?[]:null;return Ms(()=>bi(s)),()=>{let a=t()||[],c,u;return a[pr],Pe(()=>{let g=a.length,h,b,y,p,v,_,w,I,N;if(g===0)o!==0&&(bi(s),s=[],r=[],i=[],o=0,l&&(l=[])),n.fallback&&(r=[Ql],i[0]=re(E=>(s[0]=E,n.fallback())),o=1);else if(o===0){for(i=new Array(g),u=0;u<g;u++)r[u]=a[u],i[u]=re(m);o=g}else{for(y=new Array(g),p=new Array(g),l&&(v=new Array(g)),_=0,w=Math.min(o,g);_<w&&r[_]===a[_];_++);for(w=o-1,I=g-1;w>=_&&I>=_&&r[w]===a[I];w--,I--)y[I]=i[w],p[I]=s[w],l&&(v[I]=l[w]);for(h=new Map,b=new Array(I+1),u=I;u>=_;u--)N=a[u],c=h.get(N),b[u]=c===void 0?-1:c,h.set(N,u);for(c=_;c<=w;c++)N=r[c],u=h.get(N),u!==void 0&&u!==-1?(y[u]=i[c],p[u]=s[c],l&&(v[u]=l[c]),u=b[u],h.set(N,u)):s[c]();for(u=_;u<g;u++)u in y?(i[u]=y[u],s[u]=p[u],l&&(l[u]=v[u],l[u](u))):i[u]=re(m);i=i.slice(0,o=g),r=a.slice(0)}return i});function m(g){if(s[u]=g,l){const[h,b]=k(u);return l[u]=b,e(a[u],h)}return e(a[u])}}}function f(t,e){return Pe(()=>t(e||{}))}function un(){return!0}const Yl={get(t,e,n){return e===Re?n:t.get(e)},has(t,e){return t.has(e)},set:un,deleteProperty:un,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:un,deleteProperty:un}},ownKeys(t){return t.keys()}};function tr(t){return(t=typeof t=="function"?t():t)?t:{}}function Zl(...t){if(t.some(n=>n&&(Re in n||typeof n=="function")))return new Proxy({get(n){for(let r=t.length-1;r>=0;r--){const i=tr(t[r])[n];if(i!==void 0)return i}},has(n){for(let r=t.length-1;r>=0;r--)if(n in tr(t[r]))return!0;return!1},keys(){const n=[];for(let r=0;r<t.length;r++)n.push(...Object.keys(tr(t[r])));return[...new Set(n)]}},Yl);const e={};for(let n=t.length-1;n>=0;n--)if(t[n]){const r=Object.getOwnPropertyDescriptors(t[n]);for(const i in r)i in e||Object.defineProperty(e,i,{enumerable:!0,get(){for(let s=t.length-1;s>=0;s--){const o=(t[s]||{})[i];if(o!==void 0)return o}}})}return e}function oe(t){const e="fallback"in t&&{fallback:()=>t.fallback};return ge(Xl(()=>t.each,t.children,e||void 0))}function B(t){let e=!1;const n=t.keyed,r=ge(()=>t.when,void 0,{equals:(i,s)=>e?i===s:!i==!s});return ge(()=>{const i=r();if(i){const s=t.children,o=typeof s=="function"&&s.length>0;return e=n||o,o?Pe(()=>s(i)):s}return t.fallback})}function zr(t){let e=!1,n=!1;const r=Wl(()=>t.children),i=ge(()=>{let s=r();Array.isArray(s)||(s=[s]);for(let o=0;o<s.length;o++){const l=s[o].when;if(l)return n=!!s[o].keyed,[o,l,s[o]]}return[-1]},void 0,{equals:(s,o)=>s[0]===o[0]&&(e?s[1]===o[1]:!s[1]==!o[1])&&s[2]===o[2]});return ge(()=>{const[s,o,l]=i();if(s<0)return t.fallback;const a=l.children,c=typeof a=="function"&&a.length>0;return e=n||c,c?Pe(()=>a(o)):a})}function $t(t){return t}const ea=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],ta=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...ea]),na=new Set(["innerHTML","textContent","innerText","children"]),ra=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),vi=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),ia=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),sa={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function oa(t,e,n){let r=n.length,i=e.length,s=r,o=0,l=0,a=e[i-1].nextSibling,c=null;for(;o<i||l<s;){if(e[o]===n[l]){o++,l++;continue}for(;e[i-1]===n[s-1];)i--,s--;if(i===o){const u=s<r?l?n[l-1].nextSibling:n[s-l]:a;for(;l<s;)t.insertBefore(n[l++],u)}else if(s===l)for(;o<i;)(!c||!c.has(e[o]))&&e[o].remove(),o++;else if(e[o]===n[s-1]&&n[l]===e[i-1]){const u=e[--i].nextSibling;t.insertBefore(n[l++],e[o++].nextSibling),t.insertBefore(n[--s],u),e[i]=n[s]}else{if(!c){c=new Map;let m=l;for(;m<s;)c.set(n[m],m++)}const u=c.get(e[o]);if(u!=null)if(l<u&&u<s){let m=o,g=1,h;for(;++m<i&&m<s&&!((h=c.get(e[m]))==null||h!==u+g);)g++;if(g>u-l){const b=e[o];for(;l<u;)t.insertBefore(n[l++],b)}else t.replaceChild(n[l++],e[o++])}else o++;else e[o++].remove()}}}const yi="_$DX_DELEGATE";function la(t,e,n,r={}){let i;return re(s=>{i=s,e===document?t():d(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{i(),e.textContent=""}}function x(t,e,n){const r=document.createElement("template");r.innerHTML=t;let i=r.content.firstChild;return n&&(i=i.firstChild),i}function F(t,e=window.document){const n=e[yi]||(e[yi]=new Set);for(let r=0,i=t.length;r<i;r++){const s=t[r];n.has(s)||(n.add(s),e.addEventListener(s,fa))}}function G(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function aa(t,e,n,r){r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r)}function ct(t,e){e==null?t.removeAttribute("class"):t.className=e}function Mn(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const i=n[0];t.addEventListener(e,n[0]=s=>i.call(t,n[1],s))}else t.addEventListener(e,n)}function Br(t,e,n={}){const r=Object.keys(e||{}),i=Object.keys(n);let s,o;for(s=0,o=i.length;s<o;s++){const l=i[s];!l||l==="undefined"||e[l]||(_i(t,l,!1),delete n[l])}for(s=0,o=r.length;s<o;s++){const l=r[s],a=!!e[l];!l||l==="undefined"||n[l]===a||!a||(_i(t,l,!0),n[l]=a)}return n}function Vs(t,e,n){if(!e)return n?G(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let i,s;for(s in n)e[s]==null&&r.removeProperty(s),delete n[s];for(s in e)i=e[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function ca(t,e={},n,r){const i={};return r||T(()=>i.children=St(t,e.children,i.children)),T(()=>e.ref&&e.ref(t)),T(()=>ua(t,e,n,!0,i,!0)),i}function Hr(t,e,n){return Pe(()=>t(e,n))}function d(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return St(t,e,r,n);T(i=>St(t,e(),i,n),r)}function ua(t,e,n,r,i={},s=!1){e||(e={});for(const o in i)if(!(o in e)){if(o==="children")continue;i[o]=wi(t,o,null,i[o],n,s)}for(const o in e){if(o==="children"){r||St(t,e.children);continue}const l=e[o];i[o]=wi(t,o,l,i[o],n,s)}}function da(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function _i(t,e,n){const r=e.trim().split(/\s+/);for(let i=0,s=r.length;i<s;i++)t.classList.toggle(r[i],n)}function wi(t,e,n,r,i,s){let o,l,a;if(e==="style")return Vs(t,n,r);if(e==="classList")return Br(t,n,r);if(n===r)return r;if(e==="ref")s||n(t);else if(e.slice(0,3)==="on:"){const c=e.slice(3);r&&t.removeEventListener(c,r),n&&t.addEventListener(c,n)}else if(e.slice(0,10)==="oncapture:"){const c=e.slice(10);r&&t.removeEventListener(c,r,!0),n&&t.addEventListener(c,n,!0)}else if(e.slice(0,2)==="on"){const c=e.slice(2).toLowerCase(),u=ia.has(c);if(!u&&r){const m=Array.isArray(r)?r[0]:r;t.removeEventListener(c,m)}(u||n)&&(Mn(t,c,n,u),u&&F([c]))}else if((a=na.has(e))||!i&&(vi[e]||(l=ta.has(e)))||(o=t.nodeName.includes("-")))e==="class"||e==="className"?ct(t,n):o&&!l&&!a?t[da(e)]=n:t[vi[e]||e]=n;else{const c=i&&e.indexOf(":")>-1&&sa[e.split(":")[0]];c?aa(t,c,e,n):G(t,ra[e]||e,n)}return n}function fa(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}}),fe.registry&&!fe.done&&(fe.done=!0,document.querySelectorAll("[id^=pl-]").forEach(r=>r.remove()));n!==null;){const r=n[e];if(r&&!n.disabled){const i=n[`${e}Data`];if(i!==void 0?r.call(n,i,t):r.call(n,t),t.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function St(t,e,n,r,i){for(fe.context&&!n&&(n=[...t.childNodes]);typeof n=="function";)n=n();if(e===n)return n;const s=typeof e,o=r!==void 0;if(t=o&&n[0]&&n[0].parentNode||t,s==="string"||s==="number"){if(fe.context)return n;if(s==="number"&&(e=e.toString()),o){let l=n[0];l&&l.nodeType===3?l.data=e:l=document.createTextNode(e),n=pt(t,n,r,l)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||s==="boolean"){if(fe.context)return n;n=pt(t,n,r)}else{if(s==="function")return T(()=>{let l=e();for(;typeof l=="function";)l=l();n=St(t,l,n,r)}),()=>n;if(Array.isArray(e)){const l=[],a=n&&Array.isArray(n);if(vr(l,e,n,i))return T(()=>n=St(t,l,n,r,!0)),()=>n;if(fe.context){if(!l.length)return n;for(let c=0;c<l.length;c++)if(l[c].parentNode)return n=l}if(l.length===0){if(n=pt(t,n,r),o)return n}else a?n.length===0?xi(t,l,r):oa(t,n,l):(n&&pt(t),xi(t,l));n=l}else if(e instanceof Node){if(fe.context&&e.parentNode)return n=o?[e]:e;if(Array.isArray(n)){if(o)return n=pt(t,n,r,e);pt(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function vr(t,e,n,r){let i=!1;for(let s=0,o=e.length;s<o;s++){let l=e[s],a=n&&n[s];if(l instanceof Node)t.push(l);else if(!(l==null||l===!0||l===!1))if(Array.isArray(l))i=vr(t,l,a)||i;else if(typeof l=="function")if(r){for(;typeof l=="function";)l=l();i=vr(t,Array.isArray(l)?l:[l],Array.isArray(a)?a:[a])||i}else t.push(l),i=!0;else{const c=String(l);a&&a.nodeType===3&&a.data===c?t.push(a):t.push(document.createTextNode(c))}}return i}function xi(t,e,n=null){for(let r=0,i=e.length;r<i;r++)t.insertBefore(e[r],n)}function pt(t,e,n,r){if(n===void 0)return t.textContent="";const i=r||document.createTextNode("");if(e.length){let s=!1;for(let o=e.length-1;o>=0;o--){const l=e[o];if(i!==l){const a=l.parentNode===t;!s&&!o?a?t.replaceChild(i,l):t.insertBefore(i,n):a&&l.remove()}else s=!0}}else t.insertBefore(i,n);return[i]}const ha=!1;function Ws(t,e){return function(){return t.apply(e,arguments)}}const{toString:qs}=Object.prototype,{getPrototypeOf:Vr}=Object,Wr=(t=>e=>{const n=qs.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),je=t=>(t=t.toLowerCase(),e=>Wr(e)===t),Ln=t=>e=>typeof e===t,{isArray:Zt}=Array,yr=Ln("undefined");function ga(t){return t!==null&&!yr(t)&&t.constructor!==null&&!yr(t.constructor)&&Nt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Js=je("ArrayBuffer");function ma(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Js(t.buffer),e}const pa=Ln("string"),Nt=Ln("function"),Gs=Ln("number"),Ks=t=>t!==null&&typeof t=="object",ba=t=>t===!0||t===!1,mn=t=>{if(Wr(t)!=="object")return!1;const e=Vr(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},va=je("Date"),ya=je("File"),_a=je("Blob"),wa=je("FileList"),xa=t=>Ks(t)&&Nt(t.pipe),ka=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||qs.call(t)===e||Nt(t.toString)&&t.toString()===e)},$a=je("URLSearchParams"),Sa=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Un(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Zt(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function _r(){const t={},e=(n,r)=>{mn(t[r])&&mn(n)?t[r]=_r(t[r],n):mn(n)?t[r]=_r({},n):Zt(n)?t[r]=n.slice():t[r]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&Un(arguments[n],e);return t}const Ia=(t,e,n,{allOwnKeys:r}={})=>(Un(e,(i,s)=>{n&&Nt(i)?t[s]=Ws(i,n):t[s]=i},{allOwnKeys:r}),t),Ta=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ca=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Ea=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&Vr(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Na=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Aa=t=>{if(!t)return null;if(Zt(t))return t;let e=t.length;if(!Gs(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Oa=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Vr(Uint8Array)),Da=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Ra=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Pa=je("HTMLFormElement"),Ma=t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),ki=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),La=je("RegExp"),Qs=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Un(n,(i,s)=>{e(i,s,t)!==!1&&(r[s]=i)}),Object.defineProperties(t,r)},Ua=t=>{Qs(t,(e,n)=>{const r=t[n];if(!!Nt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not read-only method '"+n+"'")})}})},ja=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Zt(t)?r(t):r(String(t).split(e)),n},Fa=()=>{},za=(t,e)=>(t=+t,Number.isFinite(t)?t:e),$={isArray:Zt,isArrayBuffer:Js,isBuffer:ga,isFormData:ka,isArrayBufferView:ma,isString:pa,isNumber:Gs,isBoolean:ba,isObject:Ks,isPlainObject:mn,isUndefined:yr,isDate:va,isFile:ya,isBlob:_a,isRegExp:La,isFunction:Nt,isStream:xa,isURLSearchParams:$a,isTypedArray:Oa,isFileList:wa,forEach:Un,merge:_r,extend:Ia,trim:Sa,stripBOM:Ta,inherits:Ca,toFlatObject:Ea,kindOf:Wr,kindOfTest:je,endsWith:Na,toArray:Aa,forEachEntry:Da,matchAll:Ra,isHTMLForm:Pa,hasOwnProperty:ki,hasOwnProp:ki,reduceDescriptors:Qs,freezeMethods:Ua,toObjectSet:ja,toCamelCase:Ma,noop:Fa,toFiniteNumber:za};function X(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}$.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Xs=X.prototype,Ys={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ys[t]={value:t}});Object.defineProperties(X,Ys);Object.defineProperty(Xs,"isAxiosError",{value:!0});X.from=(t,e,n,r,i,s)=>{const o=Object.create(Xs);return $.toFlatObject(t,o,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),X.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};var Ba=typeof self=="object"?self.FormData:window.FormData;function wr(t){return $.isPlainObject(t)||$.isArray(t)}function Zs(t){return $.endsWith(t,"[]")?t.slice(0,-2):t}function $i(t,e,n){return t?t.concat(e).map(function(i,s){return i=Zs(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function Ha(t){return $.isArray(t)&&!t.some(wr)}const Va=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function Wa(t){return t&&$.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function jn(t,e,n){if(!$.isObject(t))throw new TypeError("target must be an object");e=e||new(Ba||FormData),n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,p){return!$.isUndefined(p[y])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&Wa(e);if(!$.isFunction(i))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if($.isDate(b))return b.toISOString();if(!a&&$.isBlob(b))throw new X("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(b)||$.isTypedArray(b)?a&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function u(b,y,p){let v=b;if(b&&!p&&typeof b=="object"){if($.endsWith(y,"{}"))y=r?y:y.slice(0,-2),b=JSON.stringify(b);else if($.isArray(b)&&Ha(b)||$.isFileList(b)||$.endsWith(y,"[]")&&(v=$.toArray(b)))return y=Zs(y),v.forEach(function(w,I){!($.isUndefined(w)||w===null)&&e.append(o===!0?$i([y],I,s):o===null?y:y+"[]",c(w))}),!1}return wr(b)?!0:(e.append($i(p,y,s),c(b)),!1)}const m=[],g=Object.assign(Va,{defaultVisitor:u,convertValue:c,isVisitable:wr});function h(b,y){if(!$.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+y.join("."));m.push(b),$.forEach(b,function(v,_){(!($.isUndefined(v)||v===null)&&i.call(e,v,$.isString(_)?_.trim():_,y,g))===!0&&h(v,y?y.concat(_):[_])}),m.pop()}}if(!$.isObject(t))throw new TypeError("data must be an object");return h(t),e}function Si(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function qr(t,e){this._pairs=[],t&&jn(t,this,e)}const eo=qr.prototype;eo.append=function(e,n){this._pairs.push([e,n])};eo.toString=function(e){const n=e?function(r){return e.call(this,r,Si)}:Si;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function qa(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function to(t,e,n){if(!e)return t;const r=n&&n.encode||qa,i=n&&n.serialize;let s;if(i?s=i(e,n):s=$.isURLSearchParams(e)?e.toString():new qr(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Ii{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(r){r!==null&&e(r)})}}const no={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ja=typeof URLSearchParams<"u"?URLSearchParams:qr,Ga=FormData,Ka=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Oe={isBrowser:!0,classes:{URLSearchParams:Ja,FormData:Ga,Blob},isStandardBrowserEnv:Ka,protocols:["http","https","file","blob","url","data"]};function Qa(t,e){return jn(t,new Oe.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Oe.isNode&&$.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Xa(t){return $.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ya(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function ro(t){function e(n,r,i,s){let o=n[s++];const l=Number.isFinite(+o),a=s>=n.length;return o=!o&&$.isArray(i)?i.length:o,a?($.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!$.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&$.isArray(i[o])&&(i[o]=Ya(i[o])),!l)}if($.isFormData(t)&&$.isFunction(t.entries)){const n={};return $.forEachEntry(t,(r,i)=>{e(Xa(r),i,n,0)}),n}return null}function Za(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new X("Request failed with status code "+n.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const ec=Oe.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,l){const a=[];a.push(n+"="+encodeURIComponent(r)),$.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),$.isString(s)&&a.push("path="+s),$.isString(o)&&a.push("domain="+o),l===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function tc(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function nc(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function io(t,e){return t&&!tc(e)?nc(t,e):e}const rc=Oe.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const l=$.isString(o)?i(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function en(t,e,n){X.call(this,t??"canceled",X.ERR_CANCELED,e,n),this.name="CanceledError"}$.inherits(en,X,{__CANCEL__:!0});function ic(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}const sc=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oc=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&sc[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Ti=Symbol("internals"),so=Symbol("defaults");function Ut(t){return t&&String(t).trim().toLowerCase()}function pn(t){return t===!1||t==null?t:$.isArray(t)?t.map(pn):String(t)}function lc(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}function Ci(t,e,n,r){if($.isFunction(r))return r.call(this,e,n);if(!!$.isString(e)){if($.isString(r))return e.indexOf(r)!==-1;if($.isRegExp(r))return r.test(e)}}function ac(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function cc(t,e){const n=$.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}function Lt(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}function _e(t,e){t&&this.set(t),this[so]=e||null}Object.assign(_e.prototype,{set:function(t,e,n){const r=this;function i(s,o,l){const a=Ut(o);if(!a)throw new Error("header name must be a non-empty string");const c=Lt(r,a);c&&l!==!0&&(r[c]===!1||l===!1)||(r[c||o]=pn(s))}return $.isPlainObject(t)?$.forEach(t,(s,o)=>{i(s,o,e)}):i(e,t,n),this},get:function(t,e){if(t=Ut(t),!t)return;const n=Lt(this,t);if(n){const r=this[n];if(!e)return r;if(e===!0)return lc(r);if($.isFunction(e))return e.call(this,r,n);if($.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}},has:function(t,e){if(t=Ut(t),t){const n=Lt(this,t);return!!(n&&(!e||Ci(this,this[n],n,e)))}return!1},delete:function(t,e){const n=this;let r=!1;function i(s){if(s=Ut(s),s){const o=Lt(n,s);o&&(!e||Ci(n,n[o],o,e))&&(delete n[o],r=!0)}}return $.isArray(t)?t.forEach(i):i(t),r},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(t){const e=this,n={};return $.forEach(this,(r,i)=>{const s=Lt(n,i);if(s){e[s]=pn(r),delete e[i];return}const o=t?ac(i):String(i).trim();o!==i&&delete e[i],e[o]=pn(r),n[o]=!0}),this},toJSON:function(t){const e=Object.create(null);return $.forEach(Object.assign({},this[so]||null,this),(n,r)=>{n==null||n===!1||(e[r]=t&&$.isArray(n)?n.join(", "):n)}),e}});Object.assign(_e,{from:function(t){return $.isString(t)?new this(oc(t)):t instanceof this?t:new this(t)},accessor:function(t){const n=(this[Ti]=this[Ti]={accessors:{}}).accessors,r=this.prototype;function i(s){const o=Ut(s);n[o]||(cc(r,s),n[o]=!0)}return $.isArray(t)?t.forEach(i):i(t),this}});_e.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);$.freezeMethods(_e.prototype);$.freezeMethods(_e);function uc(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(a){const c=Date.now(),u=r[s];o||(o=c),n[i]=a,r[i]=c;let m=s,g=0;for(;m!==i;)g+=n[m++],m=m%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const h=u&&c-u;return h?Math.round(g*1e3/h):void 0}}function Ei(t,e){let n=0;const r=uc(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,l=s-n,a=r(l),c=s<=o;n=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:a||void 0,estimated:a&&o&&c?(o-s)/a:void 0};u[e?"download":"upload"]=!0,t(u)}}function Ni(t){return new Promise(function(n,r){let i=t.data;const s=_e.from(t.headers).normalize(),o=t.responseType;let l;function a(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}$.isFormData(i)&&Oe.isStandardBrowserEnv&&s.setContentType(!1);let c=new XMLHttpRequest;if(t.auth){const h=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(h+":"+b))}const u=io(t.baseURL,t.url);c.open(t.method.toUpperCase(),to(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function m(){if(!c)return;const h=_e.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),y={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:h,config:t,request:c};Za(function(v){n(v),a()},function(v){r(v),a()},y),c=null}if("onloadend"in c?c.onloadend=m:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(m)},c.onabort=function(){!c||(r(new X("Request aborted",X.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new X("Network Error",X.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let b=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const y=t.transitional||no;t.timeoutErrorMessage&&(b=t.timeoutErrorMessage),r(new X(b,y.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,t,c)),c=null},Oe.isStandardBrowserEnv){const h=(t.withCredentials||rc(u))&&t.xsrfCookieName&&ec.read(t.xsrfCookieName);h&&s.set(t.xsrfHeaderName,h)}i===void 0&&s.setContentType(null),"setRequestHeader"in c&&$.forEach(s.toJSON(),function(b,y){c.setRequestHeader(y,b)}),$.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",Ei(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Ei(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=h=>{!c||(r(!h||h.type?new en(null,t,c):h),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const g=ic(u);if(g&&Oe.protocols.indexOf(g)===-1){r(new X("Unsupported protocol "+g+":",X.ERR_BAD_REQUEST,t));return}c.send(i||null)})}const Ai={http:Ni,xhr:Ni},Oi={getAdapter:t=>{if($.isString(t)){const e=Ai[t];if(!t)throw Error($.hasOwnProp(t)?`Adapter '${t}' is not available in the build`:`Can not resolve adapter '${t}'`);return e}if(!$.isFunction(t))throw new TypeError("adapter is not a function");return t},adapters:Ai},dc={"Content-Type":"application/x-www-form-urlencoded"};function fc(){let t;return typeof XMLHttpRequest<"u"?t=Oi.getAdapter("xhr"):typeof process<"u"&&$.kindOf(process)==="process"&&(t=Oi.getAdapter("http")),t}function hc(t,e,n){if($.isString(t))try{return(e||JSON.parse)(t),$.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const At={transitional:no,adapter:fc(),transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=$.isObject(e);if(s&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return i&&i?JSON.stringify(ro(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Qa(e,this.formSerializer).toString();if((l=$.isFileList(e))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return jn(l?{"files[]":e}:e,a&&new a,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),hc(e)):e}],transformResponse:[function(e){const n=this.transitional||At.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&$.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?X.from(l,X.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Oe.classes.FormData,Blob:Oe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};$.forEach(["delete","get","head"],function(e){At.headers[e]={}});$.forEach(["post","put","patch"],function(e){At.headers[e]=$.merge(dc)});function nr(t,e){const n=this||At,r=e||n,i=_e.from(r.headers);let s=r.data;return $.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function oo(t){return!!(t&&t.__CANCEL__)}function rr(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new en}function Di(t){return rr(t),t.headers=_e.from(t.headers),t.data=nr.call(t,t.transformRequest),(t.adapter||At.adapter)(t).then(function(r){return rr(t),r.data=nr.call(t,t.transformResponse,r),r.headers=_e.from(r.headers),r},function(r){return oo(r)||(rr(t),r&&r.response&&(r.response.data=nr.call(t,t.transformResponse,r.response),r.response.headers=_e.from(r.response.headers))),Promise.reject(r)})}function Vt(t,e){e=e||{};const n={};function r(c,u){return $.isPlainObject(c)&&$.isPlainObject(u)?$.merge(c,u):$.isPlainObject(u)?$.merge({},u):$.isArray(u)?u.slice():u}function i(c){if($.isUndefined(e[c])){if(!$.isUndefined(t[c]))return r(void 0,t[c])}else return r(t[c],e[c])}function s(c){if(!$.isUndefined(e[c]))return r(void 0,e[c])}function o(c){if($.isUndefined(e[c])){if(!$.isUndefined(t[c]))return r(void 0,t[c])}else return r(void 0,e[c])}function l(c){if(c in e)return r(t[c],e[c]);if(c in t)return r(void 0,t[c])}const a={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l};return $.forEach(Object.keys(t).concat(Object.keys(e)),function(u){const m=a[u]||i,g=m(u);$.isUndefined(g)&&m!==l||(n[u]=g)}),n}const lo="1.1.3",Jr={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Jr[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Ri={};Jr.transitional=function(e,n,r){function i(s,o){return"[Axios v"+lo+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new X(i(o," has been removed"+(n?" in "+n:"")),X.ERR_DEPRECATED);return n&&!Ri[o]&&(Ri[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};function gc(t,e,n){if(typeof t!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],a=l===void 0||o(l,s,t);if(a!==!0)throw new X("option "+s+" must be "+a,X.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new X("Unknown option "+s,X.ERR_BAD_OPTION)}}const xr={assertOptions:gc,validators:Jr},He=xr.validators;class lt{constructor(e){this.defaults=e,this.interceptors={request:new Ii,response:new Ii}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Vt(this.defaults,n);const{transitional:r,paramsSerializer:i}=n;r!==void 0&&xr.assertOptions(r,{silentJSONParsing:He.transitional(He.boolean),forcedJSONParsing:He.transitional(He.boolean),clarifyTimeoutError:He.transitional(He.boolean)},!1),i!==void 0&&xr.assertOptions(i,{encode:He.function,serialize:He.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();const s=n.headers&&$.merge(n.headers.common,n.headers[n.method]);s&&$.forEach(["delete","get","head","post","put","patch","common"],function(b){delete n.headers[b]}),n.headers=new _e(n.headers,s);const o=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const a=[];this.interceptors.response.forEach(function(b){a.push(b.fulfilled,b.rejected)});let c,u=0,m;if(!l){const h=[Di.bind(this),void 0];for(h.unshift.apply(h,o),h.push.apply(h,a),m=h.length,c=Promise.resolve(n);u<m;)c=c.then(h[u++],h[u++]);return c}m=o.length;let g=n;for(u=0;u<m;){const h=o[u++],b=o[u++];try{g=h(g)}catch(y){b.call(this,y);break}}try{c=Di.call(this,g)}catch(h){return Promise.reject(h)}for(u=0,m=a.length;u<m;)c=c.then(a[u++],a[u++]);return c}getUri(e){e=Vt(this.defaults,e);const n=io(e.baseURL,e.url);return to(n,e.params,e.paramsSerializer)}}$.forEach(["delete","get","head","options"],function(e){lt.prototype[e]=function(n,r){return this.request(Vt(r||{},{method:e,url:n,data:(r||{}).data}))}});$.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(Vt(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}lt.prototype[e]=n(),lt.prototype[e+"Form"]=n(!0)});class Gr{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new en(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Gr(function(i){e=i}),cancel:e}}}function mc(t){return function(n){return t.apply(null,n)}}function pc(t){return $.isObject(t)&&t.isAxiosError===!0}function ao(t){const e=new lt(t),n=Ws(lt.prototype.request,e);return $.extend(n,lt.prototype,e,{allOwnKeys:!0}),$.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return ao(Vt(t,i))},n}const V=ao(At);V.Axios=lt;V.CanceledError=en;V.CancelToken=Gr;V.isCancel=oo;V.VERSION=lo;V.toFormData=jn;V.AxiosError=X;V.Cancel=V.CanceledError;V.all=function(e){return Promise.all(e)};V.spread=mc;V.isAxiosError=pc;V.formToJSON=t=>ro($.isHTMLForm(t)?new FormData(t):t);const Pi="http://0.0.0.0:3000",bc="http://0.0.0.0:8080",co="/ws",vc="ws://0.0.0.0:8080"+co,Mi=window.location.origin,Li=window.location.protocol,yc=window.location.host;let kr;Li=="http:"?kr="ws://":Li=="https:"&&(kr="wss://");function _c(){let t,e;Mi==Pi?(t=bc,e=vc):(t="",e=kr+yc+co);const n=Mi==Pi;return{serverUrl:t,withCredentials:n,wsUrl:e}}const Q=re(_c);function wc(){const[t,e]=k(null),[n,r]=k(null),[i,s]=k(!0),[o,l]=k(!0),[a,c]=k(""),[u,m]=k("");function g(){h(),b()}function h(){if(!t()||t().length==0){c("Please enter an email."),s(!0);return}let y=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9]+)+$/;if(!t().match(y)){c("Email is invalid."),s(!0);return}c(""),s(!1)}function b(){if(!n()||n().length==0){m("Please enter a password."),l(!0);return}let y=/^[a-zA-Z0-9.!?#$%&^_@*]+$/;if(!n().match(y)){m("Password is invalid (a-z, A-Z, 0-9, .!?#$%&^_@* allowed)."),l(!0);return}return m(""),l(!1),!0}return{email:t,setEmail:e,password:n,setPassword:r,errorInEmail:i,setErrorInEmail:s,errorInPassword:o,setErrorInPassword:l,checkEmailAndPassword:g,emailErrorMsg:a,passwordErrorMsg:u}}const ht=re(wc),xc=x("<div><span></span><br></div>");function kc(){const[t,e]=k(!1),[n,r]=k(""),[i,s]=k(""),[o,l]=k(!0);function a(){const c=i().split(`
`);return f(oe,{each:c,children:u=>(()=>{const m=xc.cloneNode(!0),g=m.firstChild;return d(g,u),m})()})}return{showErrorDialog:t,setShowErrorDialog:e,errorDialogTitle:n,setErrorDialogTitle:r,errorDialogText:i,setErrorDialogText:s,getErrorText:a,showDismiss:o,setShowDismiss:l}}const tn=re(kc);function $c(){const[t,e]=k(!1);return{systemSetupNeeded:t,setSystemSetupNeeded:e}}const Fn=re($c),{setShowErrorDialog:Sc,setErrorDialogTitle:Ic,setErrorDialogText:ir}=tn,{setSystemSetupNeeded:Tc}=Fn;function Z(t){if(console.error(t),Ic("Error"),t.response!=null){if(t.response.status==404)ir("Resource not found");else if(t.response.status==403)ir("You are not authorized for "+t.request.responseURL);else if(t.response.statusText=="SYSTEM_SETUP_NEEDED"){Tc(!0);return}else{let e="";t.response.data.msg?e=t.response.data.msg:t.response.data&&(e=t.response.data),ir(e+`

Please contact the system admin if help is needed.`)}Sc(!0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Cc=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},fo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,u=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|c>>6,h=c&63;a||(h=64,o||(g=64)),r.push(n[u],n[m],n[g],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uo(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Cc(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||m==null)throw Error();const g=s<<2|l>>4;if(r.push(g),c!==64){const h=l<<4&240|c>>2;if(r.push(h),m!==64){const b=c<<6&192|m;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ec=function(t){const e=uo(t);return fo.encodeByteArray(e,!0)},ho=function(t){return Ec(t).replace(/\./g,"")},go=function(t){try{return fo.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ce())}function Ac(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Oc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dc(){const t=ce();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Rc(){return typeof indexedDB=="object"}function Pc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function Mc(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=()=>Mc().__FIREBASE_DEFAULTS__,Uc=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jc=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&go(t[1]);return e&&JSON.parse(e)},Kr=()=>{try{return Lc()||Uc()||jc()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Fc=t=>{var e,n;return(n=(e=Kr())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zc=()=>{var t;return(t=Kr())===null||t===void 0?void 0:t.config},mo=t=>{var e;return(e=Kr())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc="FirebaseError";class et extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Hc,Object.setPrototypeOf(this,et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nn.prototype.create)}}class nn{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Vc(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new et(i,l,r)}}function Vc(t,e){return t.replace(Wc,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Wc=/\{\$([^}]+)}/g;function qc(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tn(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Ui(s)&&Ui(o)){if(!Tn(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ui(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jt(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ft(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Jc(t,e){const n=new Gc(t,e);return n.subscribe.bind(n)}class Gc{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Kc(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=sr),i.error===void 0&&(i.error=sr),i.complete===void 0&&(i.complete=sr);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kc(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sr(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t){return t&&t._delegate?t._delegate:t}class It{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Bc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yc(e))try{this.getOrInitializeService({instanceIdentifier:st})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=st){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=st){return this.instances.has(e)}getOptions(e=st){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Xc(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=st){return this.component?this.component.multipleInstances?e:st:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xc(t){return t===st?void 0:t}function Yc(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Qc(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const eu={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},tu=te.INFO,nu={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},ru=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=nu[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class po{constructor(e){this.name=e,this._logLevel=tu,this._logHandler=ru,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eu[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const iu=(t,e)=>e.some(n=>t instanceof n);let ji,Fi;function su(){return ji||(ji=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ou(){return Fi||(Fi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bo=new WeakMap,$r=new WeakMap,vo=new WeakMap,or=new WeakMap,Qr=new WeakMap;function lu(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Qe(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bo.set(n,t)}).catch(()=>{}),Qr.set(e,t),e}function au(t){if($r.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$r.set(t,e)}let Sr={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $r.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vo.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qe(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cu(t){Sr=t(Sr)}function uu(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lr(this),e,...n);return vo.set(r,e.sort?e.sort():[e]),Qe(r)}:ou().includes(t)?function(...e){return t.apply(lr(this),e),Qe(bo.get(this))}:function(...e){return Qe(t.apply(lr(this),e))}}function du(t){return typeof t=="function"?uu(t):(t instanceof IDBTransaction&&au(t),iu(t,su())?new Proxy(t,Sr):t)}function Qe(t){if(t instanceof IDBRequest)return lu(t);if(or.has(t))return or.get(t);const e=du(t);return e!==t&&(or.set(t,e),Qr.set(e,t)),e}const lr=t=>Qr.get(t);function fu(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Qe(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Qe(o.result),a.oldVersion,a.newVersion,Qe(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}const hu=["get","getKey","getAll","getAllKeys","count"],gu=["put","add","delete","clear"],ar=new Map;function zi(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ar.get(e))return ar.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gu.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hu.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&a.done]))[0]};return ar.set(e,s),s}cu(t=>({...t,get:(e,n,r)=>zi(e,n)||t.get(e,n,r),has:(e,n)=>!!zi(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pu(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pu(t){const e=t.getComponent();return e?.type==="VERSION"}const Ir="@firebase/app",Bi="0.8.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut=new po("@firebase/app"),bu="@firebase/app-compat",vu="@firebase/analytics-compat",yu="@firebase/analytics",_u="@firebase/app-check-compat",wu="@firebase/app-check",xu="@firebase/auth",ku="@firebase/auth-compat",$u="@firebase/database",Su="@firebase/database-compat",Iu="@firebase/functions",Tu="@firebase/functions-compat",Cu="@firebase/installations",Eu="@firebase/installations-compat",Nu="@firebase/messaging",Au="@firebase/messaging-compat",Ou="@firebase/performance",Du="@firebase/performance-compat",Ru="@firebase/remote-config",Pu="@firebase/remote-config-compat",Mu="@firebase/storage",Lu="@firebase/storage-compat",Uu="@firebase/firestore",ju="@firebase/firestore-compat",Fu="firebase",zu="9.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="[DEFAULT]",Bu={[Ir]:"fire-core",[bu]:"fire-core-compat",[yu]:"fire-analytics",[vu]:"fire-analytics-compat",[wu]:"fire-app-check",[_u]:"fire-app-check-compat",[xu]:"fire-auth",[ku]:"fire-auth-compat",[$u]:"fire-rtdb",[Su]:"fire-rtdb-compat",[Iu]:"fire-fn",[Tu]:"fire-fn-compat",[Cu]:"fire-iid",[Eu]:"fire-iid-compat",[Nu]:"fire-fcm",[Au]:"fire-fcm-compat",[Ou]:"fire-perf",[Du]:"fire-perf-compat",[Ru]:"fire-rc",[Pu]:"fire-rc-compat",[Mu]:"fire-gcs",[Lu]:"fire-gcs-compat",[Uu]:"fire-fst",[ju]:"fire-fst-compat","fire-js":"fire-js",[Fu]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn=new Map,Cr=new Map;function Hu(t,e){try{t.container.addComponent(e)}catch(n){ut.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wt(t){const e=t.name;if(Cr.has(e))return ut.debug(`There were multiple attempts to register component ${e}.`),!1;Cr.set(e,t);for(const n of Cn.values())Hu(n,t);return!0}function yo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Xe=new nn("app","Firebase",Vu);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new It("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xe.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=zu;function _o(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tr,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xe.create("bad-app-name",{appName:String(i)});if(n||(n=zc()),!n)throw Xe.create("no-options");const s=Cn.get(i);if(s){if(Tn(n,s.options)&&Tn(r,s.config))return s;throw Xe.create("duplicate-app",{appName:i})}const o=new Zc(i);for(const a of Cr.values())o.addComponent(a);const l=new Wu(n,r,o);return Cn.set(i,l),l}function qu(t=Tr){const e=Cn.get(t);if(!e&&t===Tr)return _o();if(!e)throw Xe.create("no-app",{appName:t});return e}function _t(t,e,n){var r;let i=(r=Bu[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ut.warn(l.join(" "));return}Wt(new It(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="firebase-heartbeat-database",Gu=1,qt="firebase-heartbeat-store";let cr=null;function wo(){return cr||(cr=fu(Ju,Gu,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(qt)}}}).catch(t=>{throw Xe.create("idb-open",{originalErrorMessage:t.message})})),cr}async function Ku(t){var e;try{return(await wo()).transaction(qt).objectStore(qt).get(xo(t))}catch(n){if(n instanceof et)ut.warn(n.message);else{const r=Xe.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});ut.warn(r.message)}}}async function Hi(t,e){var n;try{const i=(await wo()).transaction(qt,"readwrite");return await i.objectStore(qt).put(e,xo(t)),i.done}catch(r){if(r instanceof et)ut.warn(r.message);else{const i=Xe.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});ut.warn(i.message)}}}function xo(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=1024,Xu=30*24*60*60*1e3;class Yu{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ed(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Vi();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Xu}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Vi(),{heartbeatsToSend:n,unsentEntries:r}=Zu(this._heartbeatsCache.heartbeats),i=ho(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Vi(){return new Date().toISOString().substring(0,10)}function Zu(t,e=Qu){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Wi(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Wi(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ed{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rc()?Pc().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Ku(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hi(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hi(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Wi(t){return ho(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t){Wt(new It("platform-logger",e=>new mu(e),"PRIVATE")),Wt(new It("heartbeat",e=>new Yu(e),"PRIVATE")),_t(Ir,Bi,t),_t(Ir,Bi,"esm2017"),_t("fire-js","")}td("");function Xr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ko(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nd=ko,$o=new nn("auth","Firebase",ko());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new po("@firebase/auth");function bn(t,...e){qi.logLevel<=te.ERROR&&qi.error(`Auth (${zn}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,...e){throw Yr(t,...e)}function Ie(t,...e){return Yr(t,...e)}function rd(t,e,n){const r=Object.assign(Object.assign({},nd()),{[e]:n});return new nn("auth","Firebase",r).create(e,{appName:t.name})}function Yr(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $o.create(t,...e)}function M(t,e,...n){if(!t)throw Yr(e,...n)}function Ee(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bn(e),new Error(e)}function Me(t,e){t||Ee(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Map;function Ne(t){Me(t instanceof Function,"Expected a class definition");let e=Ji.get(t);return e?(Me(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ji.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t,e){const n=yo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Tn(s,e??{}))return i;xe(i,"already-initialized")}return n.initialize({options:e})}function sd(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ne);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function od(){return Gi()==="http:"||Gi()==="https:"}function Gi(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(od()||Ac()||"connection"in navigator)?navigator.onLine:!0}function ad(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n){this.shortDelay=e,this.longDelay=n,Me(n>e,"Short delay should be less than long delay!"),this.isMobile=Nc()||Oc()}get(){return ld()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t,e){Me(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Ee("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Ee("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Ee("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new sn(3e4,6e4);function on(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ot(t,e,n,r,i={}){return Io(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=rn(Object.assign({key:t.config.apiKey},o)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),So.fetch()(To(t,t.config.apiHost,n,l),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},s))})}async function Io(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},cd),e);try{const i=new dd(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw dn(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[a,c]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw dn(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw dn(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw dn(t,"user-disabled",o);const u=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw rd(t,u,c);xe(t,u)}}catch(i){if(i instanceof et)throw i;xe(t,"network-request-failed")}}async function Bn(t,e,n,r,i={}){const s=await Ot(t,e,n,r,i);return"mfaPendingCredential"in s&&xe(t,"multi-factor-auth-required",{_serverResponse:s}),s}function To(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Zr(t.config,i):`${t.config.apiScheme}://${i}`}class dd{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ie(this.auth,"network-request-failed")),ud.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dn(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ie(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fd(t,e){return Ot(t,"POST","/v1/accounts:delete",e)}async function hd(t,e){return Ot(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gd(t,e=!1){const n=ke(t),r=await n.getIdToken(e),i=ei(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ht(ur(i.auth_time)),issuedAtTime:Ht(ur(i.iat)),expirationTime:Ht(ur(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function ur(t){return Number(t)*1e3}function ei(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return bn("JWT malformed, contained fewer than 3 sections"),null;try{const s=go(r);return s?JSON.parse(s):(bn("Failed to decode base64 JWT payload"),null)}catch(s){return bn("Caught error parsing JWT payload as JSON",(e=s)===null||e===void 0?void 0:e.toString()),null}}function md(t){const e=ei(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jt(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof et&&pd(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pd({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ht(this.lastLoginAt),this.creationTime=Ht(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function En(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Jt(t,hd(n,{idToken:r}));M(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?_d(s.providerUserInfo):[],l=yd(t.providerData,o),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!l?.length,u=a?c:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Co(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,m)}async function vd(t){const e=ke(t);await En(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yd(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _d(t){return t.map(e=>{var{providerId:n}=e,r=Xr(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wd(t,e){const n=await Io(t,{},async()=>{const r=rn({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=To(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",So.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):md(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return M(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await wd(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Gt;return r&&(M(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(M(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(M(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gt,this.toJSON())}_performRefresh(){return Ee("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e){M(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class at{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Xr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bd(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Co(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Jt(this,this.stsTokenManager.getToken(this.auth,e));return M(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gd(this,e)}reload(){return vd(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new at(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await En(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Jt(this,fd(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,a,c,u;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,p=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:I,isAnonymous:N,providerData:E,stsTokenManager:A}=n;M(w&&A,e,"internal-error");const S=Gt.fromJSON(this.name,A);M(typeof w=="string",e,"internal-error"),Ve(m,e.name),Ve(g,e.name),M(typeof I=="boolean",e,"internal-error"),M(typeof N=="boolean",e,"internal-error"),Ve(h,e.name),Ve(b,e.name),Ve(y,e.name),Ve(p,e.name),Ve(v,e.name),Ve(_,e.name);const C=new at({uid:w,auth:e,email:g,emailVerified:I,displayName:m,isAnonymous:N,photoURL:b,phoneNumber:h,tenantId:y,stsTokenManager:S,createdAt:v,lastLoginAt:_});return E&&Array.isArray(E)&&(C.providerData=E.map(O=>Object.assign({},O))),p&&(C._redirectEventId=p),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Gt;i.updateFromServerResponse(n);const s=new at({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await En(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Eo.type="NONE";const Ki=Eo;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t,e,n){return`firebase:${t}:${e}:${n}`}class wt{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=vn(this.userKey,i.apiKey,s),this.fullPersistenceKey=vn("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?at._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wt(Ne(Ki),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ne(Ki);const o=vn(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const u=await c._get(o);if(u){const m=at._fromJSON(e,u);c!==s&&(l=m),s=c;break}}catch{}const a=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new wt(s,e,r):(s=a[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new wt(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Oo(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(No(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ro(e))return"Blackberry";if(Po(e))return"Webos";if(ti(e))return"Safari";if((e.includes("chrome/")||Ao(e))&&!e.includes("edge/"))return"Chrome";if(Do(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function No(t=ce()){return/firefox\//i.test(t)}function ti(t=ce()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ao(t=ce()){return/crios\//i.test(t)}function Oo(t=ce()){return/iemobile/i.test(t)}function Do(t=ce()){return/android/i.test(t)}function Ro(t=ce()){return/blackberry/i.test(t)}function Po(t=ce()){return/webos/i.test(t)}function Hn(t=ce()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xd(t=ce()){var e;return Hn(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kd(){return Dc()&&document.documentMode===10}function Mo(t=ce()){return Hn(t)||Do(t)||Po(t)||Ro(t)||/windows phone/i.test(t)||Oo(t)}function $d(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t,e=[]){let n;switch(t){case"Browser":n=Qi(ce());break;case"Worker":n=`${Qi(ce())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zn}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const a=e(s);o(a)}catch(a){l(a)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xi(this),this.idTokenSubscription=new Xi(this),this.beforeStateQueue=new Sd(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$o,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ne(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await wt.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i?._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===l)&&a?.user&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return M(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await En(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ad()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ke(e):null;return n&&M(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&M(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ne(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ne(e)||this._popupRedirectResolver;M(n,this,"argument-error"),this.redirectPersistenceManager=await wt.create(this,[Ne(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Vn(t){return ke(t)}class Xi{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jc(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Td(t,e,n){const r=Vn(t);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=Uo(e),{host:o,port:l}=Cd(e),a=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Ed()}function Uo(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cd(t){const e=Uo(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Yi(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Yi(o)}}}function Yi(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ed(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ee("not implemented")}_getIdTokenResponse(e){return Ee("not implemented")}_linkToIdToken(e,n){return Ee("not implemented")}_getReauthenticationResolver(e){return Ee("not implemented")}}async function Nd(t,e){return Ot(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(t,e){return Bn(t,"POST","/v1/accounts:signInWithPassword",on(t,e))}async function jo(t,e){return Ot(t,"POST","/v1/accounts:sendOobCode",on(t,e))}async function Od(t,e){return jo(t,e)}async function Dd(t,e){return jo(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rd(t,e){return Bn(t,"POST","/v1/accounts:signInWithEmailLink",on(t,e))}async function Pd(t,e){return Bn(t,"POST","/v1/accounts:signInWithEmailLink",on(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt extends ni{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Kt(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kt(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ad(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Rd(e,{email:this._email,oobCode:this._password});default:xe(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Nd(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Pd(e,{idToken:n,email:this._email,oobCode:this._password});default:xe(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xt(t,e){return Bn(t,"POST","/v1/accounts:signInWithIdp",on(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="http://localhost";class dt extends ni{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new dt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xe("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Xr(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new dt(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xt(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xt(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xt(e,n)}buildRequest(){const e={requestUri:Md,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=rn(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ud(t){const e=jt(Ft(t)).link,n=e?jt(Ft(e)).deep_link_id:null,r=jt(Ft(t)).deep_link_id;return(r?jt(Ft(r)).link:null)||r||n||e||t}class ri{constructor(e){var n,r,i,s,o,l;const a=jt(Ft(e)),c=(n=a.apiKey)!==null&&n!==void 0?n:null,u=(r=a.oobCode)!==null&&r!==void 0?r:null,m=Ld((i=a.mode)!==null&&i!==void 0?i:null);M(c&&u&&m,"argument-error"),this.apiKey=c,this.operation=m,this.code=u,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=a.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Ud(e);try{return new ri(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(){this.providerId=Dt.PROVIDER_ID}static credential(e,n){return Kt._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ri.parseLink(n);return M(r,"argument-error"),Kt._fromEmailAndCode(e,r.code,r.tenantId)}}Dt.PROVIDER_ID="password";Dt.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln extends Fo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe extends ln{constructor(){super("facebook.com")}static credential(e){return dt._fromParams({providerId:qe.PROVIDER_ID,signInMethod:qe.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qe.credentialFromTaggedObject(e)}static credentialFromError(e){return qe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qe.credential(e.oauthAccessToken)}catch{return null}}}qe.FACEBOOK_SIGN_IN_METHOD="facebook.com";qe.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je extends ln{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return dt._fromParams({providerId:Je.PROVIDER_ID,signInMethod:Je.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Je.credentialFromTaggedObject(e)}static credentialFromError(e){return Je.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Je.credential(n,r)}catch{return null}}}Je.GOOGLE_SIGN_IN_METHOD="google.com";Je.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge extends ln{constructor(){super("github.com")}static credential(e){return dt._fromParams({providerId:Ge.PROVIDER_ID,signInMethod:Ge.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ge.credentialFromTaggedObject(e)}static credentialFromError(e){return Ge.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ge.credential(e.oauthAccessToken)}catch{return null}}}Ge.GITHUB_SIGN_IN_METHOD="github.com";Ge.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke extends ln{constructor(){super("twitter.com")}static credential(e,n){return dt._fromParams({providerId:Ke.PROVIDER_ID,signInMethod:Ke.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ke.credentialFromTaggedObject(e)}static credentialFromError(e){return Ke.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ke.credential(n,r)}catch{return null}}}Ke.TWITTER_SIGN_IN_METHOD="twitter.com";Ke.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await at._fromIdTokenResponse(e,r,i),o=Zi(r);return new Tt({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Zi(r);return new Tt({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Zi(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn extends et{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nn.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Nn(e,n,r,i)}}function zo(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Nn._fromErrorAndOperation(t,s,e,r):s})}async function jd(t,e,n=!1){const r=await Jt(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Tt._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=await Jt(t,zo(i,s,e,t),n);M(o.idToken,i,"internal-error");const l=ei(o.idToken);M(l,i,"internal-error");const{sub:a}=l;return M(t.uid===a,i,"user-mismatch"),Tt._forOperation(t,s,o)}catch(o){throw((r=o)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&xe(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(t,e,n=!1){const r="signIn",i=await zo(t,r,e),s=await Tt._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function zd(t,e){return Bo(Vn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t,e,n){var r;M(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),M(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(M(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(M(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(t,e,n){const r=ke(t),i={requestType:"PASSWORD_RESET",email:e};n&&Ho(r,i,n),await Od(r,i)}function Hd(t,e,n){return zd(ke(t),Dt.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vd(t,e,n){const r=ke(t),i={requestType:"EMAIL_SIGNIN",email:e};M(n.handleCodeInApp,r,"argument-error"),n&&Ho(r,i,n),await Dd(r,i)}function Wd(t,e,n,r){return ke(t).onIdTokenChanged(e,n,r)}function qd(t,e,n){return ke(t).beforeAuthStateChanged(e,n)}function Jd(t,e,n,r){return ke(t).onAuthStateChanged(e,n,r)}function Vo(t){return ke(t).signOut()}const An="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(An,"1"),this.storage.removeItem(An),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(){const t=ce();return ti(t)||Hn(t)}const Kd=1e3,Qd=10;class qo extends Wo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Gd()&&$d(),this.fallbackToPolling=Mo(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,a)=>{this.notifyListeners(o,a)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);kd()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Qd):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Kd)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qo.type="LOCAL";const Xd=qo;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends Wo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Jo.type="SESSION";const Go=Jo;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Wn(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),a=await Yd(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:a})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wn.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,a)=>{const c=ii("",20);i.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(u),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(){return window}function ef(t){Te().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(){return typeof Te().WorkerGlobalScope<"u"&&typeof Te().importScripts=="function"}async function tf(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nf(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rf(){return Ko()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="firebaseLocalStorageDb",sf=1,On="firebaseLocalStorage",Xo="fbase_key";class an{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qn(t,e){return t.transaction([On],e?"readwrite":"readonly").objectStore(On)}function of(){const t=indexedDB.deleteDatabase(Qo);return new an(t).toPromise()}function Nr(){const t=indexedDB.open(Qo,sf);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(On,{keyPath:Xo})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(On)?e(r):(r.close(),await of(),e(await Nr()))})})}async function es(t,e,n){const r=qn(t,!0).put({[Xo]:e,value:n});return new an(r).toPromise()}async function lf(t,e){const n=qn(t,!1).get(e),r=await new an(n).toPromise();return r===void 0?null:r.value}function ts(t,e){const n=qn(t,!0).delete(e);return new an(n).toPromise()}const af=800,cf=3;class Yo{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nr(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cf)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ko()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wn._getInstance(rf()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tf(),!this.activeServiceWorker)return;this.sender=new Zd(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nf()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nr();return await es(e,An,"1"),await ts(e,An),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>es(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lf(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ts(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=qn(i,!1).getAll();return new an(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),af)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yo.type="LOCAL";const uf=Yo;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function ff(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ie("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",df().appendChild(r)})}function hf(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new sn(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t,e){return e?Ne(e):(M(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends ni{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xt(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xt(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xt(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mf(t){return Bo(t.auth,new si(t),t.bypassAuthState)}function pf(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),Fd(n,new si(t),t.bypassAuthState)}async function bf(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),jd(n,new si(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mf;case"linkViaPopup":case"linkViaRedirect":return bf;case"reauthViaPopup":case"reauthViaRedirect":return pf;default:xe(this.auth,"internal-error")}}resolve(e){Me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=new sn(2e3,1e4);class vt extends Zo{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,vt.currentPopupAction&&vt.currentPopupAction.cancel(),vt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return M(e,this.auth,"internal-error"),e}async onExecution(){Me(this.filter.length===1,"Popup operations only handle one event");const e=ii();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ie(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ie(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,vf.get())};e()}}vt.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="pendingRedirect",yn=new Map;class _f extends Zo{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yn.get(this.auth._key());if(!e){try{const r=await wf(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yn.set(this.auth._key(),e)}return this.bypassAuthState||yn.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wf(t,e){const n=$f(e),r=kf(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function xf(t,e){yn.set(t._key(),e)}function kf(t){return Ne(t._redirectPersistence)}function $f(t){return vn(yf,t.config.apiKey,t.name)}async function Sf(t,e,n=!1){const r=Vn(t),i=gf(r,e),o=await new _f(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=10*60*1e3;class Tf{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Cf(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!el(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ie(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=If&&this.cachedEventUids.clear(),this.cachedEventUids.has(ns(e))}saveEventToCache(e){this.cachedEventUids.add(ns(e)),this.lastProcessedEventTime=Date.now()}}function ns(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function el({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Cf(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return el(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(t,e={}){return Ot(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Af=/^https?/;async function Of(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ef(t);for(const n of e)try{if(Df(n))return}catch{}xe(t,"unauthorized-domain")}function Df(t){const e=Er(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Af.test(n))return!1;if(Nf.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new sn(3e4,6e4);function rs(){const t=Te().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Pf(t){return new Promise((e,n)=>{var r,i,s;function o(){rs(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rs(),n(Ie(t,"network-request-failed"))},timeout:Rf.get()})}if(!((i=(r=Te().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Te().gapi)===null||s===void 0)&&s.load)o();else{const l=hf("iframefcb");return Te()[l]=()=>{gapi.load?o():n(Ie(t,"network-request-failed"))},ff(`https://apis.google.com/js/api.js?onload=${l}`).catch(a=>n(a))}}).catch(e=>{throw _n=null,e})}let _n=null;function Mf(t){return _n=_n||Pf(t),_n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=new sn(5e3,15e3),Uf="__/auth/iframe",jf="emulator/auth/iframe",Ff={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bf(t){const e=t.config;M(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zr(e,jf):`https://${t.config.authDomain}/${Uf}`,r={apiKey:e.apiKey,appName:t.name,v:zn},i=zf.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${rn(r).slice(1)}`}async function Hf(t){const e=await Mf(t),n=Te().gapi;return M(n,t,"internal-error"),e.open({where:document.body,url:Bf(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ff,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ie(t,"network-request-failed"),l=Te().setTimeout(()=>{s(o)},Lf.get());function a(){Te().clearTimeout(l),i(r)}r.ping(a).then(a,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wf=500,qf=600,Jf="_blank",Gf="http://localhost";class is{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Kf(t,e,n,r=Wf,i=qf){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const a=Object.assign(Object.assign({},Vf),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ce().toLowerCase();n&&(l=Ao(c)?Jf:n),No(c)&&(e=e||Gf,a.scrollbars="yes");const u=Object.entries(a).reduce((g,[h,b])=>`${g}${h}=${b},`,"");if(xd(c)&&l!=="_self")return Qf(e||"",l),new is(null);const m=window.open(e||"",l,u);M(m,t,"popup-blocked");try{m.focus()}catch{}return new is(m)}function Qf(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="__/auth/handler",Yf="emulator/auth/handler";function ss(t,e,n,r,i,s){M(t.config.authDomain,t,"auth-domain-config-required"),M(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:zn,eventId:i};if(e instanceof Fo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",qc(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[a,c]of Object.entries(s||{}))o[a]=c}if(e instanceof ln){const a=e.getScopes().filter(c=>c!=="");a.length>0&&(o.scopes=a.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const a of Object.keys(l))l[a]===void 0&&delete l[a];return`${Zf(t)}?${rn(l).slice(1)}`}function Zf({config:t}){return t.emulator?Zr(t,Yf):`https://${t.authDomain}/${Xf}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="webStorageSupport";class eh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Go,this._completeRedirectFn=Sf,this._overrideRedirectResult=xf}async _openPopup(e,n,r,i){var s;Me((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=ss(e,n,r,Er(),i);return Kf(e,o,ii())}async _openRedirect(e,n,r,i){return await this._originValidation(e),ef(ss(e,n,r,Er(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Me(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Hf(e),r=new Tf(e);return n.register("authEvent",i=>(M(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dr,{type:dr},i=>{var s;const o=(s=i?.[0])===null||s===void 0?void 0:s[dr];o!==void 0&&n(!!o),xe(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Of(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Mo()||ti()||Hn()}}const th=eh;var os="@firebase/auth",ls="0.20.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function ih(t){Wt(new It("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((l,a)=>{M(s&&!s.includes(":"),"invalid-api-key",{appName:l.name}),M(!o?.includes(":"),"argument-error",{appName:l.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lo(t)},u=new Id(l,a,c);return sd(u,n),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wt(new It("auth-internal",e=>{const n=Vn(e.getProvider("auth").getImmediate());return(r=>new nh(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_t(os,ls,rh(t)),_t(os,ls,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=5*60,oh=mo("authIdTokenMaxAge")||sh;let as=null;const lh=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>oh)return;const i=n?.token;as!==i&&(as=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ah(t=qu()){const e=yo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=id(t,{popupRedirectResolver:th,persistence:[uf,Xd,Go]}),r=mo("authTokenSyncURL");if(r){const s=lh(r);qd(n,s,()=>s(n.currentUser)),Wd(n,o=>s(o))}const i=Fc("auth");return i&&Td(n,`http://${i}`),n}ih("Browser");var ch="firebase",uh="9.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_t(ch,uh,"app");function dh(){const[t,e]=k(!1);return{multiuser:t,setMultiuser:e}}const me=re(dh),fh={apiKey:"AIzaSyC9oGhGaax8DlSh-w9pC3TCeIJZzxAw-XU",authDomain:"oakvar-app.firebaseapp.com",projectId:"oakvar-app",storageBucket:"oakvar-app.appspot.com",messagingSenderId:"1070951630158",appId:"1:1070951630158:web:885d40bf4a42a1fc4cca1f",measurementId:"G-0PV5B1ZF6B"},hh=_o(fh);function gh(){const{multiuser:t}=me,[e,n]=k(null),{systemSetupNeeded:r}=Fn;return ie(function(){if(t()==!0||r())try{n(ah(hh))}catch(i){console.error(i)}}),{auth:e,sendSignInLinkToEmail:Vd}}const Jn=re(gh);function mh(){const[t,e]=k("home");return{tabName:t,setTabName:e}}const tt=re(mh);function ph(){const[t,e]=k(!1),[n,r]=k(!1),[i,s]=k(!1),{setEmail:o,setPassword:l}=ht,{serverUrl:a,withCredentials:c}=Q,{setTabName:u}=tt,{auth:m}=Jn,[g,h]=k(!1);function b(v){let _=v.email;if(_)return _;for(const w of v.providerData)if(_=w.email,_)return _;return null}function y(v){const _=b(v);if(!_){Z({response:{data:"No email was found in login data."}});return}V.post(a+"/server/loginsuccess",{email:_},{withCredentials:c}).then(function(w){o(w.data.email),s(w.data.admin),e(!0),r(!1)}).catch(function(w){Z(w)})}function p(){Vo(m()).catch(function(v){Z(v)}),V.get(a+"/server/logout",{withCredentials:c}).then(function(v){v.status==200&&(e(!1),o(null),l(null),u("home"),s(!1))}).catch(function(v){Z(v)})}return{logged:t,setLogged:e,admin:i,setAdmin:s,showAuth:n,setShowAuth:r,afterLogin:y,afterLogout:p,reloginChecked:g,setReloginChecked:h}}const he=re(ph);function bh(){const[t,e]=k(!0);return{appLoading:t,setAppLoading:e}}const Gn=re(bh),vh=x('<a id="tabhead_{props.tabName}" href="#" class="tabhead"></a>');function ft(t){const{tabName:e,setTabName:n}=tt;return(()=>{const r=vh.cloneNode(!0);return r.$$click=function(i){t.callback?t.callback(i):n(t.tabName)},d(r,()=>t.svg,null),d(r,()=>t.title,null),T(i=>{const s=e()==t.tabName,o=!!t.disable,l=!!t.disable,a=!t.disable;return s!==i._v$&&r.classList.toggle("selected",i._v$=s),o!==i._v$2&&r.classList.toggle("pointer-events-none",i._v$2=o),l!==i._v$3&&r.classList.toggle("text-gray-400",i._v$3=l),a!==i._v$4&&r.classList.toggle("text-gray-600",i._v$4=a),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r})()}F(["click"]);const yh=x('<svg fill="currentColor" stroke-width="0" xmlns="http://www.w3.org/2000/svg"></svg>'),_h=x("<title></title>");function Y(t,e){const n=Zl(t.a,e);return(()=>{const r=yh.cloneNode(!0);return ca(r,n,!0,!0),d(r,()=>ha,null),d(r,(()=>{const i=ge(()=>!!e.title,!0);return()=>i()&&(()=>{const s=_h.cloneNode(!0);return d(s,()=>e.title),s})()})(),null),T(i=>{const s=t.a.stroke,o={...e.style,overflow:"visible",color:e.color||"currentColor"},l=e.size||"1em",a=e.size||"1em",c=t.c;return s!==i._v$&&G(r,"stroke",i._v$=s),i._v$2=Vs(r,o,i._v$2),l!==i._v$3&&G(r,"height",i._v$3=l),a!==i._v$4&&G(r,"width",i._v$4=a),c!==i._v$5&&(r.innerHTML=i._v$5=c),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),r})()}function wh(t){return Y({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/>'},t)}function xh(t){return Y({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/>'},t)}function kh(t){return Y({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"/>'},t)}function Kn(t){return Y({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>'},t)}function $h(t){return Y({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>'},t)}function Sh(t){return Y({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>'},t)}function Ih(t){return Y({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>'},t)}function Th(t){return Y({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"/>'},t)}function Ch(t){return Y({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>'},t)}function Eh(t){return Y({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"/>'},t)}function oi(t){return Y({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>'},t)}function Nh(){const t=f(Ih,{class:"tabheadicon",color:"rgb(156 163 175)"});return f(ft,{tabName:"home",title:"Home",svg:t})}function Ah(t){return Y({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M9 13L5 9l4-4M5 9h11a4 4 0 010 8h-1"/>'},t)}function Oh(t){return Y({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M14 3v4a1 1 0 001 1h4"/><path d="M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h7l5 5v11a2 2 0 01-2 2zM12 11v6"/><path d="M9.5 13.5L12 11l2.5 2.5"/>'},t)}function Dh(t){return Y({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M12 12H6a3 3 0 01-3-3V7c0-1.083.574-2.033 1.435-2.56M8 4h10a3 3 0 013 3v2a3 3 0 01-3 3h-2M16 12h2a3 3 0 013 3v2m-1.448 2.568A2.986 2.986 0 0118 20H6a3 3 0 01-3-3v-2a3 3 0 013-3h6M7 8v.01M7 16v.01M3 3l18 18"/>'},t)}function Rh(){const{logged:t}=he,{multiuser:e}=me,n=f(Oh,{class:"tabheadicon",color:"rgb(156 163 175)"});return f(ft,{tabName:"submit",title:"Analyze",svg:n,get disable(){return ge(()=>!!e())()&&!t()}})}function Ph(t){return Y({a:{viewBox:"0 0 1024 1024"},c:'<path d="M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"/><path d="M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"/>'},t)}function Mh(t){return Y({a:{viewBox:"0 0 1024 1024"},c:'<path d="M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"/>'},t)}function Lh(){const{logged:t}=he,{multiuser:e}=me,n=f(Mh,{class:"tabheadicon",color:"rgb(156 163 175)"});return f(ft,{tabName:"jobs",title:"Results",svg:n,get disable(){return ge(()=>!!e())()&&!t()}})}function Uh(t){return Y({a:{viewBox:"0 0 24 24"},c:'<path fill="none" d="M0 0h24v24H0z"/><path d="M21 13.242V20h1v2H2v-2h1v-6.758A4.496 4.496 0 011 9.5c0-.827.224-1.624.633-2.303L4.345 2.5a1 1 0 01.866-.5H18.79a1 1 0 01.866.5l2.702 4.682A4.496 4.496 0 0121 13.242zm-2 .73a4.496 4.496 0 01-3.75-1.36A4.496 4.496 0 0112 14.001a4.496 4.496 0 01-3.25-1.387A4.496 4.496 0 015 13.973V20h14v-6.027zM5.789 4L3.356 8.213a2.5 2.5 0 004.466 2.216c.335-.837 1.52-.837 1.856 0a2.5 2.5 0 004.644 0c.335-.837 1.52-.837 1.856 0a2.5 2.5 0 104.457-2.232L18.21 4H5.79z"/>'},t)}function jh(t){return Y({a:{viewBox:"0 0 24 24"},c:'<path fill="none" d="M0 0h24v24H0z"/><path d="M10 11V8l5 4-5 4v-3H1v-2h9zm-7.542 4h2.124A8.003 8.003 0 0020 12 8 8 0 004.582 9H2.458C3.732 4.943 7.522 2 12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10c-4.478 0-8.268-2.943-9.542-7z"/>'},t)}function Fh(t){return Y({a:{viewBox:"0 0 24 24"},c:'<path fill="none" d="M0 0h24v24H0z"/><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2a9.985 9.985 0 018 4h-2.71a8 8 0 10.001 12h2.71A9.985 9.985 0 0112 22zm7-6v-3h-8v-2h8V8l5 4-5 4z"/>'},t)}function zh(){const t=f(Uh,{class:"tabheadicon",color:"rgb(156 163 175)"});return f(ft,{tabName:"store",title:"Store",svg:t})}const Bh=x('<svg class="tabheadicon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"></path></svg>');function Hh(){const t=Bh.cloneNode(!0);return f(ft,{tabName:"system",title:"System",svg:t})}const Vh=x('<div class="px-2 pb-8"></div>'),Wh=x('<div class="px-2 text-xs text-gray-600 truncate cursor-default"></div>'),qh=x("<div></div>");function Jh(){const{logged:t,setLogged:e,showAuth:n,setShowAuth:r,afterLogout:i}=he,{multiuser:s}=me,{email:o,setEmail:l,setPassword:a}=ht,c=f(jh,{class:"tabheadicon",color:"rgb(156 163 175)"}),u=f(Fh,{class:"tabheadicon",color:"rgb(156 163 175)"});function m(h){r(!n())}function g(h){i()}return(()=>{const h=Vh.cloneNode(!0);return d(h,f(B,{get when(){return s()},get children(){return f(B,{get when(){return!t()},get fallback(){return(()=>{const b=qh.cloneNode(!0);return d(b,f(B,{get when(){return o()},get children(){const y=Wh.cloneNode(!0);return d(y,o),T(()=>G(y,"title",o())),y}}),null),d(b,f(ft,{tabName:"",title:"Sign out",svg:u,callback:g}),null),b})()},get children(){return f(ft,{tabName:"",title:"Sign in",svg:c,callback:m})}})}})),h})()}const Gh=x('<div id="verdiv" class="text-xs absolute left-4 bottom-2 text-gray-400"><span class="text-xs">OakVar </span><span class="curverspan text-xs"></span></div>'),{serverUrl:cs}=Q;function Kh(){const[t]=Yt(e);async function e(){if(cs==null)return null;try{return(await V.get(cs+"/submit/pkgver")).data.pkg_ver}catch(n){console.error(n),Z(n)}}return f(B,{get when(){return t()!=null},get children(){const n=Gh.cloneNode(!0),r=n.firstChild;return r.firstChild,d(r,t,null),n}})}const Ar=Symbol("store-raw"),Qt=Symbol("store-node"),Qh=Symbol("store-name");function tl(t,e){let n=t[Re];if(!n&&(Object.defineProperty(t,Re,{value:n=new Proxy(t,Zh)}),!Array.isArray(t))){const r=Object.keys(t),i=Object.getOwnPropertyDescriptors(t);for(let s=0,o=r.length;s<o;s++){const l=r[s];if(i[l].get){const a=i[l].get.bind(n);Object.defineProperty(t,l,{enumerable:i[l].enumerable,get:a})}}}return n}function Ze(t){let e;return t!=null&&typeof t=="object"&&(t[Re]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function Ct(t,e=new Set){let n,r,i,s;if(n=t!=null&&t[Ar])return n;if(!Ze(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let o=0,l=t.length;o<l;o++)i=t[o],(r=Ct(i,e))!==i&&(t[o]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const o=Object.keys(t),l=Object.getOwnPropertyDescriptors(t);for(let a=0,c=o.length;a<c;a++)s=o[a],!l[s].get&&(i=t[s],(r=Ct(i,e))!==i&&(t[s]=r))}return t}function li(t){let e=t[Qt];return e||Object.defineProperty(t,Qt,{value:e={}}),e}function Or(t,e,n){return t[e]||(t[e]=rl(n))}function Xh(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===Re||e===Qt||e===Qh||(delete n.value,delete n.writable,n.get=()=>t[Re][e]),n}function nl(t){if(Ls()){const e=li(t);(e._||(e._=rl()))()}}function Yh(t){return nl(t),Reflect.ownKeys(t)}function rl(t){const[e,n]=k(t,{equals:!1,internal:!0});return e.$=n,e}const Zh={get(t,e,n){if(e===Ar)return t;if(e===Re)return n;if(e===pr)return nl(t),n;const r=li(t),i=r.hasOwnProperty(e);let s=i?r[e]():t[e];if(e===Qt||e==="__proto__")return s;if(!i){const o=Object.getOwnPropertyDescriptor(t,e);Ls()&&(typeof s!="function"||t.hasOwnProperty(e))&&!(o&&o.get)&&(s=Or(r,e,s)())}return Ze(s)?tl(s):s},has(t,e){return e===Ar||e===Re||e===pr||e===Qt||e==="__proto__"?!0:(this.get(t,e,t),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:Yh,getOwnPropertyDescriptor:Xh};function ye(t,e,n,r=!1){if(!r&&t[e]===n)return;const i=t[e],s=t.length;n===void 0?delete t[e]:t[e]=n;let o=li(t),l;(l=Or(o,e,i))&&l.$(()=>n),Array.isArray(t)&&t.length!==s&&(l=Or(o,"length",s))&&l.$(t.length),(l=o._)&&l.$()}function il(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const i=n[r];ye(t,i,e[i])}}function eg(t,e){if(typeof e=="function"&&(e=e(t)),e=Ct(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const i=e[n];t[n]!==i&&ye(t,n,i)}ye(t,"length",r)}else il(t,e)}function zt(t,e,n=[]){let r,i=t;if(e.length>1){r=e.shift();const o=typeof r,l=Array.isArray(t);if(Array.isArray(r)){for(let a=0;a<r.length;a++)zt(t,[r[a]].concat(e),n);return}else if(l&&o==="function"){for(let a=0;a<t.length;a++)r(t[a],a)&&zt(t,[a].concat(e),n);return}else if(l&&o==="object"){const{from:a=0,to:c=t.length-1,by:u=1}=r;for(let m=a;m<=c;m+=u)zt(t,[m].concat(e),n);return}else if(e.length>1){zt(t[r],e,[r].concat(n));return}i=t[r],n=[r].concat(n)}let s=e[0];typeof s=="function"&&(s=s(i,n),s===i)||r===void 0&&s==null||(s=Ct(s),r===void 0||Ze(i)&&Ze(s)&&!Array.isArray(s)?il(i,s):ye(t,r,s))}function we(...[t,e]){const n=Ct(t||{}),r=Array.isArray(n),i=tl(n);function s(...o){Vl(()=>{r&&o.length===1?eg(n,o[0]):zt(n,o)})}return[i,s]}const Dr=Symbol("store-root");function bt(t,e,n,r,i){const s=e[n];if(t===s)return;if(!Ze(t)||!Ze(s)||i&&t[i]!==s[i]){if(t!==s){if(n===Dr)return t;ye(e,n,t)}return}if(Array.isArray(t)){if(t.length&&s.length&&(!r||i&&t[0][i]!=null)){let a,c,u,m,g,h,b,y;for(u=0,m=Math.min(s.length,t.length);u<m&&(s[u]===t[u]||i&&s[u][i]===t[u][i]);u++)bt(t[u],s,u,r,i);const p=new Array(t.length),v=new Map;for(m=s.length-1,g=t.length-1;m>=u&&g>=u&&(s[m]===t[g]||i&&s[m][i]===t[g][i]);m--,g--)p[g]=s[m];if(u>g||u>m){for(c=u;c<=g;c++)ye(s,c,t[c]);for(;c<t.length;c++)ye(s,c,p[c]),bt(t[c],s,c,r,i);s.length>t.length&&ye(s,"length",t.length);return}for(b=new Array(g+1),c=g;c>=u;c--)h=t[c],y=i?h[i]:h,a=v.get(y),b[c]=a===void 0?-1:a,v.set(y,c);for(a=u;a<=m;a++)h=s[a],y=i?h[i]:h,c=v.get(y),c!==void 0&&c!==-1&&(p[c]=s[a],c=b[c],v.set(y,c));for(c=u;c<t.length;c++)c in p?(ye(s,c,p[c]),bt(t[c],s,c,r,i)):ye(s,c,t[c])}else for(let a=0,c=t.length;a<c;a++)bt(t[a],s,a,r,i);s.length>t.length&&ye(s,"length",t.length);return}const o=Object.keys(t);for(let a=0,c=o.length;a<c;a++)bt(t[o[a]],s,o[a],r,i);const l=Object.keys(s);for(let a=0,c=l.length;a<c;a++)t[l[a]]===void 0&&ye(s,l[a],void 0)}function De(t,e={}){const{merge:n,key:r="id"}=e,i=Ct(t);return s=>{if(!Ze(s)||!Ze(i))return i;const o=bt(i,{[Dr]:s},Dr,n,r);return o===void 0?s:o}}function tg(){const[t,e]=we({__initial:!0}),[n,r]=k({}),[i,s]=k({}),{serverUrl:o}=Q;let l=!1;ie(function(){t.__initial==!0&&(e(De({})),u())});function a(g){return g in t?t[g]:null}function c(g){var h=t;h[g.name]=g}function u(){l||(l=!0,V.get(o+"/store/remote").then(function(g){let h=g.data.data,b=g.data.tagdesc;delete h.aggregator;const y={},p="input coversion",v="reporting";for(const _ in h){const w=h[_];if(w.tags&&w.tags.length>0)for(const I of w.tags)I!="reporters"&&I!="input/output"&&(y[I]=b[I]||I);else w.tags=[];w.type=="converter"?(y[p]="Input format conversion modules",w.tags.push(p)):w.type=="reporter"&&(y[v]="Report generation modules",w.tags.push(v))}y["no tag"]="No tag provided",s(y),e(h),l=!1}).catch(function(g){console.error(g)}))}function m(g,h,b,y){let p=[];for(const[v,_]of Object.entries(t)){let w=!0;h.length>0&&(_.type in h||(w=!1)),b!=null&&(b=="no tag"?_.tags.length>0&&(w=!1):_.tags.indexOf(b)==-1&&(w=!1)),w&&g!=null&&(w=!1,(v.indexOf(g)>=0||_.title.indexOf(g)>=0||_.description&&_.description.indexOf(g)>=0)&&(w=!0)),w&&p.push(v)}return y==null||y=="Name"?p.sort():y=="Size"&&p.sort((v,_)=>t[_].size-t[v].size),p}return{remoteModules:t,setRemoteModules:e,getRemoteModule:a,addRemoteModule:c,loadAllRemoteModules:u,remoteModuleLogos:n,setRemoteModuleLogos:r,getFilteredRemoteModules:m,remoteTags:i}}const Fe=re(tg);function cn(t){return Y({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path fill-rule="evenodd" d="M15 8a.5.5 0 00-.5-.5H2.707l3.147-3.146a.5.5 0 10-.708-.708l-4 4a.5.5 0 000 .708l4 4a.5.5 0 00.708-.708L2.707 8.5H14.5A.5.5 0 0015 8z"/>'},t)}function ng(t){return Y({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 01.472.696v8.662a.75.75 0 01-.472.696l-7.25 2.9a.75.75 0 01-.557 0l-7.25-2.9A.75.75 0 010 12.331V3.669a.75.75 0 01.471-.696L7.443.184l.004-.001.274-.11a.75.75 0 01.558 0l.274.11.004.001 6.971 2.789zm-1.374.527L8 5.962 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339z"/>'},t)}function rg(t){return Y({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M8.186 1.113a.5.5 0 00-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 011.114 0l7.129 2.852A.5.5 0 0116 3.5v8.662a1 1 0 01-.629.928l-7.185 2.874a.5.5 0 01-.372 0L.63 13.09a1 1 0 01-.63-.928V3.5a.5.5 0 01.314-.464L7.443.184z"/>'},t)}function ig(t){return Y({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M13.545 2.907a13.227 13.227 0 00-3.257-1.011.05.05 0 00-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 00-3.658 0 8.258 8.258 0 00-.412-.833.051.051 0 00-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 00-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 003.995 2.02.05.05 0 00.056-.019c.308-.42.582-.863.818-1.329a.05.05 0 00-.01-.059.051.051 0 00-.018-.011 8.875 8.875 0 01-1.248-.595.05.05 0 01-.02-.066.051.051 0 01.015-.019c.084-.063.168-.129.248-.195a.05.05 0 01.051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 01.053.007c.08.066.164.132.248.195a.051.051 0 01-.004.085 8.254 8.254 0 01-1.249.594.05.05 0 00-.03.03.052.052 0 00.003.041c.24.465.515.909.817 1.329a.05.05 0 00.056.019 13.235 13.235 0 004.001-2.02.049.049 0 00.021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 00-.02-.019zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612z"/>'},t)}function sg(t){return Y({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M11.42 2l3.428 6-3.428 6H4.58L1.152 8 4.58 2h6.84zM4.58 1a1 1 0 00-.868.504l-3.428 6a1 1 0 000 .992l3.428 6A1 1 0 004.58 15h6.84a1 1 0 00.868-.504l3.429-6a1 1 0 000-.992l-3.429-6A1 1 0 0011.42 1H4.58z"/><path d="M6.848 5.933a2.5 2.5 0 102.5 4.33 2.5 2.5 0 00-2.5-4.33zm-1.78 3.915a3.5 3.5 0 116.061-3.5 3.5 3.5 0 01-6.062 3.5z"/>'},t)}async function og(t){const{serverUrl:e}=Q,n=await fetch(e+t).catch(function(r){Z(r)});return n==null?{}:n.json()}const lg="module_option_file__";function ag(){const[t,e]=we({__initial:!0}),[n,r]=k({}),{serverUrl:i}=Q;ie(function(){t.__initial==!0&&(e(De({})),l())});function s(h){return h in t?t[h]:null}function o(h){var b={...t};b[h.name]=h,e(b)}function l(){V.get(i+"/store/local").then(function(h){e(De(h.data))}).catch(function(h){Z(h)})}function a(h){const b=new URLSearchParams({moduleName:h});og(i+"/store/addlocal?"+b).then(function(y){o(y)}).catch(function(y){console.log(y)})}function c(h){return h in n()?n()[h]:f(sg,{})}function u(h,b,y){let _=t[h].module_options;_==null&&(_={}),b.type=="int"?y=parseInt(y):b.type=="float"&&(y=parseFloat(y));const w={value:y,method:b.method,type:b.type};_[b.name]=w,e(h,"module_options",_)}function m(h,b){let y={};for(const p in h){const v=h[p];if(v.module_options){y[p]={};for(const _ in v.module_options){const w=v.module_options[_];if(w.method=="file"){const I=lg+p+"__"+_;b.append(I,w.value)}else y[p][_]=w.value}Object.keys(y[p]).length==0&&delete y[p]}}return y}function g(h,b){const y=t[h];if(y&&y.module_options){const p=y.module_options[b];return p||null}else return null}return{localModules:t,setLocalModules:e,getLocalModule:s,addLocalModule:o,loadAllLocalModules:l,localModuleLogos:n,setLocalModuleLogos:r,getLocalModuleLogo:c,setModuleOption:u,getModuleOptions:m,getModuleOption:g,loadOneLocalModule:a}}const ze=re(ag),{serverUrl:fr,withCredentials:hr}=Q,{getRemoteModule:cg}=Fe;function ug(){const[t,e]=we([]),[n,r]=we({}),{loadAllLocalModules:i}=ze;s(),o();function s(){const{serverUrl:p}=Q;V.get(p+"/store/getqueue").then(function(v){e(De(v.data));let _={...n};for(const w of t)w in _||u(w)}).catch(function(v){Z(v)})}function o(){const{serverUrl:p}=Q;V.get(p+"/store/getinstallstate").then(function(v){let _={...v.data};for(const w in _){let I=_[w];w in n&&(I.progress=n[w].progress)}r(De(_))}).catch(function(v){Z(v)})}function l(){return t.length==0?null:t[t.length-1]}function a(p){if(p==null||p in n)return;const v=cg(p);v!=null&&V.get(fr+"/store/queueinstall",{params:{module:p,version:v.latest_version},withCredentials:hr}).then(function(_){s(),o()}).catch(function(_){Z(_)})}function c(p){l()!=p&&a(p)}function u(p){let v={...n};delete v[p],r(De(v))}function m(p){V.get(fr+"/store/unqueue",{params:{module_name:p},withCredentials:hr}).then(function(v){s(),o()}).catch(function(v){Z(v)})}function g(p){return t.length==0?!1:t.indexOf(p)>=0}function h(p){V.get(fr+"/store/uninstall",{params:{moduleName:p},withCredentials:hr}).then(function(v){i()}).catch(function(v){Z(v),s()})}function b(p,v){return p==0&&v==0||isNaN(p)||isNaN(v)}function y(p,v,_){const w=parseFloat(v),I=parseFloat(_);if(p=="start")return 5;if(p=="killed"||p=="error"||p=="skip"||p=="finished"||p=="finish")return 100;if(p=="extract_code")return 10;if(p=="extract_data")return 90;if(p=="download_code")return b(w,I)?void 0:w/I*5+5;if(p=="download_data")return b(w,I)?void 0:w/I*75+15}return{installQueue:t,addToInstallQueue:c,removeFromInstallQueue:m,removeFromInstallState:u,inQueue:g,uninstallModule:h,installState:n,setInstallState:r,getInstallProgress:y,fetchInstallQueue:s}}const gt=re(ug);function dg(){const[t,e]=k(null);return{systemMsg:t,setSystemMsg:e}}const sl=re(dg),fg="connection",hg="setup",gg="setup_error",us="install",mg="install_error";function pg(){const[t,e]=k(null),[n,r]=k(!1),{fetchInstallQueue:i,installState:s,setInstallState:o,removeFromInstallState:l,getInstallProgress:a}=gt,{wsUrl:c}=Q,{setSystemMsg:u}=sl,[m,g]=k(""),[h,b]=k(null),[y,p]=k(!1),{loadAllLocalModules:v}=ze;let _=0;const w=10;ie(function(){t()==null&&setTimeout(function(){e(N())}),y()==!0&&h&&h()});function I(){return m()}function N(){const R=new WebSocket(c);return R.onopen=function(U){r(!0)},R.onclose=function(U){if(_+=1,_>=w){const q={};q.response=void 0,Z(q)}else r(!1),setTimeout(function(){e(null)},3e3)},R.onmessage=function(U){const q=JSON.parse(U.data);z(q)},R.onerror=function(U){Z(U)},R}function E(R){R=="Logging in..."?g("Logging in..."):R=="Setting up store cache..."?g("Setting up store cache..."):R=="Setting up administrative database..."?g("Setting up administrative database..."):R=="Installing system modules..."?g("Installing system modules..."):R.startsWith("Installing")||R.startsWith("Installed")||R.includes("already exists")?g(R):R=="Done setting up the system."&&(g("Done setting up the system."),p(!0))}function A(R){let U=[];const q=R.msg.split(`
`);for(const H of q)U.push({kind:R.kind,msg:H,dt:R.dt}),E(H);u(U)}function S(R){const U=JSON.parse(R.msg);Z(U),u([{msg:U.response.data.msg,dt:R.dt}])}function C(R){for(const U of R)U.kind==gg?S(U):A(U)}function O(R){const U=R.msg,q=U.split(":"),H=q[0],K=q[1],W=parseInt(q[2]),ue=parseInt(q[3]),Se=a(H,W,ue);K in s&&(o(K,"stage",H),Se!=null&&o(K,"progress",Se)),H=="error"?Z({response:{status:500,data:{msg:U}}}):(H=="killed"||H=="finished"||H=="error"||H=="skip")&&(i(),l(K),H=="finished"&&v())}function P(R){for(const U of R)U.kind==us?O(U):U.kind==mg}function z(R){const U=R.msg_kind;U==fg?document.cookie="ws_id="+R.ws_id:U==hg?C(R.items):U==us&&P(R.items)}return{wsOpened:n,getSetupStageMsg:I,setCallbackAfterSetup:b,setSetupStateMsg:g}}const ol=re(pg);function bg(){const{wsOpened:t}=ol;return f(B,{get classList(){return{hidden:t()==!0}},get children(){return f(Dh,{color:"#dc2626",size:48})}})}const vg=x('<div id="sidebar_static" class="md:flex md:w-36 md:flex-col md:fixed md:inset-y-0"><div class="flex-1 flex flex-col min-h-0 border-r border-gray-200"><div class="flex-1 flex flex-col pt-5 pb-4 overflow-y-auto"><div class="flex items-center flex-shrink-0 px-4"><img class="h-16 w-auto" alt="Logo"></div><nav class="mt-5 flex-1 px-2 space-y-1"></nav></div></div></div>');function yg(){const{serverUrl:t}=Q,{logged:e}=he,{multiuser:n}=me,{admin:r}=he;return(()=>{const i=vg.cloneNode(!0),s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.firstChild,c=l.nextSibling;return G(a,"src",t+"/submit/images/logo_transparent_bw.png"),d(c,f(Nh,{}),null),d(c,f(Rh,{}),null),d(c,f(Lh,{}),null),d(c,f(zh,{}),null),d(c,f(B,{get when(){return n()==!1||e()==!0&&r()==!0},get children(){return f(Hh,{})}}),null),d(o,f(Jh,{}),null),d(o,f(Kh,{}),null),d(o,f(bg,{}),null),i})()}const _g=x('<a target="_blank"><button class="relative inline-flex items-center justify-center p-0.5 mb-2 mr-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-cyan-500 to-blue-500 group-hover:from-cyan-500 group-hover:to-blue-500 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-cyan-200 dark:focus:ring-cyan-800"><span class="relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0"></span></button></a>');function We(t){return(()=>{const e=_g.cloneNode(!0),n=e.firstChild,r=n.firstChild;return d(r,()=>t.icon,null),d(r,()=>t.text,null),T(()=>G(e,"href",t.url)),e})()}function ds(t){return Y({a:{viewBox:"0 0 496 512"},c:'<path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/>'},t)}function wg(t){return Y({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2zM22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"/>'},t)}function xg(t){return Y({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>'},t)}function kg(t){return Y({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<circle cx="12" cy="12" r="10"/><path d="M12 8v8M8 12h8"/>'},t)}function $g(t){return Y({a:{viewBox:"0 0 512 512"},c:'<path d="M28 28v456h456V28H28zm378.83 108.04l-24.46 23.45a7.162 7.162 0 00-2.72 6.86v172.28c-.44 2.61.61 5.26 2.72 6.86l23.88 23.45v5.15H286.13v-5.15l24.74-24.02c2.43-2.43 2.43-3.15 2.43-6.86V198.81l-68.79 174.71h-9.3l-80.09-174.71v117.1c-.67 4.92.97 9.88 4.43 13.44l32.18 39.03v5.15h-91.24v-5.15l32.18-39.03c3.44-3.57 4.98-8.56 4.15-13.44V180.5c.38-3.76-1.05-7.48-3.86-10.01l-28.6-34.46v-5.15h88.81l68.65 150.55 60.35-150.55h84.66v5.16z"/>'},t)}function Sg(t){return Y({a:{viewBox:"0 0 512 512"},c:'<path d="M324 256a36 36 0 1036 36 36 36 0 00-36-36z"/><circle cx="188" cy="292" r="36" transform="rotate(-22.5 187.997 291.992)"/><path d="M496 253.77c0-31.19-25.14-56.56-56-56.56a55.72 55.72 0 00-35.61 12.86c-35-23.77-80.78-38.32-129.65-41.27l22-79 66.41 13.2c1.9 26.48 24 47.49 50.65 47.49 28 0 50.78-23 50.78-51.21S441 48 413 48c-19.53 0-36.31 11.19-44.85 28.77l-90-17.89-31.1 109.52-4.63.13c-50.63 2.21-98.34 16.93-134.77 41.53A55.38 55.38 0 0072 197.21c-30.89 0-56 25.37-56 56.56a56.43 56.43 0 0028.11 49.06 98.65 98.65 0 00-.89 13.34c.11 39.74 22.49 77 63 105C146.36 448.77 199.51 464 256 464s109.76-15.23 149.83-42.89c40.53-28 62.85-65.27 62.85-105.06a109.32 109.32 0 00-.84-13.3A56.32 56.32 0 00496 253.77zM414 75a24 24 0 11-24 24 24 24 0 0124-24zM42.72 253.77a29.6 29.6 0 0129.42-29.71 29 29 0 0113.62 3.43c-15.5 14.41-26.93 30.41-34.07 47.68a30.23 30.23 0 01-8.97-21.4zM390.82 399c-35.74 24.59-83.6 38.14-134.77 38.14S157 423.61 121.29 399c-33-22.79-51.24-52.26-51.24-83A78.5 78.5 0 0175 288.72c5.68-15.74 16.16-30.48 31.15-43.79a155.17 155.17 0 0114.76-11.53l.3-.21.24-.17c35.72-24.52 83.52-38 134.61-38s98.9 13.51 134.62 38l.23.17.34.25A156.57 156.57 0 01406 244.92c15 13.32 25.48 28.05 31.16 43.81a85.44 85.44 0 014.31 17.67 77.29 77.29 0 01.6 9.65c-.01 30.72-18.21 60.19-51.25 82.95zm69.6-123.92c-7.13-17.28-18.56-33.29-34.07-47.72A29.09 29.09 0 01440 224a29.59 29.59 0 0129.41 29.71 30.07 30.07 0 01-8.99 21.39z"/><path d="M323.23 362.22c-.25.25-25.56 26.07-67.15 26.27-42-.2-66.28-25.23-67.31-26.27a4.14 4.14 0 00-5.83 0l-13.7 13.47a4.15 4.15 0 000 5.89c3.4 3.4 34.7 34.23 86.78 34.45 51.94-.22 83.38-31.05 86.78-34.45a4.16 4.16 0 000-5.9l-13.71-13.47a4.13 4.13 0 00-5.81 0z"/>'},t)}function Ig(t){return Y({a:{viewBox:"0 0 512 512"},c:'<rect width="416" height="320" x="48" y="96" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" rx="40" ry="40"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M112 160l144 112 144-112"/>'},t)}function Tg(t){return Y({a:{viewBox:"0 0 512 512"},c:'<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M85.57 446.25h340.86a32 32 0 0028.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0028.17 47.17z"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M250.26 195.39l5.74 122 5.73-121.95a5.74 5.74 0 00-5.79-6h0a5.74 5.74 0 00-5.68 5.95z"/><path d="M256 397.25a20 20 0 1120-20 20 20 0 01-20 20z"/>'},t)}const Cg=x('<span class="font-semibold"></span>'),Eg=x('<div id="tab_home" class="tabcontent px-6 my-6 text-gray-700"><h1 class="text-4xl font-extrabold dark:text-white">OakVar</h1><p class="mb-6 text-lg font-normal text-gray-500 lg:text-xl dark:text-gray-400">Genomic variant analysis platform</p><div class="mt-4 text-base w-[64rem]"><p>OakVar is a platform for analyzing and exploring genomic variants.</p><p class="my-2">Use <!> tab to submit analysis jobs. Use <!> tab to monitor your past and current jobs. <!> shows analysis and reporting modules available through OakVar. In <!> tab, you can perform system admin tasks. </p><div class="my-2"><h3 class="mb-2 font-semibold dark:text-white">Benefits:</h3><ul class="space-y-1 list-disc list-inside"><li> genomic variants with diverse annotation sources.</li><li>Make <!> of annotated variants.</li><li>Query annotated variants with <!> sets.</li><li>Make <!> in diverse formats.</li><li> annotated variants with graphical user interface.</li><li>Works via <!> and <!>.</li><li>Easily develop, run, and distribute CLI and GUI <!>. OakVar acts as an operating system for genomics apps.</li><li>Connect genomic data to AI/ML models.</li></ul></div><div><h3 class="mb-2 font-semibold dark:text-white">Resources:</h3></div><div><h3 class="mb-2 font-semibold dark:text-white">Follow us:</h3></div><div><h3 class="mb-2 font-semibold dark:text-white">Help and support:</h3></div></div></div>'),{multiuser:Ng}=me;function pe(t){return(()=>{const e=Cg.cloneNode(!0);return d(e,t),e})()}function Ag(){const{tabName:t}=tt;return(()=>{const e=Eg.cloneNode(!0),n=e.firstChild,r=n.nextSibling,i=r.nextSibling,s=i.firstChild,o=s.nextSibling,l=o.firstChild,a=l.nextSibling,c=a.nextSibling,u=c.nextSibling,m=u.nextSibling,g=m.nextSibling,h=g.nextSibling,b=h.nextSibling;b.nextSibling;const y=o.nextSibling,p=y.firstChild,v=p.nextSibling,_=v.firstChild,w=_.firstChild,I=_.nextSibling,N=I.firstChild,E=N.nextSibling;E.nextSibling;const A=I.nextSibling,S=A.firstChild,C=S.nextSibling;C.nextSibling;const O=A.nextSibling,P=O.firstChild,z=P.nextSibling;z.nextSibling;const R=O.nextSibling,U=R.firstChild,q=R.nextSibling,H=q.firstChild,K=H.nextSibling,W=K.nextSibling,ue=W.nextSibling;ue.nextSibling;const Se=q.nextSibling,rt=Se.firstChild,it=rt.nextSibling;it.nextSibling;const mt=y.nextSibling;mt.firstChild;const Be=mt.nextSibling;Be.firstChild;const Pt=Be.nextSibling;return Pt.firstChild,d(o,()=>pe("Submit"),a),d(o,()=>pe("Jobs"),u),d(o,()=>pe("Store"),g),d(o,()=>pe("System"),b),d(o,f(B,{get when(){return Ng()},get children(){return["In ",ge(()=>pe("Account"))," tab, you can perform account tasks including logging out."]}}),null),d(_,()=>pe("Annotate"),w),d(I,()=>pe("databases"),E),d(A,()=>pe("filter"),C),d(O,()=>pe("reports"),z),d(R,()=>pe("Visualize"),U),d(q,()=>pe("CLI"),K),d(q,()=>pe("GUI"),ue),d(Se,()=>pe("genomics apps"),it),d(mt,f(We,{url:"https://docs.oakvar.com/",get icon(){return f(wg,{class:"inline mr-1"})},text:"Documentation"}),null),d(mt,f(We,{url:"https://github.com/rkimoakbioinformatics/oakvar",get icon(){return f(ds,{class:"inline mr-1"})},text:"GitHub"}),null),d(Be,f(We,{url:"https://medium.com/oakvar",get icon(){return f($g,{class:"inline mr-1"})},text:"Medium (Announcements)"}),null),d(Be,f(We,{url:"https://discord.gg/wZfkTMKTjG",get icon(){return f(ig,{class:"inline mr-1"})},text:"Discord (Messaging)"}),null),d(Be,f(We,{url:"https://www.reddit.com/r/oakvar",get icon(){return f(Sg,{class:"inline mr-1"})},text:"Reddit (Discussion)"}),null),d(Be,f(We,{url:"https://dashboard.mailerlite.com/forms/21170/56038572068701589/share",icon:"",text:"Join the mailing list"}),null),d(Pt,f(We,{url:"https://github.com/rkimoakbioinformatics/oakvar/issues",get icon(){return f(ds,{class:"inline mr-1"})},text:"Issues"}),null),d(Pt,f(We,{url:"mailto:info@oakbioinformatics.com",get icon(){return f(Ig,{class:"inline mr-1"})},text:"Mail"}),null),T(()=>e.classList.toggle("hidden",t()!="home")),e})()}const Og=x('<a href="#" class="text-gray-600 block px-4 py-2 text-sm text-right hover:bg-gray-100 hover:text-gray-900" role="menuitem" tabindex="-1" value=""></a>');function fn(t){function e(){t.setAssembly(t.value),t.setShow(!1)}return(()=>{const n=Og.cloneNode(!0);return n.$$click=e,d(n,()=>t.title),n})()}F(["click"]);const Dg=x('<div id="assembly-select" class="option-list ease-in absolute right-0 z-10 mt-2 w-32 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1"><div class="py-1" role="none"></div></div>');function Rg(t){return(()=>{const e=Dg.cloneNode(!0),n=e.firstChild;return d(n,f(fn,{value:"auto",title:"Auto",get setAssembly(){return t.setAssembly},get setShow(){return t.setShow}}),null),d(n,f(fn,{value:"hg38",title:"GRCh38/hg38",get setAssembly(){return t.setAssembly},get setShow(){return t.setShow}}),null),d(n,f(fn,{value:"hg19",title:"GRCh37/hg19",get setAssembly(){return t.setAssembly},get setShow(){return t.setShow}}),null),d(n,f(fn,{value:"hg18",title:"GRCh36/hg18",get setAssembly(){return t.setAssembly},get setShow(){return t.setShow}}),null),T(()=>e.classList.toggle("hidden",!t.show)),e})()}const Pg=x('<div id="assembly-select-panel" class="select-div relative inline-block text-left" value=""><div><button type="button" class="inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-600 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100" id="assembly-select-div" title="Genome assembly">Genome assembly: </button></div></div>');function Mg(t){const[e,n]=k(!1),r={"":"Auto",hg38:"GRCh38/hg38",hg19:"GRCh37/hg19",hg18:"GRCh36/hg18"};function i(s){n(!e())}return(()=>{const s=Pg.cloneNode(!0),o=s.firstChild,l=o.firstChild;return l.firstChild,l.$$click=i,d(l,()=>r[t.assembly],null),d(l,f(Kn,{class:"-mr-1 ml-2 h-5 w-5"}),null),d(s,f(Rg,{get show(){return e()},get setAssembly(){return t.setAssembly},setShow:n}),null),s})()}F(["click"]);const Lg=x('<a href="#" class="text-gray-600 block px-4 py-2 text-sm text-right hover:bg-gray-100 hover:text-gray-900" role="menuitem" tabindex="-1" value=""></a>');function fs(t){function e(){t.setInputFormat(t.value),t.setShow(!1)}return(()=>{const n=Lg.cloneNode(!0);return n.$$click=e,d(n,()=>t.title),n})()}F(["click"]);const Ug=x('<div id="input-format-select" class="option-list ease-in absolute right-0 z-10 mt-2 w-32 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1"><div class="py-1" role="none"></div></div>');function jg(t){return(()=>{const e=Ug.cloneNode(!0),n=e.firstChild;return d(n,f(fs,{value:"",title:"Auto",get setInputFormat(){return t.setInputFormat},get setShow(){return t.setShow}}),null),d(n,f(oe,{get each(){return t.converters},children:function(r){return f(fs,{get value(){return r.format},get title(){return r.title},get setInputFormat(){return t.setInputFormat},get setShow(){return t.setShow}})}}),null),T(()=>e.classList.toggle("hidden",!t.show)),e})()}const Fg=x('<div id="input-format-select-panel" class="select-div relative inline-block text-left ml-6" value=""><div><button type="button" class="inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-600 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100" id="input-format-select-div" title="Format">Format: </button></div></div>'),{multiuser:zg}=me,{logged:Bg}=he,{serverUrl:Hg}=Q;async function Vg(){if(zg()==!1||Bg()==!0)try{return await(await V.get(Hg+"/submit/converters")).data}catch(t){console.error(t),t.response.responseText=="system_not_ready"}}function Wg(t){const[e,n]=k(!1),[r,i]=k({"":"Auto"}),[s]=Yt(Vg);ie(()=>{var l={"":"Auto"};if(!(s()==null||s()==null)){for(var a=0;a<s().length;a++)l[s()[a].format]=s()[a].title;i(l)}});function o(l){n(!e())}return(()=>{const l=Fg.cloneNode(!0),a=l.firstChild,c=a.firstChild;return c.firstChild,c.$$click=o,d(c,()=>r()[t.inputFormat],null),d(c,f(Kn,{class:"-mr-1 ml-2 h-5 w-5"}),null),d(l,f(jg,{get show(){return e()},get converters(){return s()},get setInputFormat(){return t.setInputFormat},setInputFormats:i,setShow:n}),null),l})()}F(["click"]);const qg=x('<div id="input-upload-list-div" class="w-1/2 flex flex-col justify-center items-center p-2 relative h-full bg-gray-50"><button id="clear_inputfilelist_button" class="text-gray-500 bg-neutral-200 hover:bg-neutral-300 p-1 w-16 rounded-md absolute top-1 left-1">Clear</button><div id="input-upload-list-wrapper" class="flex w-full overflow-auto h-[13rem] absolute bottom-1 bg-gray-50"><div id="input-upload-list" class="h-full overflow-auto"></div></div></div>'),Jg=x('<label id="input-drop-area" for="input-file" class="flex items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-md cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600 relative"><div id="input-drop-box" class="w-1/2"><div class="flex flex-col items-center justify-center pt-5 pb-6"><p class="mb-2 text-sm text-gray-500 dark:text-gray-400"><span class="font-semibold">Click to upload</span> input files</p><button class="mb-2 text-sm text-gray-500 dark:text-gray-400 bg-neutral-200 hover:bg-neutral-300 p-2 rounded-md absolute top-0 right-0">Manually enter variants instead</button></div><input type="file" class="hidden" name="input-file" id="input-file" multiple></div></label>'),Gg=x('<span class="pl-2 text-sm text-gray-600 hover:text-gray-400 cursor-pointer round-md inline-block w-5/6" title="Click to remove"></span>');function Kg(t){const{setShowErrorDialog:e,setErrorDialogTitle:n,setErrorDialogText:r}=tn;function i(l,a){a.preventDefault();for(var c=0;c<t.inputDataDrop.length;c++)if(t.inputDataDrop[c].name==l){t.setInputDataDrop([...t.inputDataDrop.slice(0,c),...t.inputDataDrop.slice(c+1,t.inputDataDrop.length)]);break}}function s(l){const a=l.target.files;for(var c=0;c<a.length;c++)if(a[c].name.indexOf(" ")>=0){n("Problem"),r("Input file names should not have space."),e(!0);break}t.setInputDataDrop([...t.inputDataDrop,...a]),l.target.value=null}function o(l){l.preventDefault(),t.setInputDataDrop([])}return(()=>{const l=Jg.cloneNode(!0),a=l.firstChild,c=a.firstChild,u=c.firstChild,m=u.nextSibling,g=c.nextSibling;return d(l,f(B,{get when(){return t.inputDataDrop.length>0},get children(){const h=qg.cloneNode(!0),b=h.firstChild,y=b.nextSibling,p=y.firstChild;return b.$$click=o,d(p,f(oe,{get each(){return t.inputDataDrop},children:v=>(()=>{const _=Gg.cloneNode(!0);return _.$$click=i,_.$$clickData=v.name,d(_,()=>v.name),_})()})),h}}),a),d(c,f(Ph,{class:"w-10 h-10",color:"#9ca3af"}),u),m.$$click=t.setInputMode,m.$$clickData="paste",g.addEventListener("change",s),l})()}F(["click"]);const Qg=x(`<div id="input-paste-area" class="relative w-full h-[20rem] border-2 border-gray-300 border-dashed rounded-md"><textarea id="input-text" class="font-mono border-0 bg-gray-50 text-gray-600 p-4 resize-none w-full h-full" placeholder="Copy and paste or type input variants. VCF is supported. A quick and simple format is space-delimited one:

chr1 9384934 + A T

which is chromosome, position, strand, a reference allele, and an alternate allele.

Alternatively, if 'Server files' box is checked, paths to input files in the server can be used as well. For example,

/mnt/oakvar/input/sample/sample_1.vcf
"></textarea><div class="top-2 right-3 absolute cursor-pointer" title="Click to go back"></div><div class="absolute bottom-1 right-1 text-gray-400 text-sm"><button value="cravat" class="p-1 text-gray-500 bg-neutral-200 hover:bg-neutral-300">Try an example</button></div></div>`);function Xg(t){function e(){const{serverUrl:r}=Q;t.setAssembly("hg38"),t.setInputFormat("vcf"),fetch(`${r}/submit/input-examples/${t.inputFormat}.${t.assembly}.txt`).then(i=>i.text()).then(i=>{t.changeInputData("paste",i)})}function n(r){t.changeInputData("paste",r.target.value)}return(()=>{const r=Qg.cloneNode(!0),i=r.firstChild,s=i.nextSibling,o=s.nextSibling,l=o.firstChild;return i.$$keyup=n,s.$$click=t.setInputMode,s.$$clickData="drop",d(s,f(Ah,{class:"w-5 h-5 mr-2"})),l.$$click=e,T(()=>i.value=t.inputDataPaste),r})()}F(["keyup","click"]);const Yg=x('<div id="job-name-div" class="mt-4 w-full"><textarea id="job-name" class="font-mono text-sm border-0 bg-gray-100 text-gray-600 p-4 resize-none rounded-md w-full " placeholder="(Optional) job name"></textarea></div>');function Zg(t){function e(n){t.setJobName(n.target.value)}return(()=>{const n=Yg.cloneNode(!0),r=n.firstChild;return r.$$keyup=e,T(()=>n.classList.toggle("hidden",!t.inputExists)),T(()=>r.value=t.jobName),n})()}F(["keyup"]);const em=x('<div id="submit-note-div" class="mt-4 w-full"><textarea id="submit-note" class="font-mono text-sm border-0 bg-gray-100 text-gray-600 p-4 resize-none rounded-md w-full" placeholder="(Optional) note for this job"></textarea></div>');function tm(t){function e(n){t.setJobNote(n.target.value)}return(()=>{const n=em.cloneNode(!0),r=n.firstChild;return r.$$keyup=e,T(()=>n.classList.toggle("hidden",!t.inputExists)),T(()=>r.value=t.jobNote),n})()}F(["keyup"]);const nm=x('<div id="submit-job-button-div" class="mt-4"><button id="submit-job-button" type="button" class="inline-flex items-center h-12 rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">Annotate</button></div>');function rm(t){return(()=>{const e=nm.cloneNode(!0),n=e.firstChild;return Mn(n,"click",t.submitFn,!0),T(()=>e.classList.toggle("hidden",!t.inputExists)),e})()}F(["click"]);const im=x('<div class="flex items-center justify-center ml-6"><input id="default-checkbox" type="checkbox" value="" title="If checked, each input files will be processed separately." class="w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for="default-checkbox" class="ml-2 text-sm font-medium text-gray-700 dark:text-gray-300" title="If checked, each input files will be processed separately.">Separate job per file</label></div>'),sm=x('<div class="flex items-center justify-center ml-6"><input id="default-checkbox" type="checkbox" value="" title="If checked, each input line should be a path to an input file in the server." class="w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for="default-checkbox" class="ml-2 text-sm font-medium text-gray-700 dark:text-gray-300" title="If checked, each input line should be a path to an input file in the server.">Server files</label></div>'),om=x('<div id="input-div" class="w-[40rem] items-center flex flex-col" style="height: calc(100vh - 10rem);"><div class="flex"></div><div class="w-full flex items-center justify-center mt-1" ondragenter="onDragEnterInputFiles(event)" ondragover="onDragOverInputFiles(event)" ondragleave="onDragLeaveInputFiles(event)" ondrop="onDropInputFiles(event)"></div></div>');function lm(t){function e(i,s){t.setInputMode(i),i=="drop"?t.setInputDataDrop(s):i=="paste"&&t.setInputDataPaste(s)}ie(function(){t.inputMode=="drop"?t.setInputExists(t.inputDataDrop.length>0):t.inputMode=="paste"&&t.setInputExists(t.inputDataPaste.length>0)});function n(i){t.setSeparateJobPerFile(!t.separateJobPerFile)}function r(i){t.setServerFileMode(!t.serverFileMode)}return(()=>{const i=om.cloneNode(!0),s=i.firstChild,o=s.nextSibling;return d(s,f(Mg,{get assembly(){return t.assembly},get setAssembly(){return t.setAssembly}}),null),d(s,f(Wg,{get inputFormat(){return t.inputFormat},get setInputFormat(){return t.setInputFormat}}),null),d(s,f(B,{get when(){return t.inputMode=="drop"},get children(){const l=im.cloneNode(!0),a=l.firstChild;return a.$$click=n,T(()=>a.checked=t.separateJobPerFile),l}}),null),d(s,f(B,{get when(){return t.inputMode=="paste"},get children(){const l=sm.cloneNode(!0),a=l.firstChild;return a.$$click=r,T(()=>a.checked=t.serverFileMode),l}}),null),d(o,f(zr,{get children(){return[f($t,{get when(){return t.inputMode=="drop"},get children(){return f(Kg,{get setInputMode(){return t.setInputMode},get inputDataDrop(){return t.inputDataDrop},get setInputDataDrop(){return t.setInputDataDrop}})}}),f($t,{get when(){return t.inputMode=="paste"},get children(){return f(Xg,{get setInputMode(){return t.setInputMode},changeInputData:e,get inputDataPaste(){return t.inputDataPaste},get assembly(){return t.assembly},get setAssembly(){return t.setAssembly},get inputFormat(){return t.inputFormat},get setInputFormat(){return t.setInputFormat}})}})]}})),d(i,f(Zg,{get inputExists(){return t.inputExists},get jobName(){return t.jobName},get setJobName(){return t.setJobName}}),null),d(i,f(tm,{get inputExists(){return t.inputExists},get jobNote(){return t.jobNote},get setJobNote(){return t.setJobNote}}),null),d(i,f(rm,{get inputExists(){return t.inputExists},get submitFn(){return t.submitFn}}),null),i})()}F(["click"]);const am=x('<input class="block w-full text-xs text-gray-900 bg-gray-50 rounded-lg border border-gray-300 cursor-pointer dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400" type="file">'),cm=x('<select class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"></select>'),um=x('<div class="flex flex-col mb-4"><span class="mb-2 font-xs"></span></div>'),dm=x('<input type="text">'),fm=x("<option></option>"),{setModuleOption:hm,getModuleOptions:sv,getModuleOption:gm}=ze;function mm(t){const[e,n]=k(null);ie(function(){const i=gm(t.moduleName,t.option.name);e()==null&&i!=null&&n(i.value)});function r(i){const s=i.target.value;n(i.target.value),hm(t.moduleName,t.option,s)}return(()=>{const i=um.cloneNode(!0),s=i.firstChild;return d(s,()=>t.option.title),d(i,f(zr,{get fallback(){return(()=>{const o=dm.cloneNode(!0);return o.$$keyup=r,T(()=>o.value=e()),o})()},get children(){return[f($t,{get when(){return t.option.method=="file"},get children(){const o=am.cloneNode(!0);return o.addEventListener("change",r),o}}),f($t,{get when(){return t.option.method=="select"},get children(){const o=cm.cloneNode(!0);return o.addEventListener("change",r),o.$$click=function(l){l.stopPropagation()},d(o,f(oe,{get each(){return t.option.options},children:l=>(()=>{const a=fm.cloneNode(!0);return a.value=l,d(a,l),a})()})),T(()=>G(o,"title",t.option.help)),T(()=>o.value=e()),o}})]}}),null),T(()=>G(s,"title",t.option.help)),i})()}F(["click","keyup"]);function pm(){const[t,e]=we({__initial:!0}),[n,r]=we({__initial:!0}),[i,s]=we({__initial:!0});return ie(function(){t.__initial==!0&&e(De({})),n.__initial==!0&&r(De({})),i.__initial==!0&&s(De({}))}),{annotators:t,setAnnotators:e,postaggregators:n,setPostaggregators:r,reporters:i,setReporters:s}}const ai=re(pm),{localModules:Xt}=ze,{remoteModules:bm}=Fe,{annotators:hs,setAnnotators:Rr,postaggregators:gs,setPostaggregators:Pr,reporters:ms,setReporters:Mr}=ai;function ll(t){const n=Xt[t].type;let r=[];Qn(t,r,[]),n=="annotator"?Rr(t,void 0):n=="postaggregator"?Pr(t,void 0):n=="reporter"&&Mr(t,void 0);for(const s of r)s in hs?Rr(s,void 0):s in gs?Pr(s,void 0):s in ms&&Mr(s,void 0);for(const s in{...hs})kt(s);for(const s in{...gs})kt(s);for(const s in{...ms})kt(s)}function Bt(t){const e=[];al(t,e);for(const n of e)ll(n)}function Lr(t){const e=[];Qn(t,e,[]);for(const r of e)ll(r)}function kt(t){vm(t)}function Qn(t,e,n){const r=Xt[t];if(r==null){n.includes(t)==!1&&n.push(t);return}e.includes(t)==!1&&e.push(t);const i=r.conf;if(i==null)return;const s=i.requires;if(s!=null)for(const o of s)Qn(o,e,n)}function al(t,e){for(const n in Xt){const i=Xt[n].conf.requires;if(i==null||i.length==0)continue;[...i].includes(t)&&(al(n,e),n in e||e.push(n))}return e.push(t),e}function vm(t){const e=[t],n=[];Qn(t,e,n);const r=[];for(const i of n){const s=bm[i];(s==null||s.type!="webviewerwidget")&&r.push(s)}if(r.length>0){let i=`The following modules should be installed to run this module:
`;for(const o of r)i+=o.name+`
`;let s={response:{data:{msg:i}}};handleError(s);return}for(const i of e){const s=Xt[i],o=s.type;if(o=="annotator")Rr(i,s);else if(o=="postaggregator")Pr(i,s);else if(o=="reporter")Mr(i,s);else continue}}const ym=x('<div class="relative modulecard relative items-center space-x-3 rounded-lg border border-gray-300 px-6 shadow-sm focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:border-gray-400 p-2 z-0 mb-2"><div class="absolute left-0 bottom-0 w-full p-2 cursor-default" style="background-color: rgba(68, 64, 60, 0.3);"><a class="relative remove-up text-sm h-8 inline-flex items-center rounded-md border border-gray-300 px-2 py-2 text-sm font-medium text-gray-500 cursor-pointer focus:z-20 bg-white hover:bg-gray-100" title="Remove this module and any module depending on this module from analysis"></a><a class="ml-2 relative remove-up-down text-sm h-8 inline-flex items-center rounded-md border border-gray-300 px-2 py-2 text-sm font-medium text-gray-500 cursor-pointer focus:z-20 bg-white hover:bg-gray-100" title="Remove this module and all modules required by this module from analysis"></a></div><div><div class="float-left w-24 h-24 mr-2 flex justify-center items-center"><img class="w-20 rounded-lg"></div><div class="min-w-0 flex-1" style="min-height: 6rem;"><a class="focus:online-none"><p class="text-md font-semibold text-gray-700"></p><p class="text-sm text-gray-500"></p></a></div></div><div class="w-full"></div></div>');function Xn(t){const{serverUrl:e}=Q,{localModules:n}=ze,[r,i]=k(!1),{annotators:s,postaggregators:o,reporters:l}=ai,a=n[t.moduleName];function c(g){return g&&t.moduleName in g}function u(){return c(s)||c(o)||c(l)}function m(g){g.stopPropagation();const h=g.target.closest("a");let b=!1,y=!1;h!=null&&(b=h.classList.contains("remove-up"),y=h.classList.contains("remove-up-down")),t.cardType=="selected"?b?Bt(t.moduleName):y?(Bt(t.moduleName),Lr(t.moduleName)):a.type=="reporter"&&kt(t.moduleName):u()?b?Bt(t.moduleName):y&&(Bt(t.moduleName),Lr(t.moduleName)):kt(t.moduleName)}return(()=>{const g=ym.cloneNode(!0),h=g.firstChild,b=h.firstChild,y=b.nextSibling,p=h.nextSibling,v=p.firstChild,_=v.firstChild,w=v.nextSibling,I=w.firstChild,N=I.firstChild,E=N.nextSibling,A=p.nextSibling;return g.$$click=m,g.addEventListener("mouseleave",S=>i(!1,S)),g.addEventListener("mouseenter",S=>i(!0,S)),d(b,f(Th,{})),d(y,f(oi,{})),d(N,()=>a&&a.title),d(E,()=>a&&a.conf.description),d(A,f(B,{get when(){return(t.cardType=="selected"||a.type=="reporter")&&a.conf.module_options},get children(){return f(oe,{get each(){return a.conf.module_options},children:S=>f(mm,{get moduleName(){return t.moduleName},option:S})})}})),T(S=>{const C=!!u(),O=t.cardType!="selected"||a.type=="reporter",P=t.cardType!="selected",z=!!(t.cardType=="selected"&&a.conf.module_options&&u()),R=a&&a.name,U=a&&a.kind,q=!r()||!u(),H=e+"/store/locallogo?module="+t.moduleName;return C!==S._v$&&g.classList.toggle("checked",S._v$=C),O!==S._v$2&&g.classList.toggle("cursor-copy",S._v$2=O),P!==S._v$3&&g.classList.toggle("max-h-64",S._v$3=P),z!==S._v$4&&g.classList.toggle("pb-16",S._v$4=z),R!==S._v$5&&G(g,"name",S._v$5=R),U!==S._v$6&&G(g,"kind",S._v$6=U),q!==S._v$7&&h.classList.toggle("hidden",S._v$7=q),H!==S._v$8&&G(_,"src",S._v$8=H),S},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),g})()}F(["click"]);const _m=x('<div id="report-choice-div" class="w-[36rem] flex flex-col justify-center items-center"><div class="text-md text-gray-600">(Optional) reporters to run</div><div id="report-choice-items" class="w-96 grid gap-2 justify-center overflow-y-auto bg-gray-100 py-4 rounded-md" style="height: calc(100vh - 10rem);"></div></div>'),wm=async()=>{const{serverUrl:t}=Q;return(await(await fetch(t+"/submit/reporttypes")).json()).valid};function xm(){const[t]=Yt(wm);return(()=>{const e=_m.cloneNode(!0),n=e.firstChild,r=n.nextSibling;return d(r,f(oe,{get each(){return t()},children:i=>f(Xn,{moduleName:i+"reporter",cardType:"selected"})})),e})()}const km=x('<div id="cta-analysis-module-choice" class="absolute inset-x-0 bottom-0 cursor-pointer"><div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"><div class="rounded-lg bg-indigo-50 p-2 shadow-md sm:p-3"><div class="flex flex-wrap items-center justify-between"><div class="flex w-0 flex-1 items-center"><p class="ml-3 truncate font-medium text-gray-500 text-center"><span>Click to select analysis modules</span></p></div></div></div></div></div>');function $m(t){function e(){document.querySelector("#analysis-module-choice-div").scrollIntoView({behavior:"smooth"})}return(()=>{const n=km.cloneNode(!0),r=n.firstChild,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild;return n.$$click=e,d(o,f(wh,{color:"#6b7280"}),l),n})()}F(["click"]);const Sm=x('<button type="button" class="filter-category"></button>');function yt(t){function e(n){t.setFilterCategory(t.value)}return(()=>{const n=Sm.cloneNode(!0);return n.$$click=e,d(n,()=>t.title),T(r=>{const i=t.value==t.filterCategory,s=t.pos=="left",o=t.pos=="right";return i!==r._v$&&n.classList.toggle("pinned",r._v$=i),s!==r._v$2&&n.classList.toggle("rounded-l-lg",r._v$2=s),o!==r._v$3&&n.classList.toggle("rounded-r-md",r._v$3=o),r},{_v$:void 0,_v$2:void 0,_v$3:void 0}),T(()=>n.value=t.value),n})()}F(["click"]);const{localModules:Im}=ze;function Dn(t){return Object.keys(t).length==0}function Ur(t,e){let n=[];for(const[r,i]of Object.entries(Im)){let s=!0;r=="tagsampler"||r=="vcfinfo"||r=="varmeta"||i.type!="annotator"&&i.type!="postaggregator"?s=!1:e!=null&&(e=="no tag"?i.tags.length>0&&(s=!1):i.tags.indexOf(e)==-1&&(s=!1)),s&&t!=null&&(s=!1,(r.indexOf(t)>=0||i.title.indexOf(t)>=0||i.description&&i.description.indexOf(t)>=0)&&(s=!0)),s&&n.push(r)}return n.sort(),n}function cl(t){let o="";return t>1099511627776?o=(t/1099511627776).toFixed(1)+" TB":t>1073741824?o=(t/1073741824).toFixed(1)+" GB":t>1048576?o=(t/1048576).toFixed(1)+" MB":t>1024?o=(t/1024).toFixed(1)+" KB":o=t+"B",o}const Tm=x('<div class="flex mb-2"><label for="search" class="sr-only">Search</label><input type="text" name="search" class="block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm mr-2 w-48" placeholder="Search"><button type="button" class="items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">Add all</button><button type="button" class="items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ml-2">Remove all</button></div>');function ul(t){function e(i){t.setSearchText(i.target.value)}function n(){const i=Ur(t.searchText,t.selectedTag);for(const s of i)kt(s)}function r(){const i=Ur(t.searchText,t.selectedTag);for(const s of i)Bt(s),Lr(s)}return(()=>{const i=Tm.cloneNode(!0),s=i.firstChild,o=s.nextSibling,l=o.nextSibling,a=l.nextSibling;return o.$$keyup=e,l.$$click=n,a.$$click=r,T(()=>o.value=t.searchText),i})()}F(["keyup","click"]);const Cm=x('<div class="filtered-modules-div overflow-auto pr-2" style="height: calc(95vh - 10rem);"></div>');function dl(t){return(()=>{const e=Cm.cloneNode(!0);return d(e,f(oe,{get each(){return Ur(t.searchText,t.selectedTag)},children:n=>f(Xn,{moduleName:n})})),T(n=>{const r=`filtered-modules-${t.kind}`,i=t.noCols==2,s=t.noCols==1;return r!==n._v$&&G(e,"id",n._v$=r),i!==n._v$2&&e.classList.toggle("grid-cols-2",n._v$2=i),s!==n._v$3&&e.classList.toggle("grid-cols-1",n._v$3=s),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),e})()}const Em=x('<div id="analysis-module-filter-panel-all" class="analysis-module-filter-panel w-full mt-4 overflow-auto"></div>');function Nm(t){const[e,n]=k(null),[r,i]=k(null);return(()=>{const s=Em.cloneNode(!0);return d(s,f(ul,{kind:"all",get searchText(){return e()},setSearchText:n,get selectedTag(){return r()}}),null),d(s,f(dl,{kind:"all",side:"local",noCols:1,get searchText(){return e()}}),null),T(()=>s.classList.toggle("hidden",t.filterCategory!="all")),s})()}const Am=x('<div class="relative flex items-start mb-2"><div class="flex items-center"><input type="radio" name="module-tag" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label class="ml-3 block text-sm font-medium text-gray-600"></label></div></div>');function Om(t){return t.replace(" ","_")}function Dm(t){return t.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function fl(t){const e=`module-tag-radio-${Om(t.value)}`;return(()=>{const n=Am.cloneNode(!0),r=n.firstChild,i=r.firstChild,s=i.nextSibling;return i.$$click=t.setSelectedTag,i.$$clickData=t.value,G(i,"id",e),G(s,"for",e),d(s,()=>Dm(t.value)),T(()=>G(n,"title",t.title)),T(()=>i.value=t.value),T(()=>i.checked=t.selectedTag==t.value),n})()}F(["click"]);const Rm=x('<div id="analysis-module-filter-panel-tags" class="analysis-module-filter-panel w-full mt-4 overflow-auto grid grid-cols-3"><div id="analysis-module-filter-items-tags" class="col-span-1 flex flex-col justify-leading pl-1 overflow-y-auto" style="height: calc(95vh - 8rem);"></div><div class="col-span-2"></div></div>'),Pm=async()=>{const{serverUrl:t}=Q;let e=await(await fetch(t+"/submit/tags_annotators_postaggregators")).json();return e.push("no tag"),e};function Mm(t){const[e]=Yt(Pm),[n,r]=k(null),[i,s]=k(null);return(()=>{const o=Rm.cloneNode(!0),l=o.firstChild,a=l.nextSibling;return d(l,f(oe,{get each(){return e()},children:c=>f(fl,{value:c,setSelectedTag:s})})),d(a,f(ul,{kind:"tags",get searchText(){return n()},setSearchText:r,get selectedTag(){return i()}}),null),d(a,f(dl,{kind:"tags",noCols:1,get selectedTag(){return i()},get searchText(){return n()}}),null),T(()=>o.classList.toggle("hidden",t.filterCategory!="tags")),o})()}const Lm=x('<div class="analysis-module-filter-wrapper col-span-7"><div id="analysis-module-filter-kinds" class="w-full"><div class="inline-flex rounded-md shadow-sm" role="group"></div></div></div>');function Um(t){const[e,n]=k("all");return(()=>{const r=Lm.cloneNode(!0),i=r.firstChild,s=i.firstChild;return d(s,f(yt,{value:"all",title:"All",pos:"left",get filterCategory(){return e()},setFilterCategory:n}),null),d(s,f(yt,{value:"tags",title:"Tags",pos:"right",get filterCategory(){return e()},setFilterCategory:n}),null),d(r,f(Nm,{get filterCategory(){return e()},get localModules(){return t.localModules}}),null),d(r,f(Mm,{get filterCategory(){return e()},get localModules(){return t.localModules}}),null),r})()}const jm=x('<div class="col-span-4"><div class="text-gray-600 bg-gray-100 rounded-md border border-transparent font-medium px-3 py-1.5 h-[34px]">Selected analysis modules</div><div class="flex mb-2 mt-4"><button type="button" class="items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 h-[38px]">Clear</button></div><div class="relative filtered-modules-div overflow-auto pr-2"></div></div>');function Fm(){const{annotators:t,setAnnotators:e,postaggregators:n,setPostaggregators:r}=ai;function i(){let o=[];for(const l in t)o.push(l);for(const l in n)o.push(l);return o.sort(),o}function s(){e({}),r({})}return(()=>{const o=jm.cloneNode(!0),l=o.firstChild,a=l.nextSibling,c=a.firstChild,u=a.nextSibling;return c.$$click=s,u.style.setProperty("height","calc(100vh - 12rem)"),d(u,f(oe,{get each(){return i()},children:function(m){return f(Xn,{moduleName:m,cardType:"selected"})}})),o})()}F(["click"]);const zm=x('<div id="cta-input" class="absolute inset-x-0 top-0 cursor-pointer"><div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"><div class="rounded-lg bg-indigo-50 p-2 shadow-md sm:p-3"><div class="flex flex-wrap items-center justify-between"><div class="flex w-0 flex-1 items-center"><p class="ml-3 truncate font-medium text-gray-500 text-center"><span>Go back to the input panel</span></p></div></div></div></div></div>');function Bm(t){function e(){document.querySelector("#input-div").scrollIntoView({behavior:"smooth"})}return(()=>{const n=zm.cloneNode(!0),r=n.firstChild,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild;return n.$$click=e,d(o,f(kh,{color:"#6b7280"}),l),n})()}F(["click"]);const Hm=x('<div id="analysis-module-choice-div" class="relative container mt-6 mb-4 snap-center flex justify-center max-w-7xl max-w-7xl"><div id="analysis-module-filter-div" class="bg-white p-4 rounded-md ml-4 mt-4 overflow-auto flex flex-col gap-8 text-gray-600 h-[95vh] w-full"><div id="analysis-module-div" class="grid grid-cols-12 gap-2 mt-8" style="height: calc(95vh - 20rem);"><div class="col-span-1 flex flex-col justify-center content-center items-center"></div></div></div></div>');function Vm(t){return(()=>{const e=Hm.cloneNode(!0),n=e.firstChild,r=n.firstChild,i=r.firstChild;return e.style.setProperty("height","calc(100vh - 3rem)"),d(e,f(Bm,{}),n),d(r,f(Um,{get localModules(){return t.localModules}}),i),d(i,f(xh,{})),d(r,f(Fm,{}),null),e})()}const Wm=x('<li><a href="#" class="block hover:bg-gray-50"><div class="py-4"><div class="flex items-center justify-between"><p class="truncate text-sm font-medium text-indigo-600"></p></div><div class="mt-2 sm:flex sm:justify-between"><div class="mt-2 w-full flex items-center text-sm text-gray-500 sm:mt-0"><div class="w-full bg-gray-200 rounded-full dark:bg-gray-700"><div class="bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full">%</div></div></div></div></div></a></li>');function qm(t){return(()=>{const e=Wm.cloneNode(!0),n=e.firstChild,r=n.firstChild,i=r.firstChild,s=i.firstChild,o=i.nextSibling,l=o.firstChild,a=l.firstChild,c=a.firstChild,u=c.firstChild;return d(s,()=>t.fileName),d(c,()=>t.progress,u),T(()=>c.style.setProperty("width",t.progress+"%")),e})()}const Jm=x('<div class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true"><div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div class="relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-2xl sm:p-6"><div><div class="mt-3 text-center sm:mt-5"><ul role="list" class="divide-y divide-gray-200"></ul></div></div><div class="mt-5 sm:mt-6"><button type="button" class="inline-flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:text-sm">Cancel</button></div></div></div></div></div>');function Gm(t){function e(){t.controller.abort()}return(()=>{const n=Jm.cloneNode(!0),r=n.firstChild,i=r.nextSibling,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.firstChild,c=a.firstChild,u=l.nextSibling,m=u.firstChild;return d(c,f(qm,{fileName:"Uploading...",get progress(){return t.uploadState.progress}})),m.$$click=e,n})()}F(["click"]);const Km=x('<div class="tabcontent p-4 snap-y snap-mandatory h-screen overflow-y-auto"><div class="relative container flex gap-8 snap-center max-w-7xl h-[95vh] justify-center items-start"></div></div>'),Qm=x("<div>Loading...</div>"),{tabName:Xm}=tt,{localModules:Ym,getModuleOptions:Zm}=ze,{serverUrl:ep,withCredentials:tp}=Q,{logged:ps}=he,{multiuser:bs}=me;function np(t){const[e,n]=k("drop"),[r,i]=k(""),[s,o]=k([]),[l,a]=k(""),[c,u]=k({}),[m,g]=k({}),[h,b]=k([]),[y,p]=k(""),[v,_]=k(!1),[w,I]=k(null),[N,E]=k(null),[A,S]=k(!1),[C,O]=k({}),[P,z]=k(!1),[R,U]=k(!1);let q=[],H=null,K={},W;ie(function(){bs()&&!ps()&&ue()});function ue(){n("drop"),i(""),o([]),a([]),u([]),g([]),b([]),p(""),_(!1),I(null),E(null),S(!1),O({})}function Se(){return l().startsWith("#serverfile")}function rt(){let J=[],be=l().split(`
`);for(var Mt=1;Mt<be.length;Mt++){let ve=be[Mt];ve==""||ve.startsWith("#")||J.push(ve.trim())}J.length>0&&(K.inputServerFiles=J)}function it(){q=[];const J=new Blob([l()],{type:"text/plain"});q.push(new File([J],"input"))}function mt(){Se()?rt():it()}function Be(){K.annotators=[];for(const J in c())K.annotators.push(J)}function Pt(){K.postaggregators=[];for(const J in m())K.postaggregators.push(J)}function Cl(){K.reports=[];for(const J in h())K.reports.push(J.substring(0,J.lastIndexOf("reporter")))}function El(){K.genome=y()}function Nl(){K.input_format=r()}function Al(){K.job_name=w()}function Ol(){K.note=N()}function Dl(J){let be={};for(const ve in c())be[ve]=c()[ve];for(const ve in m())be[ve]=m()[ve];for(const ve in h())be[ve]=h()[ve];const Mt=Zm(be,J);K.module_options=Mt}function hi(){W=new AbortController,S(!0),O({progress:0}),V({method:"post",url:ep+"/submit/submit?"+Math.random(),data:H,transformRequest:()=>H,signal:W.signal,withCredentials:tp,onUploadProgress:J=>{let be=Math.round(J.progress*100);O({progress:be})}}).then(function(J){S(!1),setTimeout(function(){t.setJobsTrigger(!t.jobsTrigger)},500)}).catch(function(J){J.code!="ERR_CANCELED"&&Z(J),O({}),S(!1)})}function Rl(){K.combine_input=P()!=!0}function gi(){q={},e()=="drop"?q=s():e()=="paste"&&mt()}function Pl(){if(q.length>0)for(var J=0;J<q.length;J++)H.append("file_"+J,q[J])}function Ml(J){H.append("file_"+J,q[J])}function Ll(){H=new FormData}function mi(J){Ll(),K={},P()!=!0?Pl():Ml(J),Ul()}function Ul(){Be(),Pt(),Cl(),El(),Nl(),Rl(),Al(),Ol(),Dl(H),K.writeadmindb=!0,H.append("options",JSON.stringify(K))}function jl(){gi(),mi(),hi()}function Fl(){gi();for(let J=0;J<q.length;J++)mi(J),hi()}function zl(){P()==!0?Fl():jl()}return(()=>{const J=Km.cloneNode(!0),be=J.firstChild;return d(be,f(B,{get when(){return bs()==!1||ps()==!0},get children(){return f(lm,{get inputMode(){return e()},setInputMode:n,get inputDataDrop(){return s()},setInputDataDrop:o,get inputDataPaste(){return l()},setInputDataPaste:a,get assembly(){return y()},setAssembly:p,get inputFormat(){return r()},setInputFormat:i,get inputExists(){return v()},setInputExists:_,get jobName(){return w()},setJobName:I,get jobNote(){return N()},setJobNote:E,submitFn:zl,get separateJobPerFile(){return P()},setSeparateJobPerFile:z,get serverFileMode(){return R()},setServerFileMode:U})}}),null),d(be,f(B,{get when(){return v()},get children(){return[f(B,{get when(){return!Dn(Ym)},get fallback(){return Qm.cloneNode(!0)},get children(){return f(xm,{})}}),f($m,{})]}}),null),d(J,f(B,{get when(){return v()},get children(){return f(Vm,{})}}),null),d(J,f(B,{get when(){return A()},get children(){return f(Gm,{get uploadState(){return C()},controller:W})}}),null),T(()=>J.classList.toggle("hidden",Xm()!="submit")),J})()}const rp=x('<a href="#" class="text-gray-600 block px-4 py-2 text-sm text-right hover:bg-gray-100 hover:text-gray-900" role="menuitem" tabindex="-1" value=""></a>');function ip(t){function e(){t.setAction(t.optionValue),t.execute(),t.setShow(!1)}return(()=>{const n=rp.cloneNode(!0);return n.$$click=e,d(n,()=>t.optionTitle),n})()}F(["click"]);const sp=x('<div class="option-list ease-in absolute right-0 z-10 mt-12 w-24 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu"><div class="py-1" role="none"></div></div>');function op(t){return(()=>{const e=sp.cloneNode(!0),n=e.firstChild;return d(n,f(oe,{get each(){return t.options},children:function(r){return f(ip,{get optionValue(){return r.value},get optionTitle(){return r.title},get execute(){return t.execute},get setAction(){return t.setAction},get setShow(){return t.setShow}})}})),T(()=>e.classList.toggle("hidden",!t.show)),e})()}const lp=x('<div class="select-div relative inline-flex text-left"><div><button type="button" class="inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-600 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100" id="assembly-select-div" title="Job action">Action</button></div></div>');function ap(t){const[e,n]=k(!1),[r,i]=k(""),s=[{value:"abort",title:"Abort"},{value:"delete",title:"Delete"}];function o(){t.performJobAction(r())}function l(a){n(!e())}return(()=>{const a=lp.cloneNode(!0),c=a.firstChild,u=c.firstChild;return u.firstChild,u.$$click=l,d(u,f(Kn,{class:"-mr-1 ml-2 h-5 w-5"}),null),d(a,f(op,{get show(){return e()},options:s,execute:o,setAction:i,setShow:n}),null),a})()}F(["click"]);const cp=x('<div class="flex bg-white pb-2 mt-2"><div class="flex"><nav class="isolate inline-flex rounded-md shadow-sm ml-8" aria-label="Pagination"><a href="#" class="jobs-table-page-nav-btn relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20"></a><span aria-current="page" class="relative z-10 inline-flex items-center border bg-white border-gray-300 text-gray-500 px-4 py-2 text-sm font-medium focus:z-20"></span><a href="#" class="jobs-table-page-nav-btn relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20"></a><span class="relative inline-flex items-center border-gray-300 bg-white ml-4 px-2 py-2 text-sm font-medium text-gray-500">Go to page</span><input type="text" class="relative inline-flex items-center rounded-md w-12 border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500"><a href="#" class="relative inline-flex items-center rounded-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20">Go</a><span class="relative inline-flex items-center border-gray-300 bg-white ml-4 px-2 py-2 text-sm font-medium text-gray-500">Show</span><input type="text" class="relative inline-flex items-center rounded-md w-12 border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500"><a href="#" class="relative inline-flex items-center rounded-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20">jobs per page</a><a href="#" class="relative inline-flex items-center rounded-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20 ml-4"></a></nav></div></div>');function up(t){function e(){let o=t.pageno;o=o-1,o<=0&&(o=1),o!=t.pageno&&t.setPageno(o)}function n(){let o=t.pageno;o=o+1,o!=t.pageno&&t.setPageno(o)}function r(o){let l=o.target.value;try{l=parseInt(l)}catch(a){console.error(a);return}l<1&&(l=1),t.setPageno(l)}function i(o){let l=o.target.value;try{l=parseInt(l)}catch(a){console.error(a);return}t.setPagesize(l)}function s(o){t.setJobsTrigger(!t.jobsTrigger)}return(()=>{const o=cp.cloneNode(!0),l=o.firstChild,a=l.firstChild,c=a.firstChild,u=c.nextSibling,m=u.nextSibling,g=m.nextSibling,h=g.nextSibling,b=h.nextSibling,y=b.nextSibling,p=y.nextSibling,v=p.nextSibling,_=v.nextSibling;return d(l,f(ap,{get performJobAction(){return t.performJobAction}}),a),c.$$click=e,d(c,f($h,{class:"w-5 h-5"})),d(u,()=>t.pageno),m.$$click=n,d(m,f(Sh,{class:"w-5 h-5"})),h.addEventListener("change",r),p.addEventListener("change",i),_.$$click=s,d(_,f(Ch,{class:"w-5 h-5"})),T(()=>h.value=t.pageno),T(()=>p.value=t.pagesize),o})()}F(["click"]);const dp=x("<a></a>");function wn(t){return(()=>{const e=dp.cloneNode(!0);return Mn(e,"click",t.clickFn,!0),d(e,()=>t.children),T(n=>{const r="relative text-sm h-8 inline-flex items-center rounded-md border border-gray-300 px-2 py-2 text-sm font-medium text-gray-500 cursor-pointer focus:z-20 "+t.bgColor+" "+t.bgHoverColor,i=t.hrefValue,s=t.targetValue;return r!==n._v$&&ct(e,n._v$=r),i!==n._v$2&&G(e,"href",n._v$2=i),s!==n._v$3&&G(e,"target",n._v$3=s),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),e})()}F(["click"]);const vs=x("<div></div>"),fp=x('<span class="inline-flex rounded-full bg-green-100 px-2 text-xs font-semibold leading-5 text-green-800"></span>'),hp=x('<span class="inline-flex rounded-full bg-amber-100 px-2 text-xs font-semibold leading-5 text-amber-800"></span>'),gp=x('<span class="inline-flex rounded-full bg-red-100 px-2 text-xs font-semibold leading-5 text-red-800"></span>'),mp=x('<span class="inline-flex text-xs"></span>'),pp=x('<tr class="text-sm h-16"><td scope="col" class="relative w-12 px-6 sm:w-16 sm:px-8 bg-gray-50"><input type="checkbox" class="absolute left-4 top-1/2 -mt-2 h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 sm:left-6"></td><td class="jobs-table-td"></td><td class="jobs-table-td bg-gray-50"></td><td class="jobs-table-td"></td><td class="jobs-table-td bg-gray-50"></td><td class="jobs-table-td"></td><td class="jobs-table-td bg-gray-50 text-xs"></td><td class="jobs-table-td"></td><td class="jobs-table-td bg-gray-50"></td><td class="jobs-table-td"></td></tr>');function bp(t){return t=="Finished"||t=="Error"||t=="Aborted"}function vp(t){const{serverUrl:e,withCredentials:n}=Q,r=1e4;let i=null;Ms(()=>clearInterval(i));function s(){t.changeJobChecked(t.job.uid),t.setAllMarksOn(null)}function o(){V.get(e+"/submit/jobstatus",{params:{uid:t.job.uid},withCredentials:n}).then(function(p){const v=p.data;bp(v)&&clearInterval(i),t.changeJobStatus(t.job.uid,v)}).catch(function(p){console.error(p)})}function l(){const p=t.job.status;p!="Finished"&&p!="Error"&&p!="Aborted"&&(i=setInterval(function(){o()},r))}function a(){return t.job.status=="Finished"}function c(){return a()?f(wn,{children:"View",get hrefValue(){return e+"/result/nocache/index.html?uid="+t.job.uid},targetValue:"_blank",bgColor:"bg-sky-100",bgHoverColor:"hover:bg-sky-200"}):vs.cloneNode(!0)}function u(){return f(wn,{children:"Log",get hrefValue(){return e+"/submit/joblog?uid="+t.job.uid},targetValue:"_blank",bgColor:"bg-gray-100",bgHoverColor:"hover:bg-gray-200"})}function m(){return a()?f(wn,{children:"DB",get hrefValue(){return e+"/submit/jobdb?uid="+t.job.uid},targetValue:"_blank",bgColor:"bg-gray-100",bgHoverColor:"hover:bg-gray-200"}):vs.cloneNode(!0)}function g(){const p=t.job.status;return p=="Finished"?(()=>{const v=fp.cloneNode(!0);return d(v,()=>t.job.status),v})():p=="Aborted"?(()=>{const v=hp.cloneNode(!0);return d(v,()=>t.job.status),v})():p=="Error"?(()=>{const v=gp.cloneNode(!0);return d(v,()=>t.job.status),v})():(()=>{const v=mp.cloneNode(!0);return d(v,()=>t.job.status),v})()}function h(){return t.job.info_json.orig_input_fname?t.job.info_json.orig_input_fname.join(", "):""}function b(){return(""+new Date(t.job.info_json.submission_time)).split("GMT")[0]}function y(){let p=[];const v=t.job.info_json;if(!v)return"";const _=v.annotators;if(_)for(const I of _)I!="original_input"&&p.push(I);const w=v.postaggregators;if(w)for(const I of w)p.push(I);return p.join(", ")}return l(),(()=>{const p=pp.cloneNode(!0),v=p.firstChild,_=v.firstChild,w=v.nextSibling,I=w.nextSibling,N=I.nextSibling,E=N.nextSibling,A=E.nextSibling,S=A.nextSibling,C=S.nextSibling,O=C.nextSibling,P=O.nextSibling;return v.$$click=s,d(w,()=>t.job.name),d(I,g),d(N,c),d(E,h),d(A,y),d(S,b),d(C,u),d(O,m),d(P,()=>t.job.info_json.note),T(()=>_.checked=t.job.checked),p})()}F(["click"]);const yp=x('<div class="flex flex-col"><div class="relative shadow ring-1 ring-black ring-opacity-5 md:rounded-lg overflow-auto"><table class="table-fixed divide-y divide-gray-300"><thead class="table-header-group bg-gray-50 block"><tr><th scope="col" class="relative w-12 px-6 sm:w-16 sm:px-8"><input type="checkbox" class="absolute left-4 top-1/2 -mt-2 h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 sm:left-6"></th><th scope="col" class="jobs-table-th min-w-[10rem]">Name</th><th scope="col" class="jobs-table-th min-w-[5rem]">State</th><th scope="col" class="jobs-table-th min-w-[5rem]">View</th><th scope="col" class="jobs-table-th min-w-[20rem]">Input</th><th scope="col" class="jobs-table-th min-w-[10rem]">Modules</th><th scope="col" class="jobs-table-th min-w-[8rem]">Submitted</th><th scope="col" class="jobs-table-th min-w-[5rem]">Log</th><th scope="col" class="jobs-table-th min-w-[5rem]">DB</th><th scope="col" class="jobs-table-th w-full">Note</th></tr></thead><tbody class="table-row-group divide-y divide-gray-200 bg-white block overflow-auto h-[36rem]"></tbody></table></div></div>');function _p(t){const[e,n]=k(null);function r(){if(e()==!0?n(!1):(e()==null||e()==!1)&&n(!0),e()==!0)for(const i of t.jobs)t.changeJobChecked(i.uid,!0);else if(e()==!1)for(const i of t.jobs)t.changeJobChecked(i.uid,!1)}return(()=>{const i=yp.cloneNode(!0),s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.firstChild,c=a.firstChild,u=c.firstChild,m=l.nextSibling;return u.$$click=r,d(m,f(oe,{get each(){return t.jobs},children:g=>f(vp,{job:g,get changeJobStatus(){return t.changeJobStatus},get changeJobChecked(){return t.changeJobChecked},setAllMarksOn:n})})),T(()=>u.checked=e()),i})()}F(["click"]);const wp=x('<div class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true"><div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div class="relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:p-6"><div><div class="text-center"><p class="text-sm text-gray-500"></p></div></div></div></div></div></div>');function xp(t){return(()=>{const e=wp.cloneNode(!0),n=e.firstChild,r=n.nextSibling,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.firstChild;return d(a,()=>t.msg),T(()=>e.classList.toggle("hidden",t.msg==null)),e})()}const kp=x('<div id="tab_jobs" class="tabcontent px-6 mb-4"><div></div></div>'),{serverUrl:ys,withCredentials:_s}=Q,{logged:$p,setLogged:Sp}=he,{multiuser:Ip}=me;function Tp(t){const{tabName:e}=tt,[n,r]=we([]),[i,s]=k(1),[o,l]=k(10),[a,c]=k(null);ie(function(){i(),o(),t.jobsTrigger,(Ip()==!1||$p()==!0)&&g()});function u(y,p){r(v=>v.uid==y,"status",p)}function m(y,p){p==null?r(v=>v.uid==y,"checked",v=>!v):r(v=>v.uid==y,"checked",p)}function g(){V.post(ys+"/submit/jobs",{pageno:i(),pagesize:o()},{withCredentials:_s}).then(function(y){if(y.status=="error"){Sp(!1);return}const p=y.data;r(p)}).catch(function(y){console.error(y),y.response.status==404&&s(i()-1)})}function h(y,p){const v=y.map(_=>_.uid);V.post(ys+"/submit/delete_jobs",{uids:v,abort_only:p},{withCredentials:_s}).then(function(){t.setJobsTrigger(!t.jobsTrigger),c(null)}).catch(function(_){console.error(_),c(null)})}function b(y){const p=n.filter(v=>v.checked);y=="delete"?(c("Deleting jobs..."),h(p,!1)):y=="abort"&&(c("Aborting jobs..."),h(p,!0))}return(()=>{const y=kp.cloneNode(!0),p=y.firstChild;return d(p,f(up,{get pageno(){return i()},setPageno:s,get pagesize(){return o()},setPagesize:l,get jobsTrigger(){return t.jobsTrigger},get setJobsTrigger(){return t.setJobsTrigger},performJobAction:b}),null),d(p,f(_p,{jobs:n,changeJobStatus:u,changeJobChecked:m}),null),d(y,f(xp,{get msg(){return a()}}),null),T(()=>y.classList.toggle("hidden",e()!="jobs")),y})()}const Cp=(t,e)=>{const n=ws(t),r=ws(e),i=n.pop(),s=r.pop(),o=$s(n,r);return o!==0?o:i&&s?$s(i.split("."),s.split(".")):i||s?i?-1:1:0},Ep=(t,e,n)=>{Dp(n);const r=Cp(t,e);return hl[n].includes(r)},Np=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,ws=t=>{if(typeof t!="string")throw new TypeError("Invalid argument expected string");const e=t.match(Np);if(!e)throw new Error(`Invalid argument not valid semver ('${t}' received)`);return e.shift(),e},xs=t=>t==="*"||t==="x"||t==="X",ks=t=>{const e=parseInt(t,10);return isNaN(e)?t:e},Ap=(t,e)=>typeof t!=typeof e?[String(t),String(e)]:[t,e],Op=(t,e)=>{if(xs(t)||xs(e))return 0;const[n,r]=Ap(ks(t),ks(e));return n>r?1:n<r?-1:0},$s=(t,e)=>{for(let n=0;n<Math.max(t.length,e.length);n++){const r=Op(t[n]||"0",e[n]||"0");if(r!==0)return r}return 0},hl={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]},Ss=Object.keys(hl),Dp=t=>{if(typeof t!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof t}`);if(Ss.indexOf(t)===-1)throw new Error(`Invalid operator, expected one of ${Ss.join("|")}`)};function Rp(){const[t,e]=we({}),[n,r]=k(!1),[i,s]=k(!1),{localModules:o}=ze,{remoteModules:l,getFilteredRemoteModules:a}=Fe;ie(function(){!Dn(o)&&!Dn(l)&&c()});function c(){let b={},y=0;for(const p in l)if(p in o){b[p]={installed:!0};const v=o[p],_=l[p],w=v.version,I=_.latest_version;Ep(I,w,">")==!0?(b[p].update_available=!0,y+=1):b[p].update_available=!1}else b[p]={installed:!1,update_available:!1};e(b),s(y),r(y>0)}function u(b,y,p,v,_){const w=[];if(t==null||Object.keys(l).length==0)return w;for(const I of a(b,y,p,_)){const N=t[I];let E=!1;N.installed==!0&&(v==!0?N.update_available==!0&&(E=!0):E=!0),E==!0&&w.push(I)}return w}function m(b,y,p,v){const _=[];if(t==null||Object.keys(l).length==0)return _;for(const w of a(b,y,p,v))t[w].installed!=!0&&_.push(w);return _}function g(b){return t==null?!1:t[b].installed}function h(b){return t[b].update_available}return{moduleInstallStates:t,setModuleInstallStates:e,makeModuleInstallStates:c,updateAvailable:n,numUpdateAvailable:i,getInstalledModules:u,getNotInstalledModules:m,installed:g,updateAvailableForModule:h}}const nt=re(Rp);function Pp(){const[t,e]=k(null),[n,r]=k(null);return{showDetailCard:t,setShowDetailCard:e,detailModuleName:n,setDetailModuleName:r}}const gl=re(Pp),Mp=x('<img class="w-20 rounded-lg">'),Lp=x('<p class="text-sm text-gray-500"></p>'),Up=x('<span class="inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800">Installed</span>'),jp=x('<span class="inline-flex items-center rounded-full bg-yellow-100 px-2.5 py-0.5 text-xs font-medium text-yellow-800">New</span>'),Fp=x('<span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800">Installed </span>'),zp=x('<div class="absolute top-1 right-1"></div>'),Bp=x('<div class="group relative modulecard relative items-center space-x-3 rounded-lg border border-gray-300 bg-white px-6 shadow-sm focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:border-gray-400 p-2 z-0 mb-2"><div class="absolute left-0 bottom-0 w-full p-2 cursor-default" style="background-color: rgba(68, 64, 60, 0.3);"><a class="relative remove-button text-sm h-8 inline-flex items-center rounded-md border border-gray-300 px-2 py-2 text-sm font-medium text-gray-500 cursor-pointer focus:z-20 bg-white hover:bg-gray-100">Remove</a></div><div class="flex"><div class="w-24 h-24 mr-2 flex justify-center items-center cursor-help"></div><div class="min-w-0 flex-1" style="min-height: 6rem;"><p><span class="text-md font-semibold text-gray-700"></span><span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"></span></p><p><span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"></span><span class="ml-2 inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"></span></p><p></p></div></div></div>'),Hp=x('<span class="break-all"></span>');function de(t){const[e,n]=k(!1),{serverUrl:r}=Q,{remoteModules:i}=Fe,{localModules:s}=ze,{installed:o,updateAvailableForModule:l}=nt,{setShowDetailCard:a,setDetailModuleName:c}=gl,u=i[t.moduleName],m=s[t.moduleName],{addToInstallQueue:g,removeFromInstallQueue:h,inQueue:b,uninstallModule:y}=gt,{admin:p}=he,{multiuser:v}=me;function _(){return o(t.moduleName)}function w(N){c(t.moduleName),a(!0)}function I(){b(t.moduleName)?h(t.moduleName):_()&&y(t.moduleName)}return f(B,{when:u!=null,get children(){const N=Bp.cloneNode(!0),E=N.firstChild,A=E.firstChild,S=E.nextSibling,C=S.firstChild,O=C.nextSibling,P=O.firstChild,z=P.firstChild,R=z.nextSibling,U=P.nextSibling,q=U.firstChild,H=q.nextSibling,K=U.nextSibling;return N.addEventListener("mouseleave",W=>n(!1,W)),N.addEventListener("mouseenter",W=>n(!0,W)),d(E,f(wn,{class:"details-button w-full text-sm h-8 cursor-pointer",get classList(){return{hidden:t.cardType=="selected"}},bgColor:"bg-white",bgHoverColor:"hover:bg-gray-100",children:"Details"}),A),C.$$click=w,d(C,f(B,{get when(){return u.has_logo},get fallback(){return(()=>{const W=Hp.cloneNode(!0);return d(W,()=>u.title),W})()},get children(){const W=Mp.cloneNode(!0);return T(()=>G(W,"src",`${r}/store/remotelogo?module=${t.moduleName}&store=${u.store}`)),W}})),d(z,()=>u.title),d(R,()=>u.latest_version),d(O,f(B,{get when(){return u.conf},get children(){const W=Lp.cloneNode(!0);return d(W,()=>u.conf.description),W}}),U),d(q,()=>cl(u.size)),d(H,()=>u.type),d(K,f(B,{get when(){return _()},get children(){return Up.cloneNode(!0)}}),null),d(K,f(B,{get when(){return l(t.moduleName)},get children(){return[jp.cloneNode(!0),(()=>{const W=Fp.cloneNode(!0);return W.firstChild,d(W,()=>m.version,null),W})()]}}),null),d(O,f(B,{get when(){return v()==!1||p()==!0},get children(){const W=zp.cloneNode(!0);return d(W,f(B,{get when(){return ge(()=>!!(!_()||l(t.moduleName)))()&&!b(t.moduleName)},get children(){return f(kg,{class:"group-hover:block hidden cursor-pointer",color:"rgb(3 105 161)",size:"24",get onClick(){return[g,t.moduleName]}})}}),null),d(W,f(B,{get when(){return _()||b(t.moduleName)},get children(){return f(xg,{class:"group-hover:block hidden cursor-pointer",color:"rgb(251 146 60)",size:"24",onClick:I})}}),null),W}}),null),T(W=>{const ue=u.name,Se=u.kind,rt=!e()||t.cardType!="selected",it=t.cardType!="selected";return ue!==W._v$&&G(N,"name",W._v$=ue),Se!==W._v$2&&G(N,"kind",W._v$2=Se),rt!==W._v$3&&E.classList.toggle("hidden",W._v$3=rt),it!==W._v$4&&A.classList.toggle("hidden",W._v$4=it),W},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),N}})}F(["click"]);const Vp=x('<div class="remote-module-filter-panel w-full mt-4 overflow-auto"><div class="store-filtered-modules"><h1 class="text-4xl font-extrabold dark:text-white">Welcome to Module Store!</h1><p class="mb-6 text-lg font-normal text-gray-500 lg:text-xl dark:text-gray-400">Ultimate store of genomic variant analysis modules</p><div class="mt-4 text-base pr-4"><p><span class="font-bold">All</span> tab lists all available modules. In <span class="font-bold">Tags</span> tab, modules can be searched by the tags provided by the developers of modules. To quickly see all the modules already installed in the system, click <span class="font-bold">Installed</span> tab. When an updated version of any of installed modules is available, <span class="font-bold">Updates available</span> tab will appear.</p><p class="mt-2">To install a module, hover on the module card and click <span class="font-bold">Install</span>. Module installation is queued at the bottom. If you cancel the installation of a module, click the module card in the queue area.</p><p class="mt-2">Below are some of popular modules for you to get started!</p><p class="my-2">For cancer research:</p><p class="mt-4 mb-2">For clinical implications of variants:</p><p class="mt-4 mb-2">For allele frequencies in different populations:</p><p class="mt-4 mb-2">For actionable gene-drug associations:</p><p class="mt-4 mb-2">For the prediction of varinat effect:</p></div><p class="mt-2">Look around and happy annotating!</p></div></div>');function Wp(t){const{installQueue:e}=gt;function n(){return e.length>0?"calc(100vh - 15rem)":"calc(100vh - 9rem)"}return(()=>{const r=Vp.cloneNode(!0),i=r.firstChild,s=i.firstChild,o=s.nextSibling,l=o.nextSibling,a=l.firstChild,c=a.nextSibling,u=c.nextSibling,m=u.nextSibling,g=m.nextSibling,h=g.nextSibling,b=h.nextSibling,y=b.nextSibling;return d(l,f(de,{moduleName:"civic",get addToInstallQueue(){return t.addToInstallQueue}}),g),d(l,f(de,{moduleName:"cosmic",get addToInstallQueue(){return t.addToInstallQueue}}),g),d(l,f(de,{moduleName:"oncokb",get addToInstallQueue(){return t.addToInstallQueue}}),g),d(l,f(de,{moduleName:"clinvar",get addToInstallQueue(){return t.addToInstallQueue}}),h),d(l,f(de,{moduleName:"grasp",get addToInstallQueue(){return t.addToInstallQueue}}),h),d(l,f(de,{moduleName:"gwas_catalog",get addToInstallQueue(){return t.addToInstallQueue}}),h),d(l,f(de,{moduleName:"omim",get addToInstallQueue(){return t.addToInstallQueue}}),h),d(l,f(de,{moduleName:"thousandgenomes",get addToInstallQueue(){return t.addToInstallQueue}}),b),d(l,f(de,{moduleName:"gnomad",get addToInstallQueue(){return t.addToInstallQueue}}),b),d(l,f(de,{moduleName:"pharmgkb",get addToInstallQueue(){return t.addToInstallQueue}}),y),d(l,f(de,{moduleName:"cadd",get addToInstallQueue(){return t.addToInstallQueue}}),null),d(l,f(de,{moduleName:"fathmm",get addToInstallQueue(){return t.addToInstallQueue}}),null),d(l,f(de,{moduleName:"sift",get addToInstallQueue(){return t.addToInstallQueue}}),null),d(l,f(de,{moduleName:"polyphen2",get addToInstallQueue(){return t.addToInstallQueue}}),null),T(p=>{const v=t.filterCategory!="home",_=n();return v!==p._v$&&r.classList.toggle("hidden",p._v$=v),_!==p._v$2&&r.style.setProperty("height",p._v$2=_),p},{_v$:void 0,_v$2:void 0}),r})()}const qp=x('<a href="#" class="text-gray-600 block px-4 py-2 text-sm text-right hover:bg-gray-100 hover:text-gray-900" role="menuitem" tabindex="-1" value=""></a>');function Is(t){function e(){t.setSort(t.value),t.setShow(!1)}return(()=>{const n=qp.cloneNode(!0);return n.$$click=e,d(n,()=>t.title),n})()}F(["click"]);const Jp=x('<div class="option-list ease-in absolute right-0 z-10 mt-2 w-24 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1"><div class="py-1" role="none"></div></div>');function Gp(t){return(()=>{const e=Jp.cloneNode(!0),n=e.firstChild;return d(n,f(Is,{value:"Name",title:"Name",get setSort(){return t.setSort},get setShow(){return t.setShow}}),null),d(n,f(Is,{value:"Size",title:"Size",get setSort(){return t.setSort},get setShow(){return t.setShow}}),null),T(()=>e.classList.toggle("hidden",!t.show)),e})()}const Kp=x('<div class="select-div relative inline-block text-left" value=""><div class="flex justify-center"><button name="sort" type="button" class="inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-1 py-2 text-sm font-medium text-gray-600 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100"><span class="ml-2">Sort by </span></button></div></div>');function Qp(t){const[e,n]=k(!1);function r(i){n(!e())}return(()=>{const i=Kp.cloneNode(!0),s=i.firstChild,o=s.firstChild,l=o.firstChild;return l.firstChild,o.$$click=r,d(l,()=>t.sort,null),d(o,f(Kn,{class:"ml-2 h-5 w-5"}),null),d(i,f(Gp,{get show(){return e()},get setSort(){return t.setSort},setShow:n}),null),i})()}F(["click"]);const Xp=x('<button type="button" class="graybutton inline-flex items-center rounded border border-transparent bg-gray-50 px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-300 focus:outline-none drop-shadow-lg"></button>'),Yp=x('<div class="flex mb-2"><label for="search" class="sr-only">Search</label><input type="text" name="search" class="block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm mr-2" placeholder="Search"><div class="relative flex text-xs font-medium text-gray-700 shadow-sm items-center"><div class="flex items-center mr-4"></div></div></div>');function Yn(t){function e(i){t.setSearchText(i.target.value)}function n(i){t.setNotInstalledOnly(!t.notInstalledOnly)}function r(){return t.notInstalledOnly?"Click to show all modules":"Click to show uninstalled modules only"}return(()=>{const i=Yp.cloneNode(!0),s=i.firstChild,o=s.nextSibling,l=o.nextSibling,a=l.firstChild;return o.$$keyup=e,d(a,f(B,{get when(){return t.showUninstalledOnly},get children(){const c=Xp.cloneNode(!0);return c.$$click=n,d(c,f(B,{get when(){return t.notInstalledOnly},get fallback(){return f(rg,{size:22})},get children(){return f(ng,{size:22})}})),T(u=>{const m=r(),g=!!t.notInstalledOnly;return m!==u._v$&&G(c,"title",u._v$=m),g!==u._v$2&&c.classList.toggle("checked",u._v$2=g),u},{_v$:void 0,_v$2:void 0}),c}})),d(l,f(Qp,{get sort(){return t.sort},get setSort(){return t.setSort}}),null),T(()=>o.value=t.searchText),i})()}F(["keyup","click"]);const Zp=x('<div class="flex items-center justify-center"><p class="text-lg text-gray-700">No module met the criteria.</p></div>'),e0=x("<div></div>");function Zn(t){const{installQueue:e}=gt;function n(){return e.length>0?"calc(100vh - 19rem)":"calc(100vh - 9rem)"}function r(){return Zp.cloneNode(!0)}return(()=>{const i=e0.cloneNode(!0);return d(i,f(B,{get when(){return t.moduleNames&&t.moduleNames.length>0},get fallback(){return r()},get children(){return f(oe,{get each(){return t.moduleNames},children:s=>f(zr,{get children(){return[f($t,{get when(){return t.side=="local"},get children(){return f(Xn,{moduleName:s,get annotators(){return t.annotators},get setAnnotators(){return t.setAnnotators},get postaggregators(){return t.postaggregators},get setPostaggregators(){return t.setPostaggregators}})}}),f($t,{get when(){return t.side=="remote"},get children(){return f(de,{moduleName:s})}})]}})})}})),T(s=>{const o=`store-filtered-modules pr-4 overflow-auto grid grid-cols-${t.noCols}`,l=n();return o!==s._v$&&ct(i,s._v$=o),l!==s._v$2&&i.style.setProperty("height",s._v$2=l),s},{_v$:void 0,_v$2:void 0}),i})()}const t0=x('<div class="remote-module-filter-panel w-full mt-4 overflow-auto"></div>'),{getFilteredRemoteModules:n0}=Fe,{getNotInstalledModules:r0}=nt;function i0(t){const[e,n]=k(null),[r,i]=k([]),[s,o]=k(!1),[l,a]=k("Name"),[c,u]=k([]);return ie(function(){s()==!0?u(r0(e(),r(),null,l())):u(n0(e(),r(),null,l()))}),(()=>{const m=t0.cloneNode(!0);return d(m,f(Yn,{kind:"all",side:"remote",get searchText(){return e()},setSearchText:n,get notInstalledOnly(){return s()},setNotInstalledOnly:o,showUninstalledOnly:!0,get sort(){return l()},setSort:a}),null),d(m,f(Zn,{kind:"all",side:"remote",noCols:1,get moduleNames(){return c()}}),null),T(()=>m.classList.toggle("hidden",t.filterCategory!="all")),m})()}const s0=x('<div class="remote-module-filter-panel w-full mt-4 overflow-auto flex"><div class="store-filtered-modules col-span-1 flex flex-col justify-leading pl-1 overflow-y-auto w-[20rem]"></div><div class="ml-8 w-full"></div></div>'),{getFilteredRemoteModules:o0,remoteTags:Ts}=Fe,{getNotInstalledModules:l0}=nt;function a0(t){const[e,n]=k(null),[r,i]=k([]),[s,o]=k("clinical relevance"),[l,a]=k("Name"),[c,u]=k(!1),[m,g]=k([]);return ie(function(){c()==!0?g(l0(e(),r(),s(),l())):g(o0(e(),r(),s(),l()))}),(()=>{const h=s0.cloneNode(!0),b=h.firstChild,y=b.nextSibling;return d(b,f(oe,{get each(){return Object.keys(Ts()).sort()},children:p=>f(fl,{value:p,get title(){return Ts()[p]},get selectedTag(){return s()},setSelectedTag:o})})),d(y,f(Yn,{kind:"all",side:"remote",get searchText(){return e()},setSearchText:n,get notInstalledOnly(){return c()},setNotInstalledOnly:u,showUninstalledOnly:!0,get sort(){return l()},setSort:a}),null),d(y,f(Zn,{kind:"all",side:"remote",noCols:1,get moduleNames(){return m()}}),null),T(()=>h.classList.toggle("hidden",t.filterCategory!="tags")),h})()}const c0=x('<div class="remote-module-filter-panel w-full mt-4 overflow-auto"></div>'),{getInstalledModules:u0}=nt;function d0(t){const[e,n]=k(null),[r,i]=k([]),[s,o]=k("Name"),[l,a]=k([]);return ie(function(){a(u0(e(),r(),null,null,s()))}),(()=>{const c=c0.cloneNode(!0);return d(c,f(Yn,{kind:"install",side:"remote",get searchText(){return e()},setSearchText:n,get sort(){return s()},setSort:o}),null),d(c,f(Zn,{kind:"install",side:"remote",noCols:1,get moduleNames(){return l()}}),null),T(()=>c.classList.toggle("hidden",t.filterCategory!="installed")),c})()}const f0=x('<div class="remote-module-filter-panel w-full mt-4 overflow-auto"></div>'),{getInstalledModules:h0}=nt;function g0(t){const[e,n]=k(null),[r,i]=k([]),[s,o]=k("Name"),[l,a]=k([]);return ie(function(){a(h0(e(),r(),null,!0,s()))}),(()=>{const c=f0.cloneNode(!0);return d(c,f(Yn,{kind:"update",side:"remote",get searchText(){return e()},setSearchText:n,get sort(){return s()},setSort:o}),null),d(c,f(Zn,{kind:"update",side:"remote",noCols:1,get moduleNames(){return l()}}),null),T(()=>c.classList.toggle("hidden",t.filterCategory!="update")),c})()}const m0=x('<button type="button" class="ml-4 inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Updates available<span class="inline-flex justify-center items-center ml-2 w-4 h-4 text-xs font-semibold text-blue-800 bg-blue-200 rounded-full"></span></button>'),p0=x('<div class="analysis-module-filter-wrapper col-span-7 grow"><div class="w-full"><div class="inline-flex rounded-md shadow-sm" role="group"></div></div></div>'),{updateAvailable:b0,numUpdateAvailable:v0}=nt;function y0(t){const[e,n]=k("home");return(()=>{const r=p0.cloneNode(!0),i=r.firstChild,s=i.firstChild;return d(s,f(yt,{value:"home",title:"Home",pos:"left",get filterCategory(){return e()},setFilterCategory:n}),null),d(s,f(yt,{value:"all",title:"All",pos:"center",get filterCategory(){return e()},setFilterCategory:n}),null),d(s,f(yt,{value:"tags",title:"Tags",pos:"center",get filterCategory(){return e()},setFilterCategory:n}),null),d(s,f(yt,{value:"installed",title:"Installed",pos:"right",get filterCategory(){return e()},setFilterCategory:n}),null),d(s,f(B,{get when(){return b0()==!0},get children(){const o=m0.cloneNode(!0),l=o.firstChild,a=l.nextSibling;return o.$$click=n,o.$$clickData="update",d(a,v0),o}}),null),d(r,f(Wp,{get modules(){return t.modules},get filterCategory(){return e()}}),null),d(r,f(i0,{get modules(){return t.modules},get filterCategory(){return e()}}),null),d(r,f(a0,{get modules(){return t.modules},get filterCategory(){return e()}}),null),d(r,f(d0,{get modules(){return t.modules},get filterCategory(){return e()}}),null),d(r,f(g0,{get modules(){return t.modules},get filterCategory(){return e()}}),null),r})()}F(["click"]);const _0=x('<img class="w-24 rounded-lg">'),w0=x('<div class="group-hover:block absolute z-10 w-[6.5rem] h-[6.5rem]"><div class="install_pie absolute top-[1.25rem] left-[1.25rem]"></div></div>'),x0=x('<div class="relative modulecard items-center rounded-lg border border-gray-300 bg-white shadow-sm focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:border-gray-400 flex items-center group h-[6.5rem] w-[6.5rem] shrink-0"><div class="flex justify-center items-center h-full w-full"></div><div class="group-hover:block hidden bg-gray-900/60 absolute z-20 w-full h-full"></div></div>'),k0=x('<span class="break-all"></span>'),{serverUrl:$0}=Q,{remoteModules:S0}=Fe,{removeFromInstallQueue:I0}=gt;function T0(t){const e=S0[t.moduleName];function n(){I0(t.moduleName),t.setTooltipShow(!1)}function r(s){const o=s.target.closest(".modulecard");let l=o.getBoundingClientRect(),a=l.left;l.left>window.innerWidth/2&&(a=a-280),t.setTooltipText(t.moduleName),t.setTooltipTop(o.offsetTop-80),t.setTooltipLeft(a),t.setTooltipShow(!0)}function i(){t.setTooltipShow(!1)}return(()=>{const s=x0.cloneNode(!0),o=s.firstChild,l=o.nextSibling;return d(o,f(B,{get when(){return e.has_logo},get fallback(){return(()=>{const a=k0.cloneNode(!0);return d(a,()=>e.title),a})()},get children(){const a=_0.cloneNode(!0);return T(()=>G(a,"src",`${$0}/store/remotelogo?module=${t.moduleName}&store=${e.store}`)),a}})),l.addEventListener("mouseleave",i),l.addEventListener("mouseenter",r),d(l,f(Eh,{color:"#ffffff",size:48,class:"m-auto cursor-pointer",style:"height: 6rem;",onClick:n})),d(s,f(B,{get when(){return t.state&&t.state.progress>0},get children(){const a=w0.cloneNode(!0),c=a.firstChild;return c.style.setProperty("--b","10px"),c.style.setProperty("--c","rgb(3 105 161)"),T(()=>c.style.setProperty("--p",t.state.progress)),a}}),null),T(a=>{const c=e&&e.name,u=e&&e.kind;return c!==a._v$&&G(s,"name",a._v$=c),u!==a._v$2&&G(s,"kind",a._v$2=u),a},{_v$:void 0,_v$2:void 0}),s})()}const C0=x('<div class="h-[8rem] px-2 flex items-center rounded-lg border border-gray-300 bg-white shadow-sm"><div class="flex overflow-auto w-full"></div></div>'),{installQueue:gr,installState:E0}=gt;function N0(t){return f(B,{get when(){return gr.length>0},get children(){const e=C0.cloneNode(!0),n=e.firstChild;return d(n,f(oe,{each:gr,children:r=>f(T0,{moduleName:r,get state(){return E0[r]},get setTooltipText(){return t.setTooltipText},get setTooltipShow(){return t.setTooltipShow},get setTooltipTop(){return t.setTooltipTop},get setTooltipLeft(){return t.setTooltipLeft}})})),T(()=>e.classList.toggle("border-blue-500",gr.length>0)),e}})}const A0=x('<div class="flex-inline mr-2"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div>');function ci(t){let e=t.width||5,n=t.height||5,r=t.stroke||"currentColor";return(()=>{const i=A0.cloneNode(!0),s=i.firstChild,o=s.firstChild;return G(s,"class",`hide animate-spin ml-1 h-${e} w-${n} text-white m-auto`),G(o,"stroke",r),T(()=>s.classList.toggle("hidden",!t.show)),i})()}const O0=x('<div class="h-64 w-64 m-auto flex"><div class="m-auto flex flex-col"><div class="mb-4">Loading store modules...</div><div class="m-auto"></div></div></div>');function D0(){return(()=>{const t=O0.cloneNode(!0),e=t.firstChild,n=e.firstChild,r=n.nextSibling;return d(r,f(ci,{show:!0,width:20,height:20,stroke:"#000000"})),t})()}const R0=x('<div role="tooltip" class="absolute inline-block z-10 p-4 text-sm font-medium text-gray-700 bg-gray-200 border border-gray-200 rounded-lg shadow-lg transition-opacity duration-300 tooltip dark:bg-gray-700 opacity-0 w-[24rem] break-word"><div class="tooltip-arrow" data-popper-arrow></div></div>');function ml(t){let e;return(()=>{const n=R0.cloneNode(!0),r=n.firstChild,i=e;return typeof i=="function"?Hr(i,n):e=n,d(n,()=>t.text,r),T(s=>{const o=!!t.tooltipShow,l=!!t.tooltipShow,a=t.tooltipTop+"px",c=t.tooltipLeft+"px";return o!==s._v$&&n.classList.toggle("opacity-100",s._v$=o),l!==s._v$2&&n.classList.toggle("visible",s._v$2=l),a!==s._v$3&&n.style.setProperty("top",s._v$3=a),c!==s._v$4&&n.style.setProperty("left",s._v$4=c),s},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),n})()}const P0=x('<div id="tab-store" class="tabcontent p-4 snap-y snap-mandatory h-screen overflow-y-auto flex flex-col"></div>');function M0(){const{remoteModules:t}=Fe,{tabName:e}=tt,{addToInstallQueue:n}=gt,{moduleInstallStates:r}=nt,[i,s]=k(null),[o,l]=k(!1),[a,c]=k(0),[u,m]=k(null);return(()=>{const g=P0.cloneNode(!0);return d(g,f(B,{get when(){return!Dn(r)},get fallback(){return f(D0,{})},get children(){return[f(y0,{addToInstallQueue:n,modules:t}),f(N0,{setTooltipText:s,setTooltipShow:l,setTooltipTop:c,setTooltipLeft:m}),f(ml,{get text(){return i()},get tooltipShow(){return o()},get tooltipTop(){return a()},get tooltipLeft(){return u()}})]}})),T(()=>g.classList.toggle("hidden",e()!="store")),g})()}function L0(){const[t,e]=k(null),{serverUrl:n,withCredentials:r}=Q,{admin:i}=he;ie(function(){i()==!0&&s()});function s(){V.get(n+"/server/users",{withCredentials:r}).then(function(c){const u=[];for(const m of c.data)m.email!="default"&&u.push(m);e(u)}).catch(function(c){console.error(c),Z(c)})}function o(c){V.get(n+"/server/makeadmin",{params:{email:c},withCredentials:r}).then(function(u){s()}).catch(function(u){Z(u)})}function l(c){V.get(n+"/server/removeadmin",{params:{email:c},withCredentials:r}).then(function(u){s()}).catch(function(u){Z(u)})}function a(c){V.get(n+"/server/removeuser",{params:{email:c},withCredentials:r}).then(function(u){s()}).catch(function(u){Z(u)})}return{users:t,setUsers:e,loadAllUsers:s,makeAdmin:o,removeAdmin:l,removeUser:a}}const U0=re(L0),j0=x('<div class="mt-4"><h3 class="text-lg font-semibold">Users</h3><div class="rounded-lg bg-white shadow mt-2"><table class="w-full text-sm text-left text-gray-500 dark:text-gray-400"><thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"><tr><th scope="col" class="py-3 px-6">Email</th><th scope="col" class="py-3 px-6">Role</th></tr></thead><tbody></tbody></table></div></div>'),F0=x('<span class="ml-2 inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800">Admin</span>'),z0=x('<button type="button" class="invisible inline-flex items-center rounded border border-transparent bg-blue-600 px-2.5 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ml-4 group-hover:visible">Remove admin</button>'),B0=x('<button type="button" class="invisible inline-flex items-center rounded border border-transparent bg-blue-600 px-2.5 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ml-4 group-hover:visible">Remove user</button>'),H0=x('<tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 group"><td scope="row" class="py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white"></td><td class="py-4 px-6"></td></tr>'),V0=x('<button type="button" class="invisible inline-flex items-center rounded border border-transparent bg-blue-600 px-2.5 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ml-4 group-hover:visible">Make admin</button>');function W0(){const{users:t,makeAdmin:e,removeAdmin:n,removeUser:r}=U0;return(()=>{const i=j0.cloneNode(!0),s=i.firstChild,o=s.nextSibling,l=o.firstChild,a=l.firstChild,c=a.nextSibling;return d(c,f(oe,{get each(){return t()},children:u=>(()=>{const m=H0.cloneNode(!0),g=m.firstChild,h=g.nextSibling;return d(g,()=>u.email,null),d(g,f(B,{get when(){return u.role=="admin"},get children(){return F0.cloneNode(!0)}}),null),d(h,()=>u.role,null),d(h,f(B,{get when(){return u.role=="admin"},get fallback(){return(()=>{const b=V0.cloneNode(!0);return b.$$click=e,b.$$clickData=u.email,b})()},get children(){const b=z0.cloneNode(!0);return b.$$click=n,b.$$clickData=u.email,b}}),null),d(h,f(B,{get when(){return u.role!="admin"},get children(){const b=B0.cloneNode(!0);return b.$$click=r,b.$$clickData=u.email,b}}),null),m})()})),i})()}F(["click"]);const q0=x('<div class=""><h3 class="text-lg font-semibold mt-8 mb-2">Log</h3><button type="button" class="inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Download system log</button></div>');function J0(){const{serverUrl:t}=Q;function e(){V({url:t+"/submit/systemlog",method:"GET",responseType:"blob"}).then(function(n){let r=document.createElement("a");r.href=window.URL.createObjectURL(new Blob([n.data],{type:"text/plain"})),r.download=n.headers["content-disposition"].split("=")[1],document.body.appendChild(r),r.click(),document.body.removeChild(r)}).catch(function(n){console.error(n)})}return(()=>{const n=q0.cloneNode(!0),r=n.firstChild,i=r.nextSibling;return i.$$click=e,n})()}F(["click"]);const G0=x('<div id="tab_system" class="tabcontent"><div class="p-4"></div></div>');function K0(){const{tabName:t}=tt,{multiuser:e}=me;return(()=>{const n=G0.cloneNode(!0),r=n.firstChild;return d(r,f(B,{get when(){return e()==!0},get children(){return f(W0,{})}}),null),d(r,f(J0,{}),null),T(()=>n.classList.toggle("hidden",t()!="system")),n})()}const Q0=x('<div id="tab_account" class="tabcontent p-4"><p class="text-gray-600"></p><button type="button" class="inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium leading-4 text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 mt-2">Logout</button></div>'),{tabName:X0}=tt,{email:Y0}=ht,{auth:Z0}=Jn;function eb(){function t(){Vo(Z0()).catch(function(e){console.error(e)})}return(()=>{const e=Q0.cloneNode(!0),n=e.firstChild,r=n.nextSibling;return d(n,Y0),r.$$click=t,T(()=>e.classList.toggle("hidden",X0()!="account")),e})()}F(["click"]);const tb=x('<main class="h-screen md:pl-36 flex flex-col flex-1"><div></div></main>');function nb(){const[t,e]=k(!1),{multiuser:n}=me,{admin:r}=he;return(()=>{const i=tb.cloneNode(!0),s=i.firstChild;return d(s,f(Ag,{}),null),d(s,f(np,{get jobsTrigger(){return t()},setJobsTrigger:e}),null),d(s,f(Tp,{get jobsTrigger(){return t()},setJobsTrigger:e}),null),d(s,f(M0,{}),null),d(s,f(B,{get when(){return n()==!1||r()==!0},get children(){return f(K0,{})}}),null),d(s,f(B,{get when(){return n()==!0},get children(){return f(eb,{})}}),null),i})()}function pl(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Rt=pl();function rb(t){Rt=t}const bl=/[&<>"']/,ib=new RegExp(bl.source,"g"),vl=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,sb=new RegExp(vl.source,"g"),ob={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cs=t=>ob[t];function se(t,e){if(e){if(bl.test(t))return t.replace(ib,Cs)}else if(vl.test(t))return t.replace(sb,Cs);return t}const lb=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function yl(t){return t.replace(lb,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const ab=/(^|[^\[])\^/g;function ee(t,e){t=typeof t=="string"?t:t.source,e=e||"";const n={replace:(r,i)=>(i=i.source||i,i=i.replace(ab,"$1"),t=t.replace(r,i),n),getRegex:()=>new RegExp(t,e)};return n}const cb=/[^\w:]/g,ub=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Es(t,e,n){if(t){let r;try{r=decodeURIComponent(yl(n)).replace(cb,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!ub.test(n)&&(n=gb(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const hn={},db=/^[^:]+:\/*[^/]*$/,fb=/^([^:]+:)[\s\S]*$/,hb=/^([^:]+:\/*[^/]*)[\s\S]*$/;function gb(t,e){hn[" "+t]||(db.test(t)?hn[" "+t]=t+"/":hn[" "+t]=xn(t,"/",!0)),t=hn[" "+t];const n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(fb,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(hb,"$1")+e:t+e}const Rn={exec:function(){}};function $e(t){let e=1,n,r;for(;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}function Ns(t,e){const n=t.replace(/\|/g,(s,o,l)=>{let a=!1,c=o;for(;--c>=0&&l[c]==="\\";)a=!a;return a?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function xn(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r;){const s=t.charAt(r-i-1);if(s===e&&!n)i++;else if(s!==e&&n)i++;else break}return t.slice(0,r-i)}function mb(t,e){if(t.indexOf(e[1])===-1)return-1;const n=t.length;let r=0,i=0;for(;i<n;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1}function _l(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function As(t,e){if(e<1)return"";let n="";for(;e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function Os(t,e,n,r){const i=e.href,s=e.title?se(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const l={type:"link",raw:n,href:i,title:s,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,l}return{type:"image",raw:n,href:i,title:s,text:se(o)}}function pb(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[o]=s;return o.length>=r.length?i.slice(r.length):i}).join(`
`)}class ui{constructor(e){this.options=e||Rt}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:xn(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=pb(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=xn(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const r=n[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:n[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r,i,s,o,l,a,c,u,m,g,h,b,y=n[1].trim();const p=y.length>1,v={type:"list",raw:"",ordered:p,start:p?+y.slice(0,-1):"",loose:!1,items:[]};y=p?`\\d{1,9}\\${y.slice(-1)}`:`\\${y}`,this.options.pedantic&&(y=p?y:"[*+-]");const _=new RegExp(`^( {0,3}${y})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(b=!1,!(!(n=_.exec(e))||this.rules.block.hr.test(e)));){if(r=n[0],e=e.substring(r.length),u=n[2].split(`
`,1)[0],m=e.split(`
`,1)[0],this.options.pedantic?(o=2,h=u.trimLeft()):(o=n[2].search(/[^ ]/),o=o>4?1:o,h=u.slice(o),o+=n[1].length),a=!1,!u&&/^ *$/.test(m)&&(r+=m+`
`,e=e.substring(m.length+1),b=!0),!b){const I=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),N=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),E=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),A=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;e&&(g=e.split(`
`,1)[0],u=g,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(E.test(u)||A.test(u)||I.test(u)||N.test(e)));){if(u.search(/[^ ]/)>=o||!u.trim())h+=`
`+u.slice(o);else if(!a)h+=`
`+u;else break;!a&&!u.trim()&&(a=!0),r+=g+`
`,e=e.substring(g.length+1)}}v.loose||(c?v.loose=!0:/\n *\n *$/.test(r)&&(c=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(h),i&&(s=i[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),v.items.push({type:"list_item",raw:r,task:!!i,checked:s,loose:!1,text:h}),v.raw+=r}v.items[v.items.length-1].raw=r.trimRight(),v.items[v.items.length-1].text=h.trimRight(),v.raw=v.raw.trimRight();const w=v.items.length;for(l=0;l<w;l++){this.lexer.state.top=!1,v.items[l].tokens=this.lexer.blockTokens(v.items[l].text,[]);const I=v.items[l].tokens.filter(E=>E.type==="space"),N=I.every(E=>{const A=E.raw.split("");let S=0;for(const C of A)if(C===`
`&&(S+=1),S>1)return!0;return!1});!v.loose&&I.length&&N&&(v.loose=!0,v.items[l].loose=!0)}return v}}html(e){const n=this.rules.block.html.exec(e);if(n){const r={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(n[0]):se(n[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(n){const r={type:"table",header:Ns(n[1]).map(i=>({text:i})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let i=r.align.length,s,o,l,a;for(s=0;s<i;s++)/^ *-+: *$/.test(r.align[s])?r.align[s]="right":/^ *:-+: *$/.test(r.align[s])?r.align[s]="center":/^ *:-+ *$/.test(r.align[s])?r.align[s]="left":r.align[s]=null;for(i=r.rows.length,s=0;s<i;s++)r.rows[s]=Ns(r.rows[s],r.header.length).map(c=>({text:c}));for(i=r.header.length,o=0;o<i;o++)r.header[o].tokens=this.lexer.inline(r.header[o].text);for(i=r.rows.length,o=0;o<i;o++)for(a=r.rows[o],l=0;l<a.length;l++)a[l].tokens=this.lexer.inline(a[l].text);return r}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:se(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):se(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const o=xn(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{const o=mb(n[2],"()");if(o>-1){const a=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),Os(n,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=n[i.toLowerCase()],!i){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return Os(r,i,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;const s=i[1]||i[2]||"";if(!s||s&&(r===""||this.rules.inline.punctuation.exec(r))){const o=i[0].length-1;let l,a,c=o,u=0;const m=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(m.lastIndex=0,n=n.slice(-1*e.length+o);(i=m.exec(n))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(a=l.length,i[3]||i[4]){c+=a;continue}else if((i[5]||i[6])&&o%3&&!((o+a)%3)){u+=a;continue}if(c-=a,c>0)continue;a=Math.min(a,a+c+u);const g=e.slice(0,o+i.index+(i[0].length-l.length)+a);if(Math.min(o,a)%2){const b=g.slice(1,-1);return{type:"em",raw:g,text:b,tokens:this.lexer.inlineTokens(b)}}const h=g.slice(2,-2);return{type:"strong",raw:g,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=se(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){const r=this.rules.inline.autolink.exec(e);if(r){let i,s;return r[2]==="@"?(i=se(this.options.mangle?n(r[1]):r[1]),s="mailto:"+i):(i=se(r[1]),s=i),{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e,n){let r;if(r=this.rules.inline.url.exec(e)){let i,s;if(r[2]==="@")i=se(this.options.mangle?n(r[0]):r[0]),s="mailto:"+i;else{let o;do o=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(o!==r[0]);i=se(r[0]),r[1]==="www."?s="http://"+i:s=i}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,n){const r=this.rules.inline.text.exec(e);if(r){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):se(r[0]):r[0]:i=se(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const L={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Rn,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};L._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;L._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;L.def=ee(L.def).replace("label",L._label).replace("title",L._title).getRegex();L.bullet=/(?:[*+-]|\d{1,9}[.)])/;L.listItemStart=ee(/^( *)(bull) */).replace("bull",L.bullet).getRegex();L.list=ee(L.list).replace(/bull/g,L.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+L.def.source+")").getRegex();L._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";L._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;L.html=ee(L.html,"i").replace("comment",L._comment).replace("tag",L._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();L.paragraph=ee(L._paragraph).replace("hr",L.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",L._tag).getRegex();L.blockquote=ee(L.blockquote).replace("paragraph",L.paragraph).getRegex();L.normal=$e({},L);L.gfm=$e({},L.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});L.gfm.table=ee(L.gfm.table).replace("hr",L.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",L._tag).getRegex();L.gfm.paragraph=ee(L._paragraph).replace("hr",L.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",L.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",L._tag).getRegex();L.pedantic=$e({},L.normal,{html:ee(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",L._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Rn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ee(L.normal._paragraph).replace("hr",L.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",L.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const D={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Rn,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Rn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};D._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";D.punctuation=ee(D.punctuation).replace(/punctuation/g,D._punctuation).getRegex();D.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;D.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;D._comment=ee(L._comment).replace("(?:-->|$)","-->").getRegex();D.emStrong.lDelim=ee(D.emStrong.lDelim).replace(/punct/g,D._punctuation).getRegex();D.emStrong.rDelimAst=ee(D.emStrong.rDelimAst,"g").replace(/punct/g,D._punctuation).getRegex();D.emStrong.rDelimUnd=ee(D.emStrong.rDelimUnd,"g").replace(/punct/g,D._punctuation).getRegex();D._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;D._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;D._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;D.autolink=ee(D.autolink).replace("scheme",D._scheme).replace("email",D._email).getRegex();D._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;D.tag=ee(D.tag).replace("comment",D._comment).replace("attribute",D._attribute).getRegex();D._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;D._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;D._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;D.link=ee(D.link).replace("label",D._label).replace("href",D._href).replace("title",D._title).getRegex();D.reflink=ee(D.reflink).replace("label",D._label).replace("ref",L._label).getRegex();D.nolink=ee(D.nolink).replace("ref",L._label).getRegex();D.reflinkSearch=ee(D.reflinkSearch,"g").replace("reflink",D.reflink).replace("nolink",D.nolink).getRegex();D.normal=$e({},D);D.pedantic=$e({},D.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ee(/^!?\[(label)\]\((.*?)\)/).replace("label",D._label).getRegex(),reflink:ee(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",D._label).getRegex()});D.gfm=$e({},D.normal,{escape:ee(D.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});D.gfm.url=ee(D.gfm.url,"i").replace("email",D.gfm._extended_email).getRegex();D.breaks=$e({},D.gfm,{br:ee(D.br).replace("{2,}","*").getRegex(),text:ee(D.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function bb(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Ds(t){let e="",n,r;const i=t.length;for(n=0;n<i;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}class Le{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Rt,this.options.tokenizer=this.options.tokenizer||new ui,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:L.normal,inline:D.normal};this.options.pedantic?(n.block=L.pedantic,n.inline=D.pedantic):this.options.gfm&&(n.block=L.gfm,this.options.breaks?n.inline=D.breaks:n.inline=D.gfm),this.tokenizer.rules=n}static get rules(){return{block:L,inline:D}}static lex(e,n){return new Le(n).lex(e)}static lexInline(e,n){return new Le(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,a,c)=>a+"    ".repeat(c.length));let r,i,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(r=l.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const a=e.slice(1);let c;this.options.extensions.startBlock.forEach(function(u){c=u.call({lexer:this},a),typeof c=="number"&&c>=0&&(l=Math.min(l,c))}),l<1/0&&l>=0&&(s=e.substring(0,l+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=n[n.length-1],o&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),o=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,s,o=e,l,a,c;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,l.index)+"["+As("a",l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,l.index)+"["+As("a",l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,l.index+l[0].length-2)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(a||(c=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(r=u.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,o,c)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e,Ds)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,Ds))){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const m=e.slice(1);let g;this.options.extensions.startInline.forEach(function(h){g=h.call({lexer:this},m),typeof g=="number"&&g>=0&&(u=Math.min(u,g))}),u<1/0&&u>=0&&(s=e.substring(0,u+1))}if(r=this.tokenizer.inlineText(s,bb)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(c=r.raw.slice(-1)),a=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return n}}class di{constructor(e){this.options=e||Rt}code(e,n,r){const i=(n||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(e,i);s!=null&&s!==e&&(r=!0,e=s)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+se(i)+'">'+(r?e:se(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:se(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,n,r,i){if(this.options.headerIds){const s=this.options.headerPrefix+i.slug(r);return`<h${n} id="${s}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,r){const i=n?"ol":"ul",s=n&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){if(e=Es(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i='<a href="'+e+'"';return n&&(i+=' title="'+n+'"'),i+=">"+r+"</a>",i}image(e,n,r){if(e=Es(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i=`<img src="${e}" alt="${r}"`;return n&&(i+=` title="${n}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class wl{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class xl{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do i++,r=e+"-"+i;while(this.seen.hasOwnProperty(r))}return n||(this.seen[e]=i,this.seen[r]=0),r}slug(e,n={}){const r=this.serialize(e);return this.getNextSafeSlug(r,n.dryrun)}}class Ce{constructor(e){this.options=e||Rt,this.options.renderer=this.options.renderer||new di,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new wl,this.slugger=new xl}static parse(e,n){return new Ce(n).parse(e)}static parseInline(e,n){return new Ce(n).parseInline(e)}parse(e,n=!0){let r="",i,s,o,l,a,c,u,m,g,h,b,y,p,v,_,w,I,N,E;const A=e.length;for(i=0;i<A;i++){if(h=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(E=this.options.extensions.renderers[h.type].call({parser:this},h),E!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))){r+=E||"";continue}switch(h.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(h.tokens),h.depth,yl(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(h.text,h.lang,h.escaped);continue}case"table":{for(m="",u="",l=h.header.length,s=0;s<l;s++)u+=this.renderer.tablecell(this.parseInline(h.header[s].tokens),{header:!0,align:h.align[s]});for(m+=this.renderer.tablerow(u),g="",l=h.rows.length,s=0;s<l;s++){for(c=h.rows[s],u="",a=c.length,o=0;o<a;o++)u+=this.renderer.tablecell(this.parseInline(c[o].tokens),{header:!1,align:h.align[o]});g+=this.renderer.tablerow(u)}r+=this.renderer.table(m,g);continue}case"blockquote":{g=this.parse(h.tokens),r+=this.renderer.blockquote(g);continue}case"list":{for(b=h.ordered,y=h.start,p=h.loose,l=h.items.length,g="",s=0;s<l;s++)_=h.items[s],w=_.checked,I=_.task,v="",_.task&&(N=this.renderer.checkbox(w),p?_.tokens.length>0&&_.tokens[0].type==="paragraph"?(_.tokens[0].text=N+" "+_.tokens[0].text,_.tokens[0].tokens&&_.tokens[0].tokens.length>0&&_.tokens[0].tokens[0].type==="text"&&(_.tokens[0].tokens[0].text=N+" "+_.tokens[0].tokens[0].text)):_.tokens.unshift({type:"text",text:N}):v+=N),v+=this.parse(_.tokens,p),g+=this.renderer.listitem(v,I,w);r+=this.renderer.list(g,b,y);continue}case"html":{r+=this.renderer.html(h.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(h.tokens));continue}case"text":{for(g=h.tokens?this.parseInline(h.tokens):h.text;i+1<A&&e[i+1].type==="text";)h=e[++i],g+=`
`+(h.tokens?this.parseInline(h.tokens):h.text);r+=n?this.renderer.paragraph(g):g;continue}default:{const S='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(S);return}else throw new Error(S)}}}return r}parseInline(e,n){n=n||this.renderer;let r="",i,s,o;const l=e.length;for(i=0;i<l;i++){if(s=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(o=this.options.extensions.renderers[s.type].call({parser:this},s),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){r+=o||"";continue}switch(s.type){case"escape":{r+=n.text(s.text);break}case"html":{r+=n.html(s.text);break}case"link":{r+=n.link(s.href,s.title,this.parseInline(s.tokens,n));break}case"image":{r+=n.image(s.href,s.title,s.text);break}case"strong":{r+=n.strong(this.parseInline(s.tokens,n));break}case"em":{r+=n.em(this.parseInline(s.tokens,n));break}case"codespan":{r+=n.codespan(s.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(s.tokens,n));break}case"text":{r+=n.text(s.text);break}default:{const a='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(a);return}else throw new Error(a)}}}return r}}function j(t,e,n){if(typeof t>"u"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof e=="function"&&(n=e,e=null),e=$e({},j.defaults,e||{}),_l(e),n){const i=e.highlight;let s;try{s=Le.lex(t,e)}catch(a){return n(a)}const o=function(a){let c;if(!a)try{e.walkTokens&&j.walkTokens(s,e.walkTokens),c=Ce.parse(s,e)}catch(u){a=u}return e.highlight=i,a?n(a):n(null,c)};if(!i||i.length<3||(delete e.highlight,!s.length))return o();let l=0;j.walkTokens(s,function(a){a.type==="code"&&(l++,setTimeout(()=>{i(a.text,a.lang,function(c,u){if(c)return o(c);u!=null&&u!==a.text&&(a.text=u,a.escaped=!0),l--,l===0&&o()})},0))}),l===0&&o();return}function r(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+se(i.message+"",!0)+"</pre>";throw i}try{const i=Le.lex(t,e);if(e.walkTokens){if(e.async)return Promise.all(j.walkTokens(i,e.walkTokens)).then(()=>Ce.parse(i,e)).catch(r);j.walkTokens(i,e.walkTokens)}return Ce.parse(i,e)}catch(i){r(i)}}j.options=j.setOptions=function(t){return $e(j.defaults,t),rb(j.defaults),j};j.getDefaults=pl;j.defaults=Rt;j.use=function(...t){const e=j.defaults.extensions||{renderers:{},childTokens:{}};t.forEach(n=>{const r=$e({},n);if(r.async=j.defaults.async||r.async,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const s=e.renderers[i.name];s?e.renderers[i.name]=function(...o){let l=i.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:e.renderers[i.name]=i.renderer}if(i.tokenizer){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),n.renderer){const i=j.defaults.renderer||new di;for(const s in n.renderer){const o=i[s];i[s]=(...l)=>{let a=n.renderer[s].apply(i,l);return a===!1&&(a=o.apply(i,l)),a}}r.renderer=i}if(n.tokenizer){const i=j.defaults.tokenizer||new ui;for(const s in n.tokenizer){const o=i[s];i[s]=(...l)=>{let a=n.tokenizer[s].apply(i,l);return a===!1&&(a=o.apply(i,l)),a}}r.tokenizer=i}if(n.walkTokens){const i=j.defaults.walkTokens;r.walkTokens=function(s){let o=[];return o.push(n.walkTokens.call(this,s)),i&&(o=o.concat(i.call(this,s))),o}}j.setOptions(r)})};j.walkTokens=function(t,e){let n=[];for(const r of t)switch(n=n.concat(e.call(j,r)),r.type){case"table":{for(const i of r.header)n=n.concat(j.walkTokens(i.tokens,e));for(const i of r.rows)for(const s of i)n=n.concat(j.walkTokens(s.tokens,e));break}case"list":{n=n.concat(j.walkTokens(r.items,e));break}default:j.defaults.extensions&&j.defaults.extensions.childTokens&&j.defaults.extensions.childTokens[r.type]?j.defaults.extensions.childTokens[r.type].forEach(function(i){n=n.concat(j.walkTokens(r[i],e))}):r.tokens&&(n=n.concat(j.walkTokens(r.tokens,e)))}return n};j.parseInline=function(t,e){if(typeof t>"u"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=$e({},j.defaults,e||{}),_l(e);try{const n=Le.lexInline(t,e);return e.walkTokens&&j.walkTokens(n,e.walkTokens),Ce.parseInline(n,e)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+se(n.message+"",!0)+"</pre>";throw n}};j.Parser=Ce;j.parser=Ce.parse;j.Renderer=di;j.TextRenderer=wl;j.Lexer=Le;j.lexer=Le.lex;j.Tokenizer=ui;j.Slugger=xl;j.parse=j;j.options;j.setOptions;j.use;j.walkTokens;j.parseInline;Ce.parse;Le.lex;const vb=x('<div><table class="w-full text-sm text-left text-gray-500 dark:text-gray-400 mt-4"><thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"><tr><th scope="col" class="py-3 px-6">Name</th><th scope="col" class="py-3 px-6">Type</th><th scope="col" class="py-3 px-6">Description</th></tr></thead><tbody></tbody></table></div>'),yb=x('<tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700"><th scope="row" class="py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white"></th><td class="py-4 px-6"></td><td class="py-4 px-6"></td></tr>');function kl(t){return(()=>{const e=vb.cloneNode(!0),n=e.firstChild,r=n.firstChild,i=r.nextSibling;return d(i,f(oe,{get each(){return t.outputColumns},children:s=>(()=>{const o=yb.cloneNode(!0),l=o.firstChild,a=l.nextSibling,c=a.nextSibling;return d(l,()=>s.title),d(a,()=>s.type),d(c,()=>s.desc,null),d(c,f(B,{get when(){return s.table},get children(){return f(kl,{get outputColumns(){return s.table_headers}})}}),null),o})()})),e})()}const _b=x('<div><h3 class="text-lg font-semibold mt-8">Developer information</h3><div class="overflow-hidden bg-white shadow sm:rounded-lg mt-4"><div class="border-t border-gray-200 px-4 py-5 sm:px-6"><dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"><div class="sm:col-span-1"><dt class="text-sm font-medium text-gray-500">Name</dt><dd class="mt-1 text-sm text-gray-900"></dd></div><div class="sm:col-span-1"><dt class="text-sm font-medium text-gray-500">Organization</dt><dd class="mt-1 text-sm text-gray-900"></dd></div><div class="sm:col-span-1"><dt class="text-sm font-medium text-gray-500">Email address</dt><dd class="mt-1 text-sm text-gray-900"><a></a></dd></div><div class="sm:col-span-1"><dt class="text-sm font-medium text-gray-500">Website</dt><dd class="mt-1 text-sm text-gray-900"><a></a></dd></div><div class="sm:col-span-2"><dt class="text-sm font-medium text-gray-500">Citation</dt><dd class="mt-1 text-sm text-gray-900"></dd></div></dl></div></div> </div>');function wb(t){return(()=>{const e=_b.cloneNode(!0),n=e.firstChild,r=n.nextSibling,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.nextSibling,c=o.nextSibling,u=c.firstChild,m=u.nextSibling,g=c.nextSibling,h=g.firstChild,b=h.nextSibling,y=b.firstChild,p=g.nextSibling,v=p.firstChild,_=v.nextSibling,w=_.firstChild,I=p.nextSibling,N=I.firstChild,E=N.nextSibling;return d(a,()=>t.module.name),d(m,()=>t.module.organization),d(y,()=>t.module.email),d(w,()=>t.module.website),d(E,()=>t.module.citation),T(A=>{const S="mailto:"+t.module.email,C=t.module.website;return S!==A._v$&&G(y,"href",A._v$=S),C!==A._v$2&&G(w,"href",A._v$2=C),A},{_v$:void 0,_v$2:void 0}),e})()}const xb=x('<div><h3 class="text-lg font-semibold mt-8">Data information</h3><div class="overflow-hidden bg-white shadow sm:rounded-lg mt-4"><div class="border-t border-gray-200 px-4 py-5 sm:px-6"><dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"><div class="sm:col-span-1"><dt class="text-sm font-medium text-gray-500">Name</dt><dd class="mt-1 text-sm text-gray-900"></dd></div><div class="sm:col-span-1"><dt class="text-sm font-medium text-gray-500">Organization</dt><dd class="mt-1 text-sm text-gray-900"></dd></div><div class="sm:col-span-1"><dt class="text-sm font-medium text-gray-500">Email address</dt><dd class="mt-1 text-sm text-gray-900"><a></a></dd></div><div class="sm:col-span-1"><dt class="text-sm font-medium text-gray-500">Website</dt><dd class="mt-1 text-sm text-gray-900"><a></a></dd></div><div class="sm:col-span-2"><dt class="text-sm font-medium text-gray-500">Citation</dt><dd class="mt-1 text-sm text-gray-900"></dd></div></dl></div></div> </div>');function kb(t){return(()=>{const e=xb.cloneNode(!0),n=e.firstChild,r=n.nextSibling,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.nextSibling,c=o.nextSibling,u=c.firstChild,m=u.nextSibling,g=c.nextSibling,h=g.firstChild,b=h.nextSibling,y=b.firstChild,p=g.nextSibling,v=p.firstChild,_=v.nextSibling,w=_.firstChild,I=p.nextSibling,N=I.firstChild,E=N.nextSibling;return d(a,()=>t.data.name),d(m,()=>t.data.organization),d(y,()=>t.data.email),d(w,()=>t.data.website),d(E,()=>t.data.citation),T(A=>{const S="mailto:"+t.data.email,C=t.data.website;return S!==A._v$&&G(y,"href",A._v$=S),C!==A._v$2&&G(w,"href",A._v$2=C),A},{_v$:void 0,_v$2:void 0}),e})()}const $b=x('<div class="absolute w-full h-full bg-white opacity-1 top-0 left-0 z-30"><div class="absolute opacity-1 top-[5vh] left-[10vw] w-[80vw] h-[80vh] overflow-auto bg-gray-50 z-30 m-4 p-8"><img class="w-0 top-0 right-0 rounded-lg"><div class="-ml-1 mb-2"><span class="relative inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"></span><span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"></span><span class="inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800">Installed</span><span class="inline-flex items-center rounded-full bg-yellow-100 px-2.5 py-0.5 text-xs font-medium text-yellow-800">Update available</span></div><div class="readme opacity-1 list-decimal mb-8"></div><h3 class="text-lg font-semibold">Module output</h3></div><div class="absolute top-0 right-0 cursor-pointer"></div></div>'),Sb=/img src=\"(?!http)/g;function Ib(){const{detailModuleName:t,setDetailModuleName:e,showDetailCard:n,setShowDetailCard:r}=gl,{serverUrl:i}=Q,[s,{mutate:o,refetch:l}]=Yt(t,h),{remoteModules:a}=Fe,{installed:c,updateAvailableForModule:u}=nt,[m,g]=k(null);ie(function(){t()!=null&&g(a[t()])});async function h(y){try{const p=await V.get(i+"/store/getreadme",{params:{module_name:y}});let v=j.parse(p.data);return v=v.replace(Sb,'img src="https://karchinlab.org/cravatstore/modules/'+y+"/"+m().latest_version+"/"),v}catch(p){console.error(p),Z(p)}}function b(){r(!1),e(null),o(null)}return f(B,{get when(){return ge(()=>!!n())()&&s()!=null},get children(){const y=$b.cloneNode(!0),p=y.firstChild,v=p.firstChild,_=v.nextSibling,w=_.firstChild,I=w.nextSibling,N=I.nextSibling,E=N.nextSibling,A=_.nextSibling;A.nextSibling;const S=p.nextSibling;return d(w,()=>m().type),d(I,()=>cl(m().size)),d(p,f(kl,{get outputColumns(){return m().output_columns}}),null),d(p,f(wb,{get module(){return m().developer.module}}),null),d(p,f(kb,{get data(){return m().developer.data}}),null),S.$$click=b,d(S,f(oi,{color:"rgb(107 114 128)",size:64})),T(C=>{const O=`${i}/store/remotelogo?module=${m().name}&store=${m().store}`,P=!c(t()),z=!u(t()),R=s();return O!==C._v$&&G(v,"src",C._v$=O),P!==C._v$2&&N.classList.toggle("hidden",C._v$2=P),z!==C._v$3&&E.classList.toggle("hidden",C._v$3=z),R!==C._v$4&&(A.innerHTML=C._v$4=R),C},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),y}})}F(["click"]);const Tb=x('<div class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true"><div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div class="relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:p-6"><div><div class="mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100"><svg class="h-6 w-6 text-green-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5"></path></svg></div><div class="mt-3 text-center sm:mt-5"><h3 class="text-lg font-medium leading-6 text-gray-900"></h3><div class="mt-2"><p class="text-sm text-gray-500"></p></div></div></div><div class="mt-5 sm:mt-6"><button type="button" class="inline-flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:text-sm">Dismiss</button></div></div></div></div></div>');function $l(t){return(()=>{const e=Tb.cloneNode(!0),n=e.firstChild,r=n.nextSibling,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.nextSibling,c=a.firstChild,u=c.nextSibling,m=u.firstChild,g=o.nextSibling,h=g.firstChild;return d(c,()=>t.title),d(m,()=>t.text),Mn(h,"click",t.callback,!0),e})()}F(["click"]);const Cb=x('<div id="error-dialog" class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true"><div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div><div><div class="mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100"><svg class="h-6 w-6 text-red-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M12 10.5v3.75m-9.303 3.376C1.83 19.126 2.914 21 4.645 21h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 4.88c-.866-1.501-3.032-1.501-3.898 0L2.697 17.626zM12 17.25h.007v.008H12v-.008z"></path></svg></div><div class="mt-3 text-center sm:mt-5"><h3 class="text-lg font-medium leading-6 text-gray-900"></h3><div class="mt-2"><p class="text-sm text-gray-500"></p></div></div></div><div class="mt-5 sm:mt-6"><button type="button" class="inline-flex w-full justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:text-sm">Dismiss</button></div></div></div></div></div>');function fi(t){const{showErrorDialog:e,setShowErrorDialog:n,errorDialogTitle:r,errorDialogText:i,getErrorText:s,showDismiss:o}=tn;let l=t.width;return l||(l="[48rem]"),f(B,{get when(){return e()},get children(){const a=Cb.cloneNode(!0),c=a.firstChild,u=c.nextSibling,m=u.firstChild,g=m.firstChild,h=g.firstChild,b=h.firstChild,y=b.nextSibling,p=y.firstChild,v=p.nextSibling,_=v.firstChild,w=h.nextSibling,I=w.firstChild;return ct(g,`relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:p-6 w-${l}`),d(p,r),d(_,s),I.$$click=n,I.$$clickData=!1,T(N=>{const E={"sm:max-w-3xl":i().length>200},A=!o();return N._v$=Br(g,E,N._v$),A!==N._v$2&&w.classList.toggle("hidden",N._v$2=A),N},{_v$:void 0,_v$2:void 0}),a}})}F(["click"]);const Eb=x('<div><div class="mt-4"><label for="email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email</label><input type="email" name="email" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white" placeholder="name@company.com" required></div><div><span class="text-orange-500"></span></div><div class="mt-4"><label for="password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Password</label><input type="password" name="password" placeholder="\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white" required></div><div><span class="text-orange-500"></span></div></div>');function Sl(t){const{email:e,password:n,setEmail:r,setPassword:i,errorInEmail:s,errorInPassword:o,checkEmailAndPassword:l,emailErrorMsg:a,passwordErrorMsg:c}=ht;function u(){return!s()&&!o()}function m(h){r(h.target.value),l(),h.keyCode==13&&u()&&t.submit("email")}function g(h){i(h.target.value),l(),h.keyCode==13&&u()&&t.submit("email")}return(()=>{const h=Eb.cloneNode(!0),b=h.firstChild,y=b.firstChild,p=y.nextSibling,v=b.nextSibling,_=v.firstChild,w=v.nextSibling,I=w.firstChild,N=I.nextSibling,E=w.nextSibling,A=E.firstChild;return p.$$keyup=m,d(_,a),N.$$keyup=g,d(A,c),T(()=>p.value=e()),T(()=>N.value=n()),h})()}F(["keyup"]);const Nb=x('<div class="flex"><div><a href="#">Forgot password?</a><button type="submit" class="flex justify-center w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-4"><div class="flex"><p>Sign in</p></div></button></div></div>');function Il(t){const[e,n]=k(!1),[r,i]=k(!1),[s,o]=k(null),[l,a]=k(null),{setShowErrorDialog:c,setErrorDialogTitle:u,setErrorDialogText:m}=tn,g={"auth/user-not-found":"Account was not found. Please sign up first.","auth/account-exists-with-different-credential":"Account exists with different credential.","auth/wrong-password":"Wrong password. Please check your password or use Forget Your Password? link.","auth/missing-email":"Please provide an email address.","missing-password":"Please provide a password.","account-exists":"Account already exists.","auth/too-many-requests":"Too many failed attempts. Wait for a while and try again, or use Forgot your password? link."},{email:h,password:b,errorInEmail:y}=ht,{auth:p}=Jn;let v=()=>{i(!1)};function _(E,A){if(E.response&&(E=E.response.data),E.code=="auth/popup-closed-by-user"){n(!1);return}u(A);let S=g[E.code];S?m(S):(m("Error code: "+E.code),console.error(E)),c(!0)}function w(){n(!0),Hd(p(),h(),b()).then(function(E){n(!1),t.signedInCallback&&t.signedInCallback()}).catch(function(E){_(E,"Login failed"),n(!1)})}function I(){y()||Bd(p(),h()).then(function(){o("Success"),a("Please check your email for a password reset link."),i(!0)}).catch(function(E){_(E,"Password reset failed")})}function N(){return t.width?t.width:"64"}return(()=>{const E=Nb.cloneNode(!0),A=E.firstChild,S=A.firstChild,C=S.nextSibling,O=C.firstChild,P=O.firstChild;return d(A,f(Sl,{submit:w}),S),S.$$click=I,C.$$click=w,d(O,f(ci,{get show(){return e()}}),P),d(E,f(fi,{}),null),d(E,f(B,{get when(){return r()},get children(){return f($l,{get title(){return s()},get text(){return l()},callback:v})}}),null),T(z=>{const R="w-["+N()+"rem]",U="text-sm font-medium text-blue-600 hover:underline dark:text-primary-500"+t.addlClass,q=!!y(),H=!!y();return R!==z._v$&&ct(A,z._v$=R),U!==z._v$2&&ct(S,z._v$2=U),q!==z._v$3&&S.classList.toggle("pointer-events-none",z._v$3=q),H!==z._v$4&&S.classList.toggle("text-blue-100",z._v$4=H),z},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),E})()}F(["click"]);const Ab=x('<div class="flex"><div><div><button id="signup_btn" type="submit" class="flex justify-center mt-4 flex w-full justify-center rounded-md border border-transparent py-2 px-4 text-sm font-medium text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"><div class="flex"><p>Sign up</p></div></button></div></div></div>');function Tl(t){const[e,n]=k(!1),[r,i]=k(!1),[s,o]=k(null),[l,a]=k(null),{setShowErrorDialog:c,setErrorDialogTitle:u,setErrorDialogText:m}=tn,g={"auth/user-not-found":"Account was not found. Please sign up first.","auth/account-exists-with-different-credential":"Account exists with different credential.","auth/wrong-password":"Wrong password. Please check your password or use Forget Your Password? link.","auth/missing-email":"Please provide an email address.","missing-password":"Please provide a password.","account-exists":"Account already exists.","auth/too-many-requests":"Too many failed attempts. Wait for a while and try again, or use Forgot your password? link."},{serverUrl:h,withCredentials:b}=Q,{email:y,password:p,errorInEmail:v,errorInPassword:_}=ht,{setLogged:w,setShowAuth:I}=he;let N=()=>{i(!1)};function E(){return t.width?t.width:"64"}function A(){return!v()&&!_()}function S(O,P){if(O.response&&(O=O.response.data),O.code=="auth/popup-closed-by-user")return;u(P);let z=g[O.code];z?m(z):(m("Error code: "+O.code),console.error(O)),c(!0)}function C(){n(!0),V.post(h+"/server/signup",{email:y(),password:p(),newSetup:t.newSetup},{withCredentials:b}).then(function(O){o("Success"),a(O.data.code),N=()=>{n(!1),w(!0),i(!1),I(!1),t.next&&t.next()},i(!0)}).catch(function(O){S(O,"Signup failed"),n(!1)})}return(()=>{const O=Ab.cloneNode(!0),P=O.firstChild,z=P.firstChild,R=z.firstChild,U=R.firstChild,q=U.firstChild;return d(P,f(Sl,{submit:C}),z),R.$$click=C,d(U,f(ci,{get show(){return e()}}),q),d(O,f(fi,{width:36}),null),d(O,f(B,{get when(){return r()},get children(){return f($l,{get title(){return s()},get text(){return l()},callback:N})}}),null),T(H=>{const K="w-["+E()+"rem]",W={"bg-indigo-600":A(),"hover:bg-indigo-700":A(),"bg-gray-500":!A()},ue=!A();return K!==H._v$&&ct(P,H._v$=K),H._v$2=Br(R,W,H._v$2),ue!==H._v$3&&(R.disabled=H._v$3=ue),H},{_v$:void 0,_v$2:void 0,_v$3:void 0}),O})()}F(["click"]);const Ob=x('<div class="h-screen w-screen grid place-items-center fixed z-10 top-0 left-0 bg-white opacity-97"><div class="absolute top-0 right-0 cursor-pointer"></div><div><div><div class="flex justify-center text-sm mt-4 underline"><a href="#">Sign up</a></div></div><div><div class="flex justify-center text-sm mt-4 underline"><a href="#">Sign in</a></div></div></div></div>');let mr=null;function Db(t){const[e,n]=k("signin"),{logged:r,showAuth:i,setShowAuth:s,afterLogin:o,afterLogout:l,setReloginChecked:a}=he,{multiuser:c}=me,{auth:u}=Jn,{setAppLoading:m}=Gn,{systemSetupNeeded:g}=Fn;ie(function(){mr==null&&m(!0),c()==!0&&u()||g()?!mr&&c()&&r()!=!0&&(mr=Jd(u(),function(p){p?(o(p),a(!0)):l()})):a(!0)});function h(){n("signup")}function b(){n("signin")}function y(p){s(!1)}return(()=>{const p=Ob.cloneNode(!0),v=p.firstChild,_=v.nextSibling,w=_.firstChild,I=w.firstChild,N=I.firstChild,E=w.nextSibling,A=E.firstChild,S=A.firstChild;return v.$$click=y,d(v,f(oi,{color:"rgb(107 114 128)",size:64})),d(w,f(Il,{width:"36"}),I),N.$$click=h,d(E,f(Tl,{width:"36"}),A),S.$$click=b,T(C=>{const O=!i(),P=e()!="signin",z=e()!="signup";return O!==C._v$&&p.classList.toggle("hidden",C._v$=O),P!==C._v$2&&w.classList.toggle("hidden",C._v$2=P),z!==C._v$3&&E.classList.toggle("hidden",C._v$3=z),C},{_v$:void 0,_v$2:void 0,_v$3:void 0}),p})()}F(["click"]);const Rb=x('<div class="h-screen"></div>');function Pb(){const{appLoading:t}=Gn;return(()=>{const e=Rb.cloneNode(!0);return d(e,f(yg,{}),null),d(e,f(nb,{}),null),d(e,f(Ib,{}),null),d(e,f(Db,{}),null),T(()=>e.classList.toggle("hidden",!!t())),e})()}const Mb=x('<div class="h-screen w-screen grid place-items-center"><img class="h-96 animate-pulse"></div>');function Lb(){const{serverUrl:t}=Q,{appLoading:e}=Gn;return(()=>{const n=Mb.cloneNode(!0),r=n.firstChild;return G(r,"src",t+"/submit/images/logo_transparent.png"),T(()=>n.classList.toggle("hidden",!e())),n})()}const Ub=x('<div tabindex="-1" class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class="h-28"><p class="mt-8">Welcome to OakVar!</p><p class="mt-4">Get ready to explore the world of genomics like never before with OakVar!</p><p class="mt-4">With our platform, you can effortlessly analyze your own genome or dive into exciting new research with genome data.</p><p class="mt-4">Say goodbye to complicated processes and hello to a new world of discovery.</p><p class="mt-4">- Oak Bioinformatics, LLC</p><button type="submit" class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-4">Start</button></div></div></div></div>');function jb(t){const{serverUrl:e}=Q;function n(){t.setPageNo(2)}return(()=>{const r=Ub.cloneNode(!0),i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.nextSibling,c=a.nextSibling,u=c.nextSibling,m=u.nextSibling,g=m.nextSibling,h=g.nextSibling;return G(l,"src",e+"/submit/images/logo.png"),h.$$click=n,T(()=>r.classList.toggle("hidden",t.pageNo!=1)),r})()}F(["click"]);const Fb=x('<div tabindex="-1" class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class="h-28"><div class="flex flex-col mt-4">Do you already have an OakVar account?<button class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-4">Yes</button><button class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-4">No</button></div></div></div></div></div>');function zb(t){const{serverUrl:e,withCredentials:n}=Q,r=2;function i(){t.setPrevPageNo(r),t.setPageNo(4)}function s(){t.setPrevPageNo(r),t.setPageNo(3)}return(()=>{const o=Fb.cloneNode(!0),l=o.firstChild,a=l.firstChild,c=a.firstChild,u=c.firstChild,m=u.nextSibling,g=m.firstChild,h=g.nextSibling,b=h.nextSibling;return d(c,f(cn,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,t.prevPageNo]}}),u),G(u,"src",e+"/submit/images/logo.png"),h.$$click=i,b.$$click=s,T(()=>o.classList.toggle("hidden",t.pageNo!=r)),o})()}F(["click"]);const Bb=x(`<div tabindex="-1" class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class="h-28"><p class="mt-4">Welcome back! We're so glad to see you again. Please go ahead and sign in. We've been waiting for you!</p></div></div></div></div>`);function Hb(t){const{serverUrl:n}=Q;function r(){t.setPrevPageNo(4),t.setPageNo(5)}return(()=>{const i=Bb.cloneNode(!0),s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.firstChild;return a.nextSibling,d(l,f(cn,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,2]}}),a),G(a,"src",n+"/submit/images/logo.png"),d(l,f(Il,{signedInCallback:r}),null),T(()=>i.classList.toggle("hidden",t.pageNo!=4)),i})()}const Vb=x(`<div tabindex="-1" class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class="h-28"><p class="mt-4">In order to use our platform, you'll need to create an OakVar store account.</p><p class="mt-4">Simply enter your email and choose a password to get started.</p><p class="mt-4">Rest assured, your information is safe with us and will only be used for your OakVar experience and communication between us.</p></div></div></div></div>`);function Wb(t){const{serverUrl:n}=Q;function r(){t.setPageNo(5)}return(()=>{const i=Vb.cloneNode(!0),s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.firstChild;return a.nextSibling.nextSibling.nextSibling,d(l,f(cn,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,2]}}),a),G(a,"src",n+"/submit/images/logo.png"),d(l,f(Tl,{next:r,newSetup:!0}),null),T(()=>i.classList.toggle("hidden",t.pageNo!=3)),i})()}const qb=x("<span>Change</span>"),Jb=x('<div><div class="mt-4"><label class="block text-sm font-semibold text-gray-700 underline decoration-dotted cursor-help"></label><div class="mt-1 flex rounded-md shadow-sm"><div class="relative flex flex-grow items-stretch focus-within:z-10"><input class="block w-full rounded-none rounded-l-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"></div><button type="button" class="relative -ml-px inline-flex items-center space-x-2 rounded-r-md border border-gray-300 bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"></button></div><p class="mt-2 text-sm text-blue-400"></p></div></div>'),Gb=x("<span>Set</span>");function gn(t){const{serverUrl:e}=Q,[n,r]=k(!0),[i,s]=k(null);let o=null;ie(function(){!n()||l(t.dir)});function l(g){if(g==null)return"";V.get(e+"/submit/checkserverdir",{params:{dir:g}}).then(function(h){h.data.exists==!1?s("This directory will be created."):s(null)}).catch(function(h){Z(h)})}function a(g){t.setDir(g.target.value),g.keyCode==13&&r(!0)}function c(g){r(!n()),o.focus()}function u(g){t.setTooltipText(t.help),t.setTooltipTop(g.clientY),t.setTooltipShow(!0)}function m(g){t.setTooltipShow(!1)}return(()=>{const g=Jb.cloneNode(!0),h=g.firstChild,b=h.firstChild,y=b.nextSibling,p=y.firstChild,v=p.firstChild,_=p.nextSibling,w=y.nextSibling;b.addEventListener("mouseleave",m),b.addEventListener("mouseenter",u),d(b,()=>t.title);const I=o;return typeof I=="function"?Hr(I,v):o=v,v.$$keyup=a,_.$$click=c,d(_,f(B,{get when(){return n()},get fallback(){return Gb.cloneNode(!0)},get children(){return qb.cloneNode(!0)}})),d(w,i),T(()=>v.disabled=n()),T(()=>v.value=t.dir),g})()}F(["keyup","click"]);const Kb=x(`<div tabindex="-1" class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class="h-28"><p class="mt-4">OakVar needs to store system configuration and data files. Don't worry, we've got your back with pre-selected default locations. If you need to make any adjustment, feel free to do so. And if everything looks good, just hit the "Start setup" button.</p><div class="mt-4 mb-4 flex"><div class="ml-4">A quick heads up about the modules directory - to get the most out of your OakVar experience, we recommend having at least 2GB of storage space available. And if you're planning on diving into some larger annotation modules, keep in mind that they can take up a substantial amount of space, potentially reaching over 100GB.</div></div><div class="mt-4"><button type="submit" class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Start setup</button></div></div></div></div></div>`);function Qb(t){const{serverUrl:n}=Q,{email:r,password:i}=ht,[s,o]=k(null),[l,a]=k(null),[c,u]=k(null),[m,g]=k(null),[h,b]=k(null),[y,p]=k(!1),[v,_]=k(0);ie(function(){s()==null&&I(),l()==null&&N(),c()==null&&E(),m()==null&&A()});function w(S){S.preventDefault(),t.setSetupData({email:r(),pw:i(),root_dir:s(),modules_dir:l(),jobs_dir:c(),log_dir:m(),setupToStart:!0}),t.setPrevPageNo(5),t.setPageNo(6)}function I(){V.get(n+"/submit/rootdir").then(function(S){o(S.data.root_dir)}).catch(function(S){console.error(S)})}function N(){V.get(n+"/submit/modulesdir").then(function(S){a(S.data.modules_dir)}).catch(function(S){console.error(S)})}function E(){V.get(n+"/submit/jobsdir").then(function(S){u(S.data.jobs_dir)}).catch(function(S){console.error(S)})}function A(){V.get(n+"/submit/logdir").then(function(S){g(S.data.log_dir)}).catch(function(S){console.error(S)})}return(()=>{const S=Kb.cloneNode(!0),C=S.firstChild,O=C.firstChild,P=O.firstChild,z=P.firstChild,R=z.nextSibling,U=R.nextSibling,q=U.firstChild,H=U.nextSibling,K=H.firstChild;return d(P,f(cn,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,2]}}),z),G(z,"src",n+"/submit/images/logo.png"),d(U,f(Tg,{class:"inline",size:"28",color:"#fb923c"}),q),d(P,f(gn,{title:"System root directory",get dir(){return s()},setDir:o,setTooltipShow:p,setTooltipText:b,setTooltipTop:_,help:"OakVar system files will be created in this directory. By default, directories for configuration, modules, and jobs will be created under this directory. However, each of them can be assigned to a different location using the input boxes following this one."}),H),d(P,f(gn,{title:"Modules directory",get dir(){return l()},setDir:a,setTooltipShow:p,setTooltipText:b,setTooltipTop:_,help:"OakVar is a modular system. Conversion, mapping, annotation, and reporting are done by modules. Among OakVar system files, module files are the biggest, which can take up to hundreds of GB according to your choice."}),H),d(P,f(gn,{title:"Jobs directory",get dir(){return c()},setDir:u,setTooltipShow:p,setTooltipText:b,setTooltipTop:_,help:"Jobs will be stored in this directory"}),H),d(P,f(gn,{title:"Log directory",get dir(){return m()},setDir:g,setTooltipShow:p,setTooltipText:b,setTooltipTop:_,help:"System logs will be stored in this directory"}),H),K.$$click=w,d(S,f(ml,{get text(){return h()},get tooltipShow(){return y()},get tooltipTop(){return v()}}),null),T(()=>S.classList.toggle("hidden",t.pageNo!=5)),S})()}F(["click"]);const Xb=x(`<div class="mt-4 w-full flex items-center justify-center flex flex-col"><div><p class="mt-4">Congratulations, you're now ready to start using OakVar!</p><p class="mt-4">All the setup is finished and it's time to dive into the exciting world of genetics.</p><p class="mt-4">Simply click the button below and let the journey begin!</p></div><button type="button" class="mt-8 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">Enter OakVar!</button></div>`),Yb=x('<div tabindex="-1" class="fixed top-0 left-0 right-0 z-0 w-full h-full p-4 md:inset-0 flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm p-6"><div class="px-6 py-6 lg:px-8"><img class="h-28"></div></div></div></div>'),Zb=x(`<div><p class="mt-4">We're getting OakVar all set up for you!</p><p class="mt-4">Just sit back and relax for a moment while we take care of everything.</p><p class="mt-4">We'll let you know as soon as we're ready for you.</p><div class="mt-4 w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700"><div class="bg-blue-600 h-2.5 rounded-full"></div></div><p class="mt-2"></p><div class="mt-4 text-xs p-6 h-[24rem] overflow-auto font-mono whitespace-pre"><div class="relative"><div></div></div></div></div>`),ev=x("<p></p>");function tv(t){const{systemMsg:n,setSystemMsg:r}=sl,{serverUrl:i,withCredentials:s}=Q,{getSetupStageMsg:o,setSetupStateMsg:l}=ol,[a,c]=we([]),[u,m]=k(0);let g=null,h=0,b=0,y=null;ie(function(){t.setupData&&t.setupData.setupToStart==!0&&(t.setSetupData({...t.setupData,setupToStart:!1}),p()),n()!=null&&(c([...a,...n()]),r(null),setTimeout(function(){g.scrollTo(0,99999)},100));const _=o();if(_!=y)if(y=_,_=="Logging in...")m(10);else if(_=="Setting up store cache...")m(20);else if(_=="Setting up administrative database...")m(50);else if(_=="Installing system modules...")m(60);else if(_.startsWith("Installed")||_.includes("already exists")){b+=1;const w=60+b/h*40;m(w)}else _=="Done setting up the system."&&m(100)});function p(){b=0,y=null,l(""),V.get(i+"/submit/basemodules",{withCredentials:s}).then(function(_){h=_.data.length,V.post(i+"/submit/startsetup",t.setupData,{withCredentials:s}).then(function(w){}).catch(function(w){Z(w)})}).catch(function(_){Z(_)})}function v(){window.location.reload()}return(()=>{const _=Yb.cloneNode(!0),w=_.firstChild,I=w.firstChild,N=I.firstChild,E=N.firstChild;return d(N,f(cn,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,t.prevPageNo]}}),E),G(E,"src",i+"/submit/images/logo.png"),d(N,f(B,{get when(){return u()==100},get fallback(){return(()=>{const A=Zb.cloneNode(!0),S=A.firstChild,C=S.nextSibling,O=C.nextSibling,P=O.nextSibling,z=P.firstChild,R=P.nextSibling,U=R.nextSibling,q=U.firstChild,H=q.firstChild;d(R,o);const K=g;return typeof K=="function"?Hr(K,U):g=U,d(H,f(oe,{each:a,children:W=>(()=>{const ue=ev.cloneNode(!0);return d(ue,()=>W.msg),ue})()})),T(()=>z.style.setProperty("width",u()+"%")),A})()},get children(){const A=Xb.cloneNode(!0),S=A.firstChild,C=S.nextSibling;return C.$$click=v,A}}),null),T(()=>_.classList.toggle("hidden",t.pageNo!=6)),_})()}F(["click"]);const nv=x('<div tabindex="-1" class="fixed top-0 left-0 right-0 z-0 w-full"></div>');function rv(){const[t,e]=k(1),[n,r]=k(1),[i,s]=we({});return(()=>{const o=nv.cloneNode(!0);return d(o,f(jb,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:i,setSetupData:s}),null),d(o,f(zb,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:i,setSetupData:s}),null),d(o,f(Wb,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:i,setSetupData:s}),null),d(o,f(Hb,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:i,setSetupData:s}),null),d(o,f(Qb,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:i,setSetupData:s}),null),d(o,f(tv,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:i,setSetupData:s}),null),o})()}function iv(){const{serverUrl:t}=Q,{logged:e,setLogged:n}=he,{multiuser:r,setMultiuser:i}=me,{setAppLoading:s}=Gn,{systemSetupNeeded:o}=Fn,{reloginChecked:l}=he;i(null),n(null),ie(function(){r()==null&&c(),r()==!0&&e()==null&&u(),(r()!=null&&e()!=null&&l()==!0||r()==!1&&e()==!0)&&s(!1)});function a(){V.get(t+"/server/deletetoken").then(function(){}).catch(function(m){Z(m)})}function c(){V.get(t+"/submit/servermode").then(function(m){i(m.data.servermode),r()||(a(),n(!0))}).catch(function(m){Z(m)})}function u(){V.get(t+"/submit/loginstate").then(function(m){n(m.data.loggedin)}).catch(function(m){Z(m)})}return[f(B,{get when(){return!o()},get fallback(){return f(rv,{})},get children(){return[f(Lb,{}),f(Pb,{})]}}),f(fi,{width:"[64rem]"})]}la(()=>f(iv,{}),document.getElementById("root"));
